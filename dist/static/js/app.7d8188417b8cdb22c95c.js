webpackJsonp([1],{"+Uz+":function(t,e){},"0Hcs":function(t,e){},"1azo":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAjCAYAAAAe2bNZAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkVCQTlBQUE2N0I0QTExRTg5MDlBRDdGMTRBNkUxQkJCIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkVCQTlBQUE3N0I0QTExRTg5MDlBRDdGMTRBNkUxQkJCIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RUJBOUFBQTQ3QjRBMTFFODkwOUFEN0YxNEE2RTFCQkIiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RUJBOUFBQTU3QjRBMTFFODkwOUFEN0YxNEE2RTFCQkIiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5T3d8dAAACM0lEQVR42uyXP0hVURzHPZVU6qA4lA9STAWxxaVwKLGIBw7pkETQ4BItDb6SBF2UBoeI/iw56KuhRsXBTVMcjBwKlEIlkAoEzaFeEFpg3j4/+AkS8e65517zDffAhy/v3XN+93t+59zfudd4npeXK+1AXg612ExsJmg7FGbwxf6NfOQhzL3sKRja78wcg5twLReWSTL7Hb79VzMsyQmo+OvvbfD+0bcMTu6JGQI3IsuQtozbJf0Zdz1SMwQ8i0zAFvRbxk2r+UHGt0diRpYGGdOfSZ6YKZug9HuPNMFbeEqchigycxeKIcUNZoKknP4rSIfeIx3KDLOpQa7CPIEHXJ4Oxr1CXkAd8ZrBuGbmMhyBez7jjY+nx6o3NMtOZs6ojmfp8xOOQmGW7LxBMnAaal2PgxL4CptZ+qyDPL4ffbLzDqpB6tRrFzNGZ26yzFqK3nOL7bOpxdF5z8jAw/A7gkp/UON5rmY+6VKVhjzZ5R6n9PxacjUzoddbQ2blHBwHKZiLrmYmdTapkGZuq46wx345mWHgqtaIalLd67hEl5AWGCXedNjj4AFInegj8JWARuqRZ/AFbtmMMX4fcQRNIHIuVUI33GeWWz5j5KR+ogXxgk1WrMxo8CpkGGS2H+CRnuaZXd2kDJyHTmjQa20YmbTNprH9vMVQEXJH33l3Hvc1fduTllD9ocb7MPI5yNKaoN/a+o6TBHn7K99VVWXDz0pJwMSCy4Y38Yd/bCY2E1H7I8AA0TioSb/ixJEAAAAASUVORK5CYII="},"2jIy":function(t,e){},"3g8w":function(t,e){},"5Vzw":function(t,e){},"691u":function(t,e){},"6AtQ":function(t,e){},"6OuE":function(t,e){},"777I":function(t,e){},"7IYT":function(t,e){},"7VeV":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAABkCAIAAADCEmNlAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjJGQzUwNzZEN0FCRTExRTg5NDZGRkY0QkNEMDQ2NzVEIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjJGQzUwNzZFN0FCRTExRTg5NDZGRkY0QkNEMDQ2NzVEIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MkZDNTA3NkI3QUJFMTFFODk0NkZGRjRCQ0QwNDY3NUQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MkZDNTA3NkM3QUJFMTFFODk0NkZGRjRCQ0QwNDY3NUQiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5PPAoIAAADjklEQVR42uyda8/pQBSFldKqe+L6/38cQhG0dSnOSpucc+LSl3cuZaz1QYSYdB579l6z22KFYVig1KtIBARN0BRBEzRBUwRN0BRBEzRBUwRN0BRBEzRBUwRN0BRBEzRBUwRtjGwpo0RRtFqt9vv95XKxLMsMNOlcHMdpt9vValVwNEv8uo71eu37Pp5UKpVisYjjMwM0KJ/P58PhgOfdbrfRaOQZ0cfjEZTBdzAYuK5r3pLf7XbT6XQ+nyOobfv3uERz9GazwWOv1zOSMoR5YXZ/Z5ob6HRlmUo5FdI0HlGB8ncdxuRl2juCpgj6SvBqH79heWfBgMLpo5QBNGwoKluz2SyXywQt3wX/H8sgvt1u4dg8z2PqkBbLk8nkNmPgldlsdjqdTIhoRA0cvty+B0wktmftdvv5Y3jkO8Eaoa0zqFWBxjSwbFWM/Dzo7OqnuTaqAm3bNiqP9GFfKmLZrQmRxsUbgUZlF2x3iSuO4+wMrrNzoAq0lShf0FEUZb+rMxRMdh2lUinj3UqlQnsnrWw+WlX4Dmq1GkHLEbzgIwPXarU0bw4N73XU6/U7cy4WNYez+aC9RFcvdjodzd6u8A3du9uip7+j9BWg05NtVw5a/2GY3L3b7XabzebWTS8WC7yILRU2LNrMvq1ukip6HVj1P9axtM0ShuGjA7hcLmEiZBVkcOAWvz4mN9BBEKzXa+nDOo6TARpkl8vl81/wIVEhOYuPCql0R64qR6voKBUyO0Hb7XY8Hv9uGeFT+KyKyFAe0TCwWOZycZ/P50eGAfVtNpsJju/7PoJa0dZcFehyIm11b7VayRqn3+/T3j2M9OxG3Us5RNEJARNAo6DJOgGIcW59N0H/K7yy7DDGUVXGzdhkj0Yj2GdB3PDXsI8fVgw1y0n01suuQBE0QVNvk6OPiT7xDi2URNRD6WcGFF4SJmu3pl+dTuf566FyTh35Xoz8hgevKqJd143j+ENTh4p+qSrQtUSsgXQdBE3QFEETNCUL9PfcnCw4U1HQxvwMys+kxE4IiIJOvX0QBAYjTmcnuIsRBd1oNBDUvu9n3Gv20ekC88LsMMe7VwC/sPTFf+oniqLJZJKmEf2XwypVHMdp9AyHQ8HLxiwp/5WV3m+NoT66l3Q3L3ueJ+XecYt/SkYfTdAUQRM0QVMETdAUQRM0QVMETdAUQRM0QVMETdAUQRM0QVMETdDUa/ojwAD4ln+r49K+JQAAAABJRU5ErkJggg=="},"7bqc":function(t,e){},"86XM":function(t,e){},"9XA7":function(t,e){},"9yuW":function(t,e){},BKBB:function(t,e){},C0hH:function(t,e){},"CE2/":function(t,e){},CRDJ:function(t,e){},DnyK:function(t,e){},DyjB:function(t,e){},EBzG:function(t,e){},"GbT/":function(t,e){},"Ge+x":function(t,e){},HHfJ:function(t,e){},HRm1:function(t,e){},I41n:function(t,e){},JGoV:function(t,e){},MhQX:function(t,e){},N7TY:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("MVMM"),n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var s=a("vSla")({name:"App"},n,!1,function(t){a("86XM")},null,null).exports,i=a("zO6J"),o={data:function(){return{activeIndex:"",company_name:"",name:""}},created:function(){this.activeIndex=this.$route.name},mounted:function(){this.name=localStorage.getItem("name"),this.company_name=localStorage.getItem("company_name")},methods:{cancel:function(){this.$router.push({name:"login"})},handleSelect:function(t){this.$router.push({name:t})},menuOpen:function(t){this.handleSelect(t)}}},l={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"box"},[r("div",{staticClass:"title"},[t._m(0),t._v(" "),r("span",{staticClass:"top-name"},[t._v(t._s(t.company_name)+"\n    ")]),t._v(" "),r("span",{staticClass:"top-one"},[t._v("个人名称: "+t._s(t.name)+"\n    ")]),t._v(" "),r("span",{on:{click:t.cancel}},[r("el-button",{staticClass:"top-text",attrs:{type:"text"}},[r("img",{staticClass:"top-img",attrs:{src:a("1azo")}}),t._v("退出")])],1)]),t._v(" "),r("el-menu",{staticClass:"sidebar-menu",attrs:{"default-active":t.activeIndex},on:{open:t.menuOpen,close:t.menuOpen}},[r("el-menu-item",{staticClass:"text",attrs:{index:"project"},on:{click:function(e){t.handleSelect("project")}}},[r("i",{staticClass:"icon-project"}),t._v("项目管理")]),t._v(" "),r("el-menu-item",{staticClass:"text",attrs:{index:"distribution"},on:{click:function(e){t.handleSelect("distribution")}}},[r("i",{staticClass:"icon-distribution"}),t._v("分销管理")]),t._v(" "),r("el-menu-item",{staticClass:"text",attrs:{index:"peopleProject"},on:{click:function(e){t.handleSelect("peopleProject")}}},[r("i",{staticClass:"icon-peopleProject"}),t._v("全民项目管理")]),t._v(" "),r("el-menu-item",{staticClass:"text",attrs:{index:"commission"},on:{click:function(e){t.handleSelect("commission")}}},[r("i",{staticClass:"icon-commission"}),t._v("项目佣金管理")]),t._v(" "),r("el-menu-item",{staticClass:"text",attrs:{index:"distri_commission"},on:{click:function(e){t.handleSelect("distri_commission")}}},[r("i",{staticClass:"icon-distri_commission"}),t._v("分销佣金管理")]),t._v(" "),r("el-submenu",{attrs:{index:""}},[r("template",{slot:"title"},[r("span",{staticClass:"delent"},[r("i",{staticClass:"icon-agent"}),t._v("经纪人管理")])]),t._v(" "),r("el-menu-item",{staticClass:"people",attrs:{index:"agent"},on:{click:function(e){t.handleSelect("agent")}}},[t._v("在职经纪人")]),t._v(" "),r("el-menu-item",{staticClass:"people",attrs:{index:"examinePeople"},on:{click:function(e){t.handleSelect("examinePeople")}}},[t._v("审核经纪人")]),t._v(" "),r("el-menu-item",{staticClass:"people",attrs:{index:"quitPeople"},on:{click:function(e){t.handleSelect("quitPeople")}}},[t._v("离职经纪人")])],2)],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"tou"},[e("img",{staticClass:"img",attrs:{src:a("iQH9")}})])}]};var c={data:function(){return{}},components:{VueSideBar:a("vSla")(o,l,!1,function(t){a("R6+e"),a("I41n")},"data-v-3177ee06",null).exports}},p={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("vue-side-bar"),this._v(" "),e("div",{staticClass:"wrapper"},[e("div",{staticClass:"wrapper-inner"},[e("router-view")],1)])],1)},staticRenderFns:[]};var u=a("vSla")(c,p,!1,function(t){a("EBzG")},"data-v-35966d99",null).exports,m=a("lC5x"),d=a.n(m),_=a("J0Oq"),b=a.n(_),v={data:function(){return{submitForm:{account:"",password:""}}},mounted:function(){var t=this;window.onkeydown=function(e){"13"==e.keyCode&&t.login()}},methods:{login:function(){var t=this;return b()(d.a.mark(function e(){var a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(""!=t.submitForm.account){e.next=3;break}return t.$message({type:"error",message:"请输入账号"}),e.abrupt("return");case 3:if(""!=t.submitForm.password){e.next=6;break}return t.$message({type:"error",message:"请输入密码"}),e.abrupt("return");case 6:if(!(t.submitForm.password.length>20)){e.next=9;break}return t.$message({type:"error",message:"密码长度必须小于20个字符"}),e.abrupt("return");case 9:if(!(t.submitForm.account.length>20)){e.next=12;break}return t.$message({type:"error",message:"账号长度必须小于20个字符"}),e.abrupt("return");case 12:return localStorage.setItem("token",""),e.next=15,t.api.gitCode(t.submitForm);case 15:200==(a=e.sent).code&&(t.$router.push({name:"project"}),localStorage.setItem("name",a.data.name),localStorage.setItem("company_name",a.data.company_name),localStorage.setItem("token",a.data.token));case 17:case"end":return e.stop()}},e,t)}))()}}},f={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"title"},[a("div",[t._v("欢迎使用！")]),t._v(" "),a("div",{staticClass:"input-row"},[a("el-input",{staticClass:"input",attrs:{placeholder:"请输入账号"},model:{value:t.submitForm.account,callback:function(e){t.$set(t.submitForm,"account",e)},expression:"submitForm.account"}})],1),t._v(" "),a("div",{staticClass:"input-row"},[a("el-input",{staticClass:"input",attrs:{type:"password",placeholder:"请输入密码"},model:{value:t.submitForm.password,callback:function(e){t.$set(t.submitForm,"password",e)},expression:"submitForm.password"}})],1),t._v(" "),a("el-button",{staticClass:"button",attrs:{type:"primary",round:""},on:{click:t.login}},[t._v("登陆")]),t._v(" "),t._m(0)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"bottom-text"},[e("span",{staticClass:"text"},[this._v("忘记密码")]),this._v(" "),e("img",{staticClass:"img",attrs:{src:a("wwKk")}}),this._v(" "),e("span",{staticClass:"text"},[this._v("注册")])])}]};var h=a("vSla")(v,f,!1,function(t){a("gmdE")},"data-v-63512170",null).exports,g={data:function(){return{searchObj:{search:"",tag_search:"",page:1},tipActiveIndex:0,pageSize:0,name:"",company_name:"",total:0,tableData:[],operationType:0}},mounted:function(){this.getProjectList()},methods:{getIndex:function(t){return t.$index+1+(this.searchObj.page-1)*this.pageSize},clickTip:function(t){this.tipActiveIndex=t,this.searchObj.tag_search=t,this.search()},search:function(){this.searchObj.page=1,this.getProjectList()},getProjectList:function(){var t=this;return b()(d.a.mark(function e(){var a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.api.getProjectList(t.searchObj);case 2:200==(a=e.sent).code&&(t.tableData=a.data.data,t.total=a.data.total,t.pageSize=a.data.per_page);case 4:case"end":return e.stop()}},e,t)}))()},projectState:function(t){return 0==t?"未管理":1==t?"管理中":2==t?"已转新房":3==t?"已转二手房":void 0},authenticationState:function(t){return 0==t?"未认证":1==t?"已认证":void 0},scopeState:function(t){return 1==t?"自行申请":2==t?"平台分配":void 0},auditingState:function(t){return 0==t?"拒绝":1==t?"通过":2==t?"待审核":void 0},pageChange:function(t){this.searchObj.page=t,this.getProjectList()},showAdd:function(t,e){var a=this;return b()(d.a.mark(function r(){return d.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:0==t?a.$router.push({name:"addProject",params:{operationType:t}}):1==t?a.$router.push({name:"addProject",params:{operationType:t,project_id:e.project_id}}):2==t?(console.log(e),a.$router.push({name:"addProject",params:{operationType:t,project_id:e.project_id}})):3==t&&a.$router.push({name:"reCreateProject",params:{operationType:t,project_id:e.project_id}});case 1:case"end":return r.stop()}},r,a)}))()}}},y={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"box project"},[a("div",{staticClass:"title"},[a("div",{staticClass:"left"},[a("div",{staticClass:"tab-block"},[a("div",{staticClass:"text1"},[t._v("当前位置：项目管理")]),t._v(" "),a("div",{staticClass:"tab-block-inner"},[a("el-input",{staticClass:"query",attrs:{placeholder:"可按项目编号/项目名称进行查询"},model:{value:t.searchObj.search,callback:function(e){t.$set(t.searchObj,"search",e)},expression:"searchObj.search"}}),t._v(" "),a("el-button",{attrs:{icon:"el-icon-search",circle:""},on:{click:t.search}}),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.showAdd(0)}}},[t._v("新增")])],1)]),t._v(" "),a("div",[a("el-button",{staticClass:"tip",class:0==t.tipActiveIndex?"active":"",attrs:{type:"text"},on:{click:function(e){t.clickTip(0)}}},[t._v("全部")]),t._v(" "),a("el-button",{staticClass:"tip",class:1==t.tipActiveIndex?"active":"",attrs:{type:"text"},on:{click:function(e){t.clickTip(1)}}},[t._v("待审核")]),t._v(" "),a("el-button",{staticClass:"tip",class:2==t.tipActiveIndex?"active":"",attrs:{type:"text"},on:{click:function(e){t.clickTip(2)}}},[t._v("审核不通过")]),t._v(" "),a("el-button",{staticClass:"tip",class:3==t.tipActiveIndex?"active":"",attrs:{type:"text"},on:{click:function(e){t.clickTip(3)}}},[t._v("未认证")]),t._v(" "),a("el-button",{staticClass:"tip",class:4==t.tipActiveIndex?"active":"",attrs:{type:"text"},on:{click:function(e){t.clickTip(4)}}},[t._v("已认证")]),t._v(" "),a("el-button",{staticClass:"tip",class:5==t.tipActiveIndex?"active":"",attrs:{type:"text"},on:{click:function(e){t.clickTip(5)}}},[t._v("已转出")])],1)])]),t._v(" "),[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{prop:"",label:"序号",align:"center",width:"70px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.getIndex(e)))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"project_code",label:"项目编号",align:"center",width:"90px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"project_name",label:"项目名称",align:"center",width:"140px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"state",label:"项目状态",align:"center",width:"90px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.projectState(e.row.state)))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"city",label:"区域",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"developer_name",label:"开发商",align:"center",width:"150px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"company_relation",label:"与项目关系",align:"center",width:"150px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"subordinate_company",label:"所属单位",align:"center",width:"200px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"source",label:"来源",align:"center",width:"80px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.scopeState(e.row.source)))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"auth_state",label:"认证状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.authenticationState(e.row.auth_state)))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"check_state",label:"审核状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.auditingState(e.row.check_state)))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"130px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.showAdd(2,e.row)}}},[t._v("查看")]),t._v(" "),1==e.row.check_state||2==e.row.check_state?a("el-button",{attrs:{type:"text"},on:{click:function(a){t.showAdd(1,e.row)}}},[t._v("修改")]):t._e(),t._v(" "),0==e.row.check_state?a("el-button",{attrs:{type:"text"},on:{click:function(a){t.showAdd(3,e.row)}}},[t._v("重新申请")]):t._e()]}}])})],1),t._v(" "),a("el-pagination",{staticClass:"page",attrs:{background:"",layout:"prev, pager, next","page-size":t.pageSize,"current-page":t.searchObj.page,total:t.total},on:{"current-change":t.pageChange}})]],2)},staticRenderFns:[]};var x=a("vSla")(g,y,!1,function(t){a("W5cg"),a("ymSd")},"data-v-9488d5fa",null).exports,k={data:function(){return{searchObj:{search:"",page:1},tableData:[],pageSize:0,total:0}},mounted:function(){this.getList()},methods:{getList:function(){var t=this;return b()(d.a.mark(function e(){var a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.api.getPeopleList(t.searchObj);case 2:200==(a=e.sent).code&&(t.tableData=a.data.data,t.pageSize=a.data.per_page,t.total=a.data.total);case 4:case"end":return e.stop()}},e,t)}))()},showProject:function(t){this.$router.push({name:"peopleProjectInfo",params:{project_id:t.project_id,rule_id:t.rule_id}})},fastDistribution:function(t){this.$router.push({name:"peopleFastDistribution",params:{project_id:t.project_id}})},getIndex:function(t){return t.$index+1+(this.searchObj.page-1)*this.pageSize},search:function(){this.searchObj.page=1,this.getList()},pageChange:function(t){this.searchObj.page=t,this.getList()}}},C={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"peopleProject"},[a("div",[a("div",{staticClass:"title"},[a("div",{staticClass:"left"},[a("div",{staticClass:"tab-block"},[a("div",{staticClass:"text1"},[t._v("当前位置：全民项目管理")]),t._v(" "),a("div",{staticClass:"tab-block-inner"},[a("el-input",{staticClass:"query",attrs:{placeholder:"可按项目编号/项目名称进行查询"},model:{value:t.searchObj.search,callback:function(e){t.$set(t.searchObj,"search",e)},expression:"searchObj.search"}}),t._v(" "),a("el-button",{attrs:{icon:"el-icon-search",circle:""},on:{click:t.getList}})],1)])])]),t._v(" "),a("el-table",{staticClass:"mt-30",staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{prop:"",label:"序号",align:"center",width:"70px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.getIndex(e)))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"project_code",label:"项目编号",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"project_name",label:"项目名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"city",label:"区域",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"is_distribution",label:"分配状态",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"operation",label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.showProject(e.row)}}},[t._v("查看")]),t._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){t.fastDistribution(e.row)}}},[t._v("分配到访确认人")])]}}])})],1),t._v(" "),a("el-pagination",{staticClass:"page",attrs:{background:"",layout:"prev, pager, next","page-size":t.pageSize,"current-page":t.searchObj.page,total:t.total},on:{"current-change":t.pageChange}})],1)])},staticRenderFns:[]};var j=a("vSla")(k,C,!1,function(t){a("yp/z"),a("GbT/")},"data-v-556874b3",null).exports,w={data:function(){return{page:1,pageSize:0,total:0,pageSize1:0,total1:0,maintain:[],examine:[],project_id:"",agent_id:"",operationType:0}},mounted:function(){this.project_id=this.$route.params.project_id,this.project_id?this.getAgent():this.$router.push({name:"peopleProject"})},methods:{remove:function(t){var e=this;this.$confirm("此操作将结束到访确认人的权利, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(b()(d.a.mark(function a(){return d.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.api.endAgent({agent_id:t.agent_id});case 2:200==a.sent.code&&(e.$message({type:"success",message:"结束成功!"}),e.getAgent());case 4:case"end":return a.stop()}},a,e)}))).catch(function(){e.$message({type:"info",message:"已取消结束到访确认人的权利"})})},getAgent:function(){var t=this;return b()(d.a.mark(function e(){var a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.api.getAgent({project_id:t.project_id});case 2:200==(a=e.sent).code&&(t.maintain=a.data.y_info.data,t.examine=a.data.n_info.data,t.total=a.data.y_info.total,t.pageSize=a.data.y_info.per_page,t.total1=a.data.n_info.total,t.pageSize1=a.data.n_info.per_page);case 4:case"end":return e.stop()}},e,t)}))()},getIndex:function(t){return t.$index+1+(this.page-1)*this.pageSize},pageChange:function(t){this.page=t,this.getAgent()},cancel:function(){this.$router.push({name:"peopleProject"})},showAdd:function(t,e){var a=this;return b()(d.a.mark(function r(){return d.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:0==t?a.$router.push({name:"peopleAddPerson",params:{project_id:a.project_id,operationType:t,agent_id:e.agent_id}}):1==t?a.$router.push({name:"peopleAddPerson",params:{agent_id:e.agent_id,operationType:t,project_id:e.project_id,ex_id:e.ex_id}}):2==t&&a.$router.push({name:"peopleAddPerson",params:{agent_id:e.agent_id,operationType:t}});case 1:case"end":return r.stop()}},r,a)}))()},state:function(t){return 0==t?"禁用":1==t?"正常":void 0},authenticationState:function(t){return 2==t?"待审核":0==t?"未通过 ":1==t?"审核通过 ":void 0},addShow:function(){this.$router.push({name:"peopleAddPerson",params:{project_id:this.project_id}})}}},F={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"fastDistribution"},[a("div",{staticClass:"table"},[a("div",{staticClass:"title"},[a("div",{staticClass:"text"},[t._v("到访确认人维护信息")]),t._v(" "),a("span",{staticClass:"search"},[a("el-button",{staticClass:"addBtn",attrs:{type:"primary"},on:{click:t.addShow}},[t._v("新增")]),t._v(" "),a("el-button",{staticClass:"addBtn",attrs:{type:"primary"},on:{click:t.cancel}},[t._v("关闭")])],1)]),t._v(" "),a("el-table",{attrs:{data:t.maintain,border:""}},[a("el-table-column",{attrs:{prop:"nub",label:"序号",align:"center",width:"70px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.getIndex(e)))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"account",label:"云算号",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"tel",label:"联系方式",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"department",label:"所属部门",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"position",label:"职位",align:"center",width:"120px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"entry_time",label:"入职时间",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"分配时间",align:"center",width:"160px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"state",label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.state(e.row.state)))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"operation",label:"操作",align:"center",width:"140px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.showAdd(0,e.row)}}},[t._v("查看")]),t._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){t.remove(e.row)}}},[t._v("结束")])]}}])})],1),t._v(" "),a("el-pagination",{staticClass:"page",attrs:{background:"",layout:"prev, pager, next","page-size":t.pageSize,"current-page":t.page,total:t.total},on:{"current-change":t.pageChange}})],1)])},staticRenderFns:[]};var A=a("vSla")(w,F,!1,function(t){a("CRDJ"),a("pUAJ")},"data-v-12c38c64",null).exports,S=a("aA9S"),I=a.n(S),$={data:function(){return{submitForm:{entry_time:"",tabsolute_addressel:"",birth:"",tel:"",sex:"",position:"",department:"",account:"",name:"",project_id:"",agent_id:"",fp_name:"",fp_time:"",remark:"",ex_id:"",type:0},remark:"",refuseInfo:!1,operationType:0}},mounted:function(){this.operationType=this.$route.params.operationType,this.ex_id=this.$route.params.ex_id,this.type=this.$route.params.type,this.project_id=this.$route.params.project_id,this.agent_id=this.$route.params.agent_id,(this.agent_id||this.$route.params.agentInfo)&&(void 0===this.$route.params.agentInfo?this.getAgentInfo():(this.agent_id=this.$route.params.agentInfo.agent_id,this.getAgentInfo()))},methods:{exAgent:function(t){var e=this;return b()(d.a.mark(function a(){var r;return d.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(e.submitForm.type=t,(r=I()({},e.submitForm)).agent_id=e.agent_id,r.ex_id=e.ex_id,r.project_id=e.project_id,r.type=t,r.remark=e.remark,0!=t){a.next=15;break}return e.refuseInfo=!0,a.next=11,e.api.exAgent(r);case 11:200==a.sent.code&&(e.close(),e.cancelRefuseInfo(),e.getAgentInfo()),a.next=16;break;case 15:e.$confirm("此操作将审核成功, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(b()(d.a.mark(function t(){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.api.exAgent(r);case 2:200==t.sent.code&&(e.$message({type:"success",message:"审核成功!"}),e.close(),e.cancelRefuseInfo(),e.getAgentInfo());case 4:case"end":return t.stop()}},t,e)}))).catch(function(){e.$message({type:"info",message:"已取消审核"})});case 16:case"end":return a.stop()}},a,e)}))()},cancelRefuseInfo:function(){this.refuseInfo=!1,this.remark=""},sumbit:function(){var t=this;return b()(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.submitForm.project_id=t.project_id,t.submitForm.agent_id=t.agent_id,e.next=4,t.api.agentAdd(t.submitForm);case 4:200==e.sent.code&&(t.$message({type:"success",message:"选择到访确认人成功!"}),t.$route.params.backUrl?t.$router.push({name:t.$route.params.backUrl,params:t.$route.params}):t.$router.push({name:"peopleFastDistribution",params:{submitForm:t.submitForm}}));case 6:case"end":return e.stop()}},e,t)}))()},isDisable:function(){return 1!=this.operationType&&(0!=this.operationType&&2!=this.operationType)},getAgentInfo:function(){var t=this;return b()(d.a.mark(function e(){var a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.api.getAgentInfo({agent_id:t.agent_id});case 2:200==(a=e.sent).code&&I()(t.submitForm,a.data);case 4:case"end":return e.stop()}},e,t)}))()},sex:function(t){return 1==t?"男":2==t?"女":0==t?"未设置":void 0},choice:function(){this.$router.push({name:"peopleChoicePeople",params:{project_id:this.project_id}})},close:function(){this.$router.push({name:"peopleFastDistribution",params:this.$route.params})}}},T={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"addPerson"},[a("div",{staticClass:"box"},[a("span",{staticClass:"num_set"},[t._v("到访确认人信息")]),t._v(" "),a("span",{staticClass:"btn"},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:0!=t.operationType,expression:"operationType!=0"}],attrs:{type:"primary"},on:{click:t.sumbit}},[t._v("确定")]),t._v(" "),1==t.operationType?a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.exAgent(1)}}},[t._v("审核通过")]):t._e(),t._v(" "),1==t.operationType?a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.exAgent(0)}}},[t._v("审核不通过")]):t._e(),t._v(" "),a("el-button",{staticClass:"btn-1",on:{click:t.close}},[t._v("返回")])],1),t._v(" "),a("el-form",{model:{value:t.submitForm,callback:function(e){t.submitForm=e},expression:"submitForm"}},[a("el-form-item",{staticClass:"input1"},[a("div",[t._v("到访确认人")]),t._v(" "),a("div",{staticClass:"border"},[t._v(t._s(t.submitForm.name))])]),t._v(" "),a("span",[0!=t.operationType?a("el-button",{staticClass:"button",attrs:{type:"primary"},on:{click:t.choice}},[t._v("选择")]):t._e()],1),t._v(" "),a("div",{staticClass:"num_set"},[t._v("员工信息")]),t._v(" "),a("el-form",{model:{value:t.submitForm,callback:function(e){t.submitForm=e},expression:"submitForm"}},[a("el-form-item",{staticClass:"input1"},[a("div",[t._v("姓名")]),t._v(" "),a("div",{staticClass:"border"},[t._v(t._s(t.submitForm.name))])]),t._v(" "),a("el-form-item",{staticClass:"input1"},[a("div",[t._v("入职时间")]),t._v(" "),a("div",{staticClass:"border"},[t._v(t._s(t.submitForm.entry_time))])]),t._v(" "),a("el-form-item",{staticClass:"input1"},[a("div",[t._v("云算号")]),t._v(" "),a("div",{staticClass:"border"},[t._v(t._s(t.submitForm.account))])]),t._v(" "),a("el-form-item",{staticClass:"input1"},[a("div",[t._v("所属部门")]),t._v(" "),a("div",{staticClass:"border"},[t._v(t._s(t.submitForm.department))])]),t._v(" "),a("el-form-item",{staticClass:"input1"},[a("div",[t._v("职位")]),t._v(" "),a("div",{staticClass:"border"},[t._v(t._s(t.submitForm.position))])]),t._v(" "),a("div",{staticClass:"num_set"},[t._v("基础信息")]),t._v(" "),a("el-form-item",{staticClass:"input1"},[a("div",[t._v("性别")]),t._v(" "),a("div",{staticClass:"border"},[t._v("\n            "+t._s(t.sex(t.submitForm.sex))+"\n          ")])]),t._v(" "),a("el-form-item",{staticClass:"input1"},[a("div",[t._v("电话号码")]),t._v(" "),a("div",{staticClass:"border"},[t._v(t._s(t.submitForm.tel))])]),t._v(" "),a("el-form-item",{staticClass:"input1"},[a("div",[t._v("出生年月")]),t._v(" "),a("div",{staticClass:"border"},[t._v(t._s(t.submitForm.birth))])]),t._v(" "),a("el-form-item",{staticClass:"input1"},[a("div",[t._v("通讯地址")]),t._v(" "),a("div",{staticClass:"border width"},[t._v(t._s(t.submitForm.province+t.submitForm.district+t.submitForm.city+t.submitForm.absolute_address))])]),t._v(" "),0==t.operationType?a("div",[a("div",{staticClass:"num_set"},[t._v("分配信息")]),t._v(" "),a("el-form-item",{staticClass:"input1"},[a("div",[t._v("分配人")]),t._v(" "),a("div",{staticClass:"border"},[t._v(t._s(t.submitForm.fp_name))])]),t._v(" "),a("el-form-item",{staticClass:"input1"},[a("div",[t._v("分配时间")]),t._v(" "),a("div",{staticClass:"border"},[t._v(t._s(t.submitForm.fp_time))])]),t._v(" "),a("el-form-item",{staticClass:"input1-br"},[a("div",[t._v("备注")]),t._v(" "),a("div",{staticClass:"border width-1"},[t._v(t._s(t.submitForm.remark))])])],1):t._e()],1)],1),t._v(" "),a("el-dialog",{staticClass:"dialog",attrs:{title:"拒绝",visible:t.refuseInfo},on:{"update:visible":function(e){t.refuseInfo=e},close:t.cancelRefuseInfo}},[a("el-form",[a("el-form-item",{attrs:{label:"审核不通过原因"}},[a("el-input",{staticClass:"textarea",attrs:{type:"textarea"},model:{value:t.remark,callback:function(e){t.remark=e},expression:"remark"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.cancelRefuseInfo}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.exAgent(0)}}},[t._v("确 定")])],1)],1)],1)])},staticRenderFns:[]};var P=a("vSla")($,T,!1,function(t){a("HRm1")},"data-v-f039b4a6",null).exports,O={data:function(){return{agentInfo:[],project_id:"",agent_id:"",searchObj:{search:"",page:1},pageSize:0,total:0}},mounted:function(){this.project_id=this.$route.params.project_id,this.agentList()},methods:{getIndex:function(t){return t.$index+1},agentList:function(){var t=this;return b()(d.a.mark(function e(){var a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.api.agentList(t.searchObj);case 2:200==(a=e.sent).code&&(t.agentInfo=a.data);case 4:case"end":return e.stop()}},e,t)}))()},submit:function(t){this.$router.push({name:"peopleAddPerson",params:{agentInfo:t,agent_id:t.agent_id,project_id:this.project_id}})},close:function(){this.$router.push({name:"peopleAddPerson",params:this.$route.params})}}},R={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"addPerson"},[a("div",{staticClass:"box"},[a("div",{staticClass:"title"},[a("span",{staticClass:"num_set"},[t._v("选择经纪人")]),t._v(" "),a("span",{staticClass:"search-block"},[a("el-input",{staticClass:"query",attrs:{placeholder:"可按云算号/经纪人姓名进行查询"},model:{value:t.searchObj.search,callback:function(e){t.$set(t.searchObj,"search",e)},expression:"searchObj.search"}}),t._v(" "),a("el-button",{attrs:{icon:"el-icon-search",circle:""},on:{click:t.agentList}}),t._v(" "),a("span",{staticClass:"btn"},[a("el-button",{on:{click:t.close}},[t._v("返回")])],1)],1)]),t._v(" "),a("el-table",{attrs:{data:t.agentInfo,border:""}},[a("el-table-column",{attrs:{label:"序号",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.getIndex(e)))]}}])}),t._v(" "),a("el-table-column",{attrs:{property:"account",label:"云算号",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"name",label:"经纪人名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"tel",label:"联系电话",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"120px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.submit(e.row)}}},[t._v("选择")])]}}])})],1)],1)])},staticRenderFns:[]};var B=a("vSla")(O,R,!1,function(t){a("jsfx"),a("nlFm")},"data-v-bf4de158",null).exports,D=a("HzJ8"),U=a.n(D),E={props:["province","city","district","disabled"],computed:{province_id:function(){return this.getCityList(),this.province},city_id:function(){return this.getdistrictList(),this.city},district_id:function(){return this.district}},data:function(){return{provinceOptions:[],cityOptions:[],districtOptions:[]}},mounted:function(){this.getProvinceList()},methods:{getProvinceList:function(){var t=this;return b()(d.a.mark(function e(){var a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.api.getProvinceList();case 2:200==(a=e.sent).code&&(t.provinceOptions=a.data);case 4:case"end":return e.stop()}},e,t)}))()},getCityList:function(){var t=this;return b()(d.a.mark(function e(){var a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.province){e.next=3;break}return t.cityOptions=[],e.abrupt("return");case 3:return e.next=5,t.api.getCityList({provinceCode:t.province});case 5:200==(a=e.sent).code&&(t.cityOptions=a.data);case 7:case"end":return e.stop()}},e,t)}))()},getdistrictList:function(){var t=this;return b()(d.a.mark(function e(){var a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.city){e.next=3;break}return t.districtOptions=[],e.abrupt("return");case 3:return e.next=5,t.api.getDistrictList({cityCode:t.city});case 5:200==(a=e.sent).code&&(t.districtOptions=a.data);case 7:case"end":return e.stop()}},e,t)}))()},changeProvince:function(t){this.$emit("update:province",t),this.$emit("update:city",""),this.$emit("update:district","")},changeCity:function(t){this.$emit("update:city",t),this.$emit("update:district","")},changedistrict:function(t){this.$emit("update:district",t);var e="",a="",r="",n=!0,s=!1,i=void 0;try{for(var o,l=U()(this.provinceOptions);!(n=(o=l.next()).done);n=!0){var c=o.value;c.code==this.province_id&&(e=c.name)}}catch(t){s=!0,i=t}finally{try{!n&&l.return&&l.return()}finally{if(s)throw i}}var p=!0,u=!1,m=void 0;try{for(var d,_=U()(this.cityOptions);!(p=(d=_.next()).done);p=!0){var b=d.value;b.code==this.city_id&&(a=b.name)}}catch(t){u=!0,m=t}finally{try{!p&&_.return&&_.return()}finally{if(u)throw m}}var v=!0,f=!1,h=void 0;try{for(var g,y=U()(this.districtOptions);!(v=(g=y.next()).done);v=!0){var x=g.value;x.code==t&&(r=x.name)}}catch(t){f=!0,h=t}finally{try{!v&&y.return&&y.return()}finally{if(f)throw h}}var k="";k=e.indexOf("市")>-1?e+r:e+a+r,this.$emit("changeDistrict",k)}}},z={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-select",{staticClass:"select-1",attrs:{clearable:"",value:t.province_id,placeholder:"请选择省份",disabled:t.disabled},on:{change:t.changeProvince}},t._l(t.provinceOptions,function(t){return a("el-option",{key:t.code,attrs:{label:t.name,value:t.code}})})),t._v(" "),a("el-select",{staticClass:"select-1",attrs:{clearable:"",value:t.city_id,placeholder:"请选择城市",disabled:t.disabled},on:{change:t.changeCity}},t._l(t.cityOptions,function(t){return a("el-option",{key:t.code,attrs:{label:t.name,value:t.code}})})),t._v(" "),a("el-select",{staticClass:"select-1",attrs:{clearable:"",value:t.district_id,placeholder:"请选择区/县",disabled:t.disabled},on:{change:t.changedistrict}},t._l(t.districtOptions,function(t){return a("el-option",{key:t.code,attrs:{label:t.name,value:t.code}})}))],1)},staticRenderFns:[]};var L=a("vSla")(E,z,!1,function(t){a("CE2/")},"data-v-ab32dec4",null).exports,M={data:function(){return{submitForm:{province:"",city:"",district:"",project_id:"",rule_id:"",auditProject:{},property_tags:[],state:""},peopleInfo:[],project_id:"",rule_id:"",typeOptions:[],gridData:[]}},mounted:function(){this.project_id=this.$route.params.project_id,this.rule_id=this.$route.params.rule_id,this.$route.params.project_id?(this.getProjectDetail(),this.getType()):this.$router.push({name:"peopleProject"})},methods:{getProjectDetail:function(){var t=this;return b()(d.a.mark(function e(){var a,r,n,s,i,o,l,c,p,u;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(a={}).project_id=t.project_id,a.rule_id=t.rule_id,e.next=5,t.api.getPeopleRole(a);case 5:if(200!=(r=e.sent).code){e.next=33;break}for(I()(t.submitForm,r.data.project),n=r.data.project.property_tags,s=[],i=!0,o=!1,l=void 0,e.prev=13,c=U()(n);!(i=(p=c.next()).done);i=!0)u=p.value,s.push(u.property_tag_id);e.next=21;break;case 17:e.prev=17,e.t0=e.catch(13),o=!0,l=e.t0;case 21:e.prev=21,e.prev=22,!i&&c.return&&c.return();case 24:if(e.prev=24,!o){e.next=27;break}throw l;case 27:return e.finish(24);case 28:return e.finish(21);case 29:console.log(t.submitForm.property_tags),t.submitForm.property_tags=s,t.gridData.push(r.data.broker),t.peopleInfo=r.data.agent;case 33:case"end":return e.stop()}},e,t,[[13,17,21,29],[22,,24,28]])}))()},getType:function(){var t=this;return b()(d.a.mark(function e(){var a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.api.getTags();case 2:200==(a=e.sent).code&&(t.typeOptions=a.data);case 4:case"end":return e.stop()}},e,t)}))()},getIndex:function(t){return t.$index+1},seeShow:function(t){this.$router.push({name:"peopleRuleOfMaid",params:{project_id:this.$route.params.project_id,rule_id:t.rule_id}})},cancel:function(){this.$router.push({name:"peopleProject"})}},components:{CitySelector:L}},N={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"projectInfo"},[a("div",{staticClass:"title-text"},[t._v("项目分销详情\n    "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.cancel}},[t._v("关 闭")])],1)]),t._v(" "),a("el-form",{staticClass:"form",attrs:{model:t.submitForm,disabled:"disabled"}},[a("div",[a("el-form-item",{staticClass:"input",attrs:{label:"项目编号"}},[a("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入项目编号"},model:{value:t.submitForm.project_code,callback:function(e){t.$set(t.submitForm,"project_code",e)},expression:"submitForm.project_code"}})],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"项目名称"}},[a("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入项目名称"},model:{value:t.submitForm.project_name,callback:function(e){t.$set(t.submitForm,"project_name",e)},expression:"submitForm.project_name"}})],1)],1),t._v(" "),a("div",{staticClass:"text"},[t._v("物业类型")]),t._v(" "),a("el-form-item",{attrs:{prop:"property_tags"}},t._l(t.typeOptions,function(e){return a("el-checkbox",{key:e.param_id,attrs:{label:e.param_id},model:{value:t.submitForm.property_tags,callback:function(e){t.$set(t.submitForm,"property_tags",e)},expression:"submitForm.property_tags"}},[t._v(t._s(e.param))])})),t._v(" "),a("div",{staticClass:"text"},[t._v("现住地址")]),t._v(" "),a("el-form-item",[a("city-selector",{attrs:{province:t.submitForm.province,city:t.submitForm.city,district:t.submitForm.district},on:{"update:province":function(e){t.$set(t.submitForm,"province",e)},"update:city":function(e){t.$set(t.submitForm,"city",e)},"update:district":function(e){t.$set(t.submitForm,"district",e)}}}),t._v(" "),a("el-input",{staticClass:"input1",model:{value:t.submitForm.absolute_address,callback:function(e){t.$set(t.submitForm,"absolute_address",e)},expression:"submitForm.absolute_address"}})],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"项目负责人"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.submitForm.project_hold_name,callback:function(e){t.$set(t.submitForm,"project_hold_name",e)},expression:"submitForm.project_hold_name"}})],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"联系电话"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.submitForm.project_hold_phone,callback:function(e){t.$set(t.submitForm,"project_hold_phone",e)},expression:"submitForm.project_hold_phone"}})],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"开发商"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.submitForm.developer_name,callback:function(e){t.$set(t.submitForm,"developer_name",e)},expression:"submitForm.developer_name"}})],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"结佣单位"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.submitForm.statement_company,callback:function(e){t.$set(t.submitForm,"statement_company",e)},expression:"submitForm.statement_company"}})],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"所属单位"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.submitForm.subordinate_company,callback:function(e){t.$set(t.submitForm,"subordinate_company",e)},expression:"submitForm.subordinate_company"}})],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"与项目关系"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.submitForm.company_relation,callback:function(e){t.$set(t.submitForm,"company_relation",e)},expression:"submitForm.company_relation"}})],1)],1),t._v(" "),a("div",[a("div",{staticClass:"title-text"},[t._v("到访确认人信息")]),t._v(" "),a("el-table",{attrs:{data:t.peopleInfo,border:""}},[a("el-table-column",{attrs:{label:"序号",align:"center",width:"70px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.getIndex(e)))]}}])}),t._v(" "),a("el-table-column",{attrs:{property:"account",label:"云算号",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"name",label:"名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"tel",label:"联系方式",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"department",label:"所属部门",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"position",label:"职位",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"entry_time",label:"入职时间",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"create_time",label:"分配时间",align:"center"}})],1)],1),t._v(" "),a("div",[a("div",{staticClass:"title-text"},[t._v("结佣规则")]),t._v(" "),a("el-table",{attrs:{data:t.gridData,border:""}},[a("el-table-column",{attrs:{prop:"rule_name",label:"规则名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"plan_start",label:"计划开始执行时间",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"plan_end",label:"计划结束执行时间",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.seeShow(e.row)}}},[t._v("查看")])]}}])})],1)],1)],1)},staticRenderFns:[]};var Q=a("vSla")(M,N,!1,function(t){a("JGoV"),a("7bqc")},"data-v-5701aacb",null).exports,Z={data:function(){return{sumbitForm:{project_docker:"",project_docker_tel:"",sell_docker:"",sell_docker_tel:"",compact_begin:"",compact_end:"",act_start:""},refund:[],ruleForm:[],project_id:"",rule_id:""}},mounted:function(){this.project_id=this.$route.params.project_id,this.rule_id=this.$route.params.rule_id,this.$route.params.rule_id||this.$router.push({name:"peopleProject"}),this.getBrokerAgreement()},methods:{getRuleContract:function(){var t=this;return b()(d.a.mark(function e(){var a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.api.getRuleContract({rule_id:t.rule_id});case 2:200==(a=e.sent).code&&I()(t.sumbitForm,a.data);case 4:case"end":return e.stop()}},e,t)}))()},fileUpload:function(t){var e=this;return b()(d.a.mark(function a(){var r,n,s,i,o;return d.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(e.fileObject=t,r=!1,(e.fileObject.name.indexOf(".docx")>-1||e.fileObject.name.indexOf(".doc")>-1)&&(r=!0),r){a.next=6;break}return e.$message({type:"error",message:"文件上传格式有误，请上传docx或者doc格式"}),a.abrupt("return");case 6:return n=e.fileObject.raw,(s=new FormData).append("url",n),a.next=11,e.api.uploadBrokerCommission(s);case 11:200==(i=a.sent).code&&((o={}).uploader=i.data.uploader,o.url=i.data.img_url,o.create_time=i.data.create_time,o.file_name=t.name,e.refund=[],e.refund.push(o),console.log(o),e.addBrokerAgreement());case 13:case"end":return a.stop()}},a,e)}))()},addBrokerAgreement:function(){var t=this;return b()(d.a.mark(function e(){var a,r;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(a={}).file_name=t.refund[0].file_name,a.file_url=t.refund[0].url,a.uploader=t.refund[0].uploader,a.rule_id=t.rule_id,e.next=7,t.api.addBrokerAgreement(a);case 7:r=e.sent,console.log(t.refund),r.code;case 10:case"end":return e.stop()}},e,t)}))()},getBrokerAgreement:function(){var t=this;return b()(d.a.mark(function e(){var a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.api.getBrokerAgreement({rule_id:t.rule_id});case 2:200==(a=e.sent).code&&(t.refund=a.data),t.getRuleContract();case 5:case"end":return e.stop()}},e,t)}))()},remove:function(t){this.refund.splice(t,1)},sumbit:function(){var t,e=this;this.$refs.sumbitForm.validate((t=b()(d.a.mark(function t(a){var r;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!a){t.next=10;break}return(r=I()({},e.sumbitForm)).project_id=e.project_id,r.rule_id=e.rule_id,t.next=6,e.api.addRule(r);case 6:200==t.sent.code&&(e.$message({type:"success",message:"提交成功!"}),e.$router.push({name:"peopleProject"})),t.next=11;break;case 10:return t.abrupt("return",!1);case 11:case"end":return t.stop()}},t,e)})),function(e){return t.apply(this,arguments)}))},addShow:function(){},cancel:function(){this.$router.push({name:"peopleProjectInfo",params:this.$route.params})}}},q={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ruleOfMaid"},[a("div",{staticClass:"ruleOfMaid-box"},[a("div",{staticClass:"title"},[a("span",{staticClass:"btn"},[a("el-button",{attrs:{type:"primary"},on:{click:t.cancel}},[t._v("关闭")])],1)]),t._v(" "),a("div",{staticClass:"infoform"},[a("div",{staticClass:"text"},[t._v("规则信息")]),t._v(" "),a("el-form",{attrs:{model:t.sumbitForm,disabled:"disabled"}},[a("el-form-item",{staticClass:"input",attrs:{label:"规则名称",prop:"rule_name"}},[a("el-input",{model:{value:t.sumbitForm.rule_name,callback:function(e){t.$set(t.sumbitForm,"rule_name",e)},expression:"sumbitForm.rule_name"}})],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"合同开始日期",prop:"plan_start"}},[a("el-input",{model:{value:t.sumbitForm.plan_start,callback:function(e){t.$set(t.sumbitForm,"plan_start",e)},expression:"sumbitForm.plan_start"}})],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"合同截至日期",prop:"plan_end"}},[a("el-input",{model:{value:t.sumbitForm.plan_end,callback:function(e){t.$set(t.sumbitForm,"plan_end",e)},expression:"sumbitForm.plan_end"}})],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"实际开始日期",prop:"act_start"}},[a("el-input",{model:{value:t.sumbitForm.act_start,callback:function(e){t.$set(t.sumbitForm,"act_start",e)},expression:"sumbitForm.act_start"}})],1),t._v(" "),a("el-form-item",{staticClass:"input1",attrs:{label:"佣金规则",prop:"commission_describe"}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.sumbitForm.commission_describe,callback:function(e){t.$set(t.sumbitForm,"commission_describe",e)},expression:"sumbitForm.commission_describe"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"info"},[a("div",{staticClass:"title"},[a("div",{staticClass:"text"},[t._v("成交佣金（推荐的客户在该项目购置房源后产生的佣金）")]),t._v(" "),a("span",{staticClass:"btn"},[a("el-button",{staticClass:"add",attrs:{type:"primary"},on:{click:t.addShow}},[t._v("新增")])],1)]),t._v(" "),a("el-table",{attrs:{data:t.ruleForm,border:""}},[a("el-table-column",{attrs:{label:"序号",align:"center",width:"70px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.getIndex(e)))]}}])}),t._v(" "),a("el-table-column",{attrs:{property:"project_code",label:"物业类型",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"absolute_address",label:"提成公式",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"project_hold_name",label:"参数",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"}},[t._v("删除")])]}}])})],1)],1),t._v(" "),a("div",{staticClass:"info"},[a("div",{staticClass:"title"},[a("div",{staticClass:"text"},[t._v("到访佣金（客户到访后且售楼处确认后产生的佣金")]),t._v(" "),a("span",{staticClass:"btn"},[a("el-button",{staticClass:"add",attrs:{type:"primary"}},[t._v("新增")])],1)]),t._v(" "),a("el-table",{attrs:{data:t.ruleForm,border:""}},[a("el-table-column",{attrs:{label:"序号",align:"center",width:"70px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.getIndex(e)))]}}])}),t._v(" "),a("el-table-column",{attrs:{property:"project_code",label:"单位",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"project_hold_phone",label:"奖励金额（元/套）",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"text"}},[t._v("删除")])]}}])})],1)],1),t._v(" "),a("div",{staticClass:"info"},[a("div",{staticClass:"title"},[a("div",{staticClass:"text"},[t._v("推荐佣金（经纪人将客户推荐给项目后的佣金）")]),t._v(" "),a("span",{staticClass:"btn"},[a("el-button",{staticClass:"add",attrs:{type:"primary"}},[t._v("新增")])],1)]),t._v(" "),a("el-table",{attrs:{data:t.ruleForm,border:""}},[a("el-table-column",{attrs:{label:"序号",align:"center",width:"70px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.getIndex(e)))]}}])}),t._v(" "),a("el-table-column",{attrs:{property:"project_code",label:"单位",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"project_hold_phone",label:"奖励金额（元/套）",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"text"}},[t._v("删除")])]}}])})],1)],1)])])},staticRenderFns:[]};var G=a("vSla")(Z,q,!1,function(t){a("BKBB"),a("TvbG")},"data-v-4e70bf9c",null).exports,V=a("4YfN"),Y=a.n(V),W={data:function(){return{rules:{project_name:[{required:!0,message:"请输入项目名称,长度为2-20个字符",change:"change",max:20,min:2}],property_type:[{type:"array",required:!0,message:"请选择物业类型",change:"change"}],statement_company:[{required:!0,message:"请输入结佣单位,长度为2-20个字符",change:"change",max:20,min:2}],province:[{required:!0,message:"请选择具体地址",change:"change"}],absolute_address:[{required:!0,message:"请输入具体地址",change:"change"}],developer_name:[{required:!0,message:"请输入开发商名称,长度为2-20个字符",change:"change",max:20,min:2}],project_hold_name:[{required:!0,message:"请输入负责人姓名,长度为2-5个字符，必须是中文",change:"change",pattern:/[\u4E00-\u9FA5]{2,5}(?:·[\u4E00-\u9FA5]{2,5})*/}],project_hold_phone:[{required:!0,message:"请输入正确的电话号码格式",change:"change",pattern:/^1[34578]\d{9}$/}],company_relation:[{required:!0,message:"请选择公司与项目关系",change:"change"}]},userFormRulesOrigin:{name:[{pattern:/[\u4E00-\u9FA5]{2,5}(?:·[\u4E00-\u9FA5]{2,5})*/,required:!0,message:"请输入管理员姓名，长度为2-5个字符，必须是中文",change:"change"}],account:[{pattern:/^1[34578]\d{9}$/,required:!0,message:"请输入账号，由手机号码构成",change:"change"}],password:[{required:!0,message:"请输入密码，长度在 6-16 个字符",change:"change",min:6,max:16}]},form:{district:"",province:"",city:"",statement_company:"",project_hold_phone:"",latitude:"",longitude:"",project_name:"",absolute_address:"",property_type:[],developer_name:"",project_hold_name:"",company_relation:"",remark:"",project_id:"",check_state:"",project_agreement:[],project_user:[]},map:null,sendata:{},gridData:[],historicalRecords:[],UserShow:[],Enclosure:[],dialogFormVisibleAccounts:!1,showMap:!1,isUserEdit:!1,refundShow:!1,isEditProjectList:!1,paymentRecordTable:!1,auditOptions:[],projectUserForm:{name:"",account:"",password:"",phone:"",state:1},auditing_info:{auditing_name:"",auditing_time:"",auditing_remark:"",auditing_state:""},paymentRecord:[],refund:[],userObj:{},fileObject:{},operationType:0,project:[],typeOptions:[],haveTypeOptions:[],project_history:[],projectHistory:{company_id:"",s_time:"",e_time:"",project_hold_phone:"",project_hold_name:"",company_relation:"",project_id:"",company_name:""},authentication_info:{business_log:[]},businessLogForm:{deposit:"",authentication_state:"",no_price:"",business_log:[{payee:"",drawee:"",contact_name:"",contact_phone:"",create_name:"",create_time:"",price:"",type:""}]},projectAgreement:{file_name:"",url:"",create_name:"",create_time:""}}},computed:{userFormRules:function(){if(""==this.projectUserForm.password&&1==this.operationType&&1==this.isUserEdit){var t=I()({},this.userFormRulesOrigin);return this.isAccountValid=!1,t.password=void 0,t}if(1==this.isUserEdit||0==this.isUserEdit){var e=I()({},this.userFormRulesOrigin);return this.isAccountValid=!0,e}}},mounted:function(){var t=this;this.operationType=this.$route.params.operationType,void 0!==this.operationType?(this.form.project_id=this.$route.params.project_id,this.form.project_id?this.getProjectInfo():this.$nextTick(function(){t.initMap()}),this.getType()):this.$router.push({name:"project"})},methods:{getIndex:function(t){return t.$index+1},requestRefund:function(){var t=this;return b()(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.$router.push({name:"requestRefund",params:{operationType:t.$route.params.operationType,project_id:t.$route.params.project_id,allow:t.authentication_info.allow}});case 1:case"end":return e.stop()}},e,t)}))()},seeRequestRefund:function(t){this.$router.push({name:"payRecord",params:{operationType:this.$route.params.operationType,project_id:this.$route.params.project_id,id:t.id,allow:this.authentication_info.allow}})},isDisable:function(){return 0!=this.operationType},isPropertyTypeDisabled:function(t){return 2==this.operationType||0!=this.operationType&&(1==this.operationType&&1==this.form.check_state?this.haveTypeOptions.includes(t.param_id):void 0)},getProjectInfo:function(){var t=this;return b()(d.a.mark(function e(){var a,r,n,s,i,o,l,c;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.api.getProjectInfo({project_id:t.form.project_id});case 2:if(200!=(a=e.sent).code){e.next=33;break}for((r=Y()({},a.data.project)).property_type=[],r.project_user=a.data.project_admin,r.project_agreement=a.data.project_agreement,t.authentication_info=a.data.authentication_info,t.auditing_info=a.data.auditing_info,t.project_history=a.data.project_history,t.haveTypeOptions=[],n=!0,s=!1,i=void 0,e.prev=15,o=U()(a.data.project.property_type);!(n=(l=o.next()).done);n=!0)c=l.value,r.property_type.push(c.property_tag_id),t.haveTypeOptions.push(c.property_tag_id);e.next=23;break;case 19:e.prev=19,e.t0=e.catch(15),s=!0,i=e.t0;case 23:e.prev=23,e.prev=24,!n&&o.return&&o.return();case 26:if(e.prev=26,!s){e.next=29;break}throw i;case 29:return e.finish(26);case 30:return e.finish(23);case 31:I()(t.form,r),t.$nextTick(function(){t.initMap(r)});case 33:case"end":return e.stop()}},e,t,[[15,19,23,31],[24,,26,30]])}))()},submit:function(){var t,e=this;this.$refs.ruleForm.validate((t=b()(d.a.mark(function t(a){var r;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!a){t.next=22;break}if(1!=e.operationType){t.next=16;break}return(r={}).project_id=e.form.project_id,r.property_type=e.form.property_type,r.developer_name=e.form.developer_name,r.company_relation=e.form.company_relation,r.project_hold_name=e.form.project_hold_name,r.project_hold_phone=e.form.project_hold_phone,r.statement_company=e.form.statement_company,t.next=12,e.api.getUpdateProject(r);case 12:200==t.sent.code&&(e.$message({type:"success",message:"修改成功"}),setTimeout(function(){e.$router.push({name:"project"})},2e3)),t.next=20;break;case 16:return t.next=18,e.api.getCreateProject(e.form);case 18:200==t.sent.code&&(e.$message({type:"success",message:"新增成功"}),setTimeout(function(){e.$router.push({name:"project"})},2e3));case 20:t.next=23;break;case 22:return t.abrupt("return",!1);case 23:case"end":return t.stop()}},t,e)})),function(e){return t.apply(this,arguments)}))},cancel:function(){this.$router.push({name:"project"})},submitUser:function(){var t=this;return b()(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.$refs.projectUserForm.validate(function(){var e=b()(d.a.mark(function e(a){var r,n,s;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=28;break}if(1!=t.operationType){e.next=21;break}if(!t.isUserEdit){e.next=13;break}return t.projectUserForm.project_id=t.form.project_id,(r=I()({},t.projectUserForm)).index=void 0,e.next=8,t.api.updateProjectAdmin(r);case 8:if(200==e.sent.code){e.next=11;break}return e.abrupt("return");case 11:e.next=21;break;case 13:return t.projectUserForm.project_id=t.form.project_id,(n=I()({},t.projectUserForm)).index=void 0,e.next=18,t.api.addProjectAdmin(n);case 18:if(200==e.sent.code){e.next=21;break}return e.abrupt("return");case 21:if(s=I()({},t.projectUserForm),t.checkUserAccout(s)){e.next=24;break}return e.abrupt("return");case 24:t.isUserEdit?(t.$message({type:"success",message:"修改成功!"}),I()(t.form.project_user[s.index],s)):(t.$message({type:"success",message:"新增成功!"}),t.form.project_user.push(s)),t.cancelUser(),e.next=29;break;case 28:return e.abrupt("return",!1);case 29:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}},e,t)}))()},removeUser:function(t){this.form.project_user.splice(t,1)},cancelUser:function(){this.dialogFormVisibleAccounts=!1;var t=this.$options.data().projectUserForm;I()(this.projectUserForm,t)},showUser:function(){this.isUserEdit=!1,this.projectUserForm.index=void 0,this.dialogFormVisibleAccounts=!0},editUser:function(t,e){this.isUserEdit=!0,this.dialogFormVisibleAccounts=!0,I()(this.projectUserForm,t),this.projectUserForm.index=e},checkUserAccout:function(t){for(var e=0;e<this.form.project_user.length;e++){var a=this.form.project_user[e];if(e!==t.index&&a.account==t.account)return this.$message({type:"error",message:"该账号已存在"}),!1}return!0},enabledDisable:function(t){var e=this;return b()(d.a.mark(function a(){var r;return d.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return(r={}).id=t.id,1==t.state?r.state=0:0==t.state&&(r.state=1),a.next=5,e.api.updateAdminState(r);case 5:200==a.sent.code&&e.getProjectInfo();case 7:case"end":return a.stop()}},a,e)}))()},showState:function(t){return 1==t?"禁用":0==t?"启用":void 0},StateBtn:function(t){return 0==t?"禁用":1==t?"启用":void 0},auditingState:function(t){return 0==t?"拒绝":1==t?"通过":2==t?"待审核":void 0},authenticationType:function(t){return 1==t?"缴纳":2==t?"退款":void 0},projectState:function(t){return 0==t?"禁用":1==t?"管理中":2==t?"已转新房":3==t?"已转二手房":void 0},showUploadFile:function(){document.querySelector(".uploadBtn").click()},fileUpload:function(t){var e=this;return b()(d.a.mark(function a(){var r,n,s,i,o;return d.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(e.fileObject=t,r=!1,(e.fileObject.name.indexOf(".docx")>-1||e.fileObject.name.indexOf(".doc")>-1)&&(r=!0),r){a.next=6;break}return e.$message({type:"error",message:"文件上传格式有误，请上传docx或者doc格式"}),a.abrupt("return");case 6:return n=e.fileObject.raw,console.log(n),(s=new FormData).append("url",n),a.next=12,e.api.uploadProjectAgreement(s);case 12:200==(i=a.sent).code&&((o={}).create_time=i.data.create_time,o.create_name=i.data.create_name,o.url=i.data.img_url,o.file_name=t.name,e.form.project_agreement=[],e.form.project_agreement.push(o));case 14:case"end":return a.stop()}},a,e)}))()},showMapDetails:function(){document.querySelector(".map").classList.toggle("")},auditStatus:function(){},initMap:function(t){var e=this;if(this.map||(this.map=new BMap.Map("map")),this.map.addControl(new BMap.NavigationControl),this.map.enableScrollWheelZoom(!0),t){var a=new BMap.Point(t.longitude,t.latitude);this.map.centerAndZoom(a,15),this.map.clearOverlays(),this.map.addOverlay(new BMap.Marker(a))}else{a=new BMap.Point(116.404,39.915);this.map.centerAndZoom(a,15)}if(1!=this.operationType&&2!=this.operationType){var r=new BMap.Autocomplete({input:"suggestId",location:this.map});r.addEventListener("onhighlight",function(t){var e,a="",r=t.fromitem.value,n="";t.fromitem.index>-1&&(n=r.province+r.city+r.district+r.street+r.business),a="FromItem<br />index = "+t.fromitem.index+"<br />value = "+n,n="",t.toitem.index>-1&&(n=(r=t.toitem.value).province+r.city+r.district+r.street+r.business),a+="<br />ToItem<br />index = "+t.toitem.index+"<br />value = "+n,(e="searchResultPanel",document.getElementById(e)).innerHTML=a}),r.addEventListener("onconfirm",function(t){console.log(t,t.item.value);var a=t.item.value,r=a.city+a.district+a.business;e.form.absolute_address=r,(new BMap.Geocoder).getPoint(r,function(t){if(t){var a=t.lng,r=t.lat;e.form.longitude=a,e.form.latitude=r,e.map.centerAndZoom(t,16),e.map.addOverlay(new BMap.Marker(t))}else alert("您选择地址没有解析到结果!")},a.city)})}},changeDistrict:function(t){var e=this;(new BMap.Geocoder).getPoint(t,function(t){t&&e.map.centerAndZoom(t,16)})},sumbitRefund:function(){this.refundShow=!0},cancelRefund:function(){this.refundShow=!1},getType:function(){var t=this;return b()(d.a.mark(function e(){var a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.api.getTags();case 2:200==(a=e.sent).code&&(t.typeOptions=a.data);case 4:case"end":return e.stop()}},e,t)}))()}},components:{CitySelector:L}},J={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"AddProject"},[a("div",{staticClass:"AddPorject-wrapper"},[a("div",{staticClass:"AddPorject-wrapper-inner"},[a("div",{staticClass:"title-top"},[a("span",[t._v("申请项目信息")]),t._v(" "),a("span",{staticClass:"title-btn"},[0==t.operationType||1==t.operationType?a("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("提交")]):t._e(),t._v(" "),a("el-button",{on:{click:t.cancel}},[t._v("取消")])],1)]),t._v(" "),a("el-form",{ref:"ruleForm",staticClass:"form",attrs:{model:t.form,rules:t.rules}},[a("el-form-item",{staticClass:"input",attrs:{label:"项目名称",prop:"project_name"}},[a("el-input",{attrs:{"auto-complete":"off",disabled:t.isDisable(),placeholder:"请输入项目名称"},model:{value:t.form.project_name,callback:function(e){t.$set(t.form,"project_name",e)},expression:"form.project_name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"项目地址",prop:"province"}},[a("city-selector",{attrs:{disabled:t.isDisable(),province:t.form.province,city:t.form.city,district:t.form.district},on:{"update:province":function(e){t.$set(t.form,"province",e)},"update:city":function(e){t.$set(t.form,"city",e)},"update:district":function(e){t.$set(t.form,"district",e)},changeDistrict:t.changeDistrict}})],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{prop:"absolute_address"}},[a("el-input",{staticClass:"input-1",attrs:{id:"suggestId","auto-complete":"off",disabled:t.isDisable(),placeholder:"请输入具体地址"},model:{value:t.form.absolute_address,callback:function(e){t.$set(t.form,"absolute_address",e)},expression:"form.absolute_address"}}),t._v(" "),a("div",{staticStyle:{border:"1px solid #C0C0C0",width:"150px",height:"auto",display:"none"},attrs:{id:"searchResultPanel"}})],1),t._v(" "),a("div",{staticClass:"map",attrs:{id:"map"}}),t._v(" "),a("div",{staticClass:"property_type"},[t._v("物业类型")]),t._v(" "),a("el-form-item",{attrs:{prop:"property_type"}},t._l(t.typeOptions,function(e){return a("el-checkbox",{key:e.param_id,attrs:{disabled:t.isPropertyTypeDisabled(e),label:e.param_id},model:{value:t.form.property_type,callback:function(e){t.$set(t.form,"property_type",e)},expression:"form.property_type"}},[t._v(t._s(e.param))])})),t._v(" "),a("el-form-item",{staticClass:"input1",attrs:{label:"开发商",prop:"developer_name"}},[a("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入开发商名称",disabled:2===t.operationType},model:{value:t.form.developer_name,callback:function(e){t.$set(t.form,"developer_name",e)},expression:"form.developer_name"}})],1),t._v(" "),a("el-form-item",{staticClass:"select",attrs:{label:"与项目关系",prop:"company_relation"}},[a("el-radio-group",{attrs:{disabled:2===t.operationType},model:{value:t.form.company_relation,callback:function(e){t.$set(t.form,"company_relation",e)},expression:"form.company_relation"}},[a("el-radio",{attrs:{label:"开发商"}}),t._v(" "),a("el-radio",{attrs:{label:"代理"}}),t._v(" "),a("el-radio",{attrs:{label:"分销"}}),t._v(" "),a("el-radio",{attrs:{label:"渠道"}}),t._v(" "),a("el-radio",{attrs:{label:"其他"}})],1)],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"结佣单位",prop:"statement_company"}},[a("el-input",{attrs:{disabled:2===t.operationType,"auto-complete":"off",placeholder:"请输入结佣单位名称"},model:{value:t.form.statement_company,callback:function(e){t.$set(t.form,"statement_company",e)},expression:"form.statement_company"}})],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"项目负责人",prop:"project_hold_name"}},[a("el-input",{attrs:{disabled:2===t.operationType,"auto-complete":"off",placeholder:"请输入项目负责人姓名"},model:{value:t.form.project_hold_name,callback:function(e){t.$set(t.form,"project_hold_name",e)},expression:"form.project_hold_name"}})],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"联系电话",prop:"project_hold_phone"}},[a("el-input",{attrs:{disabled:2===t.operationType,"auto-complete":"off",placeholder:"请输入联系电话"},model:{value:t.form.project_hold_phone,callback:function(e){t.$set(t.form,"project_hold_phone",e)},expression:"form.project_hold_phone"}})],1),t._v(" "),1==!t.operationType?a("el-form-item",{staticClass:"textarea",attrs:{label:"备注"}},[a("el-input",{attrs:{disabled:2===t.operationType,type:"textarea"},model:{value:t.form.remark,callback:function(e){t.$set(t.form,"remark",e)},expression:"form.remark"}})],1):t._e()],1),t._v(" "),a("div",{staticClass:"tableIn-btn"},[0==t.operationType||1==t.operationType?a("el-button",{attrs:{type:"primary"},on:{click:t.showUser}},[t._v("新增账号")]):t._e()],1),t._v(" "),a("el-table",{attrs:{data:t.form.project_user,border:""}},[a("el-table-column",{attrs:{property:"account",label:"帐号",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"name",label:"管理员",align:"center"}}),t._v(" "),1==t.operationType?a("el-table-column",{attrs:{property:"state",label:"当前状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(t.showState(e.row.state))+"\n          ")]}}])}):t._e(),t._v(" "),0==t.operationType||1==t.operationType?a("el-table-column",{attrs:{property:"operation",label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.editUser(e.row,e.$index)}}},[t._v("修改")]),t._v(" "),0==t.operationType?a("el-button",{attrs:{type:"text"},on:{click:function(a){t.removeUser(e.$index)}}},[t._v("删除")]):t._e(),t._v(" "),0==!t.operationType?a("el-button",{attrs:{type:"text"},on:{click:function(a){t.enabledDisable(e.row)}}},[t._v(t._s(t.StateBtn(e.row.state)))]):t._e()]}}])}):t._e()],1),t._v(" "),a("div",[a("el-upload",{staticClass:"uploadFile",attrs:{"auto-upload":!1,action:"","on-change":t.fileUpload}},[a("el-button",{ref:"uploadBtn",staticClass:"uploadBtn",attrs:{size:"small",type:"primary","show-file-list":!1}},[t._v("点击上传")])],1)],1),t._v(" "),0==t.operationType?a("div",{staticClass:"tableIn-btn"},[a("el-button",{attrs:{type:"primary"},on:{click:t.showUploadFile}},[t._v("附件上传")])],1):t._e(),t._v(" "),a("el-table",{attrs:{data:t.form.project_agreement,border:""}},[a("el-table-column",{attrs:{property:"file_name",label:"文件名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"附件",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("a",{attrs:{target:"_blank",href:this.base+e.row.url}},[t._v("查看附件")])]}}])}),t._v(" "),a("el-table-column",{attrs:{property:"create_name",label:"上传人员",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"create_time",label:"上传时间",align:"center"}})],1),t._v(" "),1!=t.form.source||0!=t.auditing_info.auditing_state&&1!=t.auditing_info.auditing_state?t._e():a("div",[a("div",{staticClass:"num_set"},[t._v("审核项目信息")]),t._v(" "),a("el-form",{staticClass:"form",attrs:{model:t.form}},[a("el-form-item",{staticClass:"inputAud",attrs:{label:"审核人员"}},[a("el-input",{attrs:{"auto-complete":"off",disabled:t.isDisable()},model:{value:t.auditing_info.auditing_name,callback:function(e){t.$set(t.auditing_info,"auditing_name",e)},expression:"auditing_info.auditing_name"}})],1),t._v(" "),a("el-form-item",{staticClass:"inputAud",attrs:{label:"审核时间"}},[a("el-input",{attrs:{"auto-complete":"off",disabled:t.isDisable()},model:{value:t.auditing_info.auditing_time,callback:function(e){t.$set(t.auditing_info,"auditing_time",e)},expression:"auditing_info.auditing_time"}})],1),t._v(" "),a("el-form-item",{staticClass:"inputAud state",attrs:{label:"审核状态"}},[t._v("\n            "+t._s(t.auditingState(t.auditing_info.auditing_state))+"\n          ")]),t._v(" "),a("el-form-item",{staticClass:"textarea",attrs:{label:"备注"}},[a("el-input",{attrs:{type:"textarea",disabled:t.isDisable()},model:{value:t.auditing_info.auditing_remark,callback:function(e){t.$set(t.auditing_info,"auditing_remark",e)},expression:"auditing_info.auditing_remark"}})],1)],1)],1),t._v(" "),1==t.auditing_info.auditing_state?a("div",[a("div",{staticClass:"num_set"},[t._v("认证信息")]),t._v(" "),a("el-form",{staticClass:"form",model:{value:t.authentication_info,callback:function(e){t.authentication_info=e},expression:"authentication_info"}},[a("el-form-item",{staticClass:"inputAud",attrs:{label:"保证金金额（￥）："}},[a("el-input",{attrs:{"auto-complete":"off",disabled:t.isDisable()},model:{value:t.authentication_info.deposit,callback:function(e){t.$set(t.authentication_info,"deposit",e)},expression:"authentication_info.deposit"}})],1),t._v(" "),a("el-form-item",{staticClass:"inputAud",attrs:{label:"未结佣金总额（￥）："}},[a("el-input",{attrs:{"auto-complete":"off",disabled:t.isDisable()},model:{value:t.authentication_info.no_price,callback:function(e){t.$set(t.authentication_info,"no_price",e)},expression:"authentication_info.no_price"}})],1),t._v(" "),a("el-form-item",{staticClass:"inputAud",attrs:{label:"可退金额（￥）："}},[a("el-input",{attrs:{"auto-complete":"off",disabled:t.isDisable()},model:{value:t.authentication_info.allow,callback:function(e){t.$set(t.authentication_info,"allow",e)},expression:"authentication_info.allow"}})],1),t._v(" "),a("el-form-item",{staticClass:"inputAud state",attrs:{label:"项目状态"}},[t._v("\n            "+t._s(t.projectState(t.authentication_info.auth_state))+"\n          ")]),t._v(" "),a("el-form-item",{staticClass:"request"},[t.authentication_info.deposit>0?a("el-button",{attrs:{type:"primary",disabled:2===t.operationType},on:{click:function(e){t.requestRefund()}}},[t._v("申请退款")]):t._e()],1),t._v(" "),a("div",{staticClass:"num_details"},[t._v("保证金详情")]),t._v(" "),a("el-table",{attrs:{data:t.authentication_info.business_log,border:""}},[a("el-table-column",{attrs:{label:"序号",align:"center",width:"70px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.getIndex(e)))]}}])}),t._v(" "),a("el-table-column",{attrs:{property:"drawee",label:"付款户名",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"payee",label:"收款户名",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"price",label:"金额（￥）",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"contact_name",label:"联系人",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"contact_phone",label:"联系电话",align:"center",width:"120px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"type",label:"类型",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.authenticationType(e.row.type)))]}}])}),t._v(" "),a("el-table-column",{attrs:{property:"create_name",label:"交易人",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"create_time",label:"交易时间",align:"center",width:"150px"}}),t._v(" "),a("el-table-column",{attrs:{property:"operation",label:"操作",align:"center",width:"80px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.seeRequestRefund(e.row)}}},[t._v("查看")])]}}])})],1)],1)],1):t._e(),t._v(" "),1==t.auditing_info.auditing_state?a("div",[a("div",{staticClass:"num_set"},[t._v("项目历史")]),t._v(" "),a("el-table",{attrs:{data:t.project_history,border:""}},[a("el-table-column",{attrs:{label:"序号",align:"center",width:"70px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.getIndex(e)))]}}])}),t._v(" "),a("el-table-column",{attrs:{property:"company_name",label:"公司名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"company_relation",label:"与项目关系",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"s_time",label:"开始时间",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"e_time",label:"结束时间",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"project_hold_name",label:"负责人",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"project_hold_phone",label:"联系方式",align:"center"}})],1)],1):t._e(),t._v(" "),a("el-dialog",{staticClass:"tableUser",attrs:{title:"新建账号",visible:t.dialogFormVisibleAccounts},on:{"update:visible":function(e){t.dialogFormVisibleAccounts=e},close:t.cancelUser}},[a("el-form",{ref:"projectUserForm",attrs:{model:t.projectUserForm,rules:t.userFormRules}},[a("el-form-item",{staticClass:"input",attrs:{label:"设定帐号",prop:"account"}},[a("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入手机号码"},model:{value:t.projectUserForm.account,callback:function(e){t.$set(t.projectUserForm,"account",e)},expression:"projectUserForm.account"}})],1),t._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.isAccountValid,expression:"isAccountValid"}],staticClass:"input",attrs:{label:"设定密码",prop:"password"}},[a("el-input",{attrs:{"auto-complete":"off",type:"password",placeholder:"请输入密码"},model:{value:t.projectUserForm.password,callback:function(e){t.$set(t.projectUserForm,"password",e)},expression:"projectUserForm.password"}})],1),t._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!t.isAccountValid,expression:"!isAccountValid"}],staticClass:"input",attrs:{label:"设定密码"}},[a("el-input",{attrs:{"auto-complete":"off",type:"password",placeholder:"不设置为之前密码"},model:{value:t.projectUserForm.password,callback:function(e){t.$set(t.projectUserForm,"password",e)},expression:"projectUserForm.password"}})],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"管理员姓名",prop:"name"}},[a("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入管理员姓名"},model:{value:t.projectUserForm.name,callback:function(e){t.$set(t.projectUserForm,"name",e)},expression:"projectUserForm.name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.cancelUser}},[t._v("关 闭")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.submitUser}},[t._v("确 定")])],1)],1)],1)])])},staticRenderFns:[]};var H=a("vSla")(W,J,!1,function(t){a("9yuW"),a("Sm/6")},"data-v-7485a0d5",null).exports,X={data:function(){return{rules:{project_name:[{required:!0,message:"请输入项目名称,长度为2-20个字符",change:"change",min:2,max:20}],property_type:[{type:"array",required:!0,message:"请选择物业类型",change:"change"}],statement_company:[{required:!0,message:"请输入结佣单位,长度为2-20个字符",change:"change",min:2,max:20}],province:[{required:!0,message:"请选择具体地址",change:"change"}],absolute_address:[{required:!0,message:"请输入具体地址",change:"change"}],developer_name:[{required:!0,message:"请输入开发商名字,长度为2-20个字符",change:"change",min:2,max:20}],project_hold_name:[{pattern:/[\u4E00-\u9FA5]{2,5}(?:·[\u4E00-\u9FA5]{2,5})*/,required:!0,message:"请输入负责人姓名,长度为2-5个字符，，必须是中文",change:"change"}],project_hold_phone:[{required:!0,message:"请输入正确的电话号码格式",change:"change",pattern:/^1[34578]\d{9}$/}],company_relation:[{required:!0,message:"请选择公司与项目关系",change:"change"}]},userFormRules:{name:[{pattern:/[\u4E00-\u9FA5]{2,5}(?:·[\u4E00-\u9FA5]{2,5})*/,required:!0,message:"请输入管理员姓名，长度在2-5个字符，必须是中文",change:"change"}],account:[{required:!0,message:"请输入账号,由手机号构成",change:"change",pattern:/^1[34578]\d{9}$/}],password:[{required:!0,message:"请输入密码,长度在6-16个字符",change:"change",min:6,max:16}]},form:{district:"",province:"",city:"",statement_company:"",project_hold_phone:"",latitude:"",longitude:"",project_name:"",absolute_address:"",property_type:[],developer_name:"",project_hold_name:"",company_relation:"",remark:"",project_id:"",project_agreement:[],project_user:[]},map:null,sendata:{},gridData:[],historicalRecords:[],UserShow:[],Enclosure:[],dialogFormVisibleAccounts:!1,showMap:!1,isUserEdit:!1,refundShow:!1,isEditProjectList:!1,paymentRecordTable:!1,auditOptions:[],options:[{value:"选项1",label:"区域"}],value:"",projectUserForm:{name:"",account:"",password:"",phone:""},auditing_info:{auditing_name:"",auditing_time:"",auditing_remark:"",check_state:""},paymentRecord:[],refund:[],userObj:{},fileObject:{},operationType:0,addEditDelete:0,project:[],typeOptions:[],project_history:[],projectHistory:{company_id:"",s_time:"",e_time:"",project_hold_phone:"",project_hold_name:"",company_relation:"",project_id:"",company_name:""},authentication_info:{business_log:[]},businessLogForm:{deposit:"",authentication_state:"",no_price:"",business_log:[{payee:"",drawee:"",contact_name:"",contact_phone:"",create_name:"",create_time:"",price:"",type:""}]},projectAgreement:{file_name:"",url:"",create_name:"",create_time:""}}},mounted:function(){var t=this;this.operationType=this.$route.params.operationType,void 0!==this.operationType?(this.form.project_id=this.$route.params.project_id,this.form.project_id?this.getProjectInfo():this.$nextTick(function(){t.initMap()}),this.getType()):this.$router.push({name:"project"})},methods:{getIndex:function(t){return t.$index+1},requestRefund:function(){var t=this;return b()(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.$router.push({name:"requestRefund",params:{operationType:t.$route.params.operationType,project_id:t.$route.params.project_id,allow:t.authentication_info.allow}});case 1:case"end":return e.stop()}},e,t)}))()},seeRefund:function(t){var e="";1==t.type?e="payRecord":2==t.type&&(e="refundInfo"),this.$router.push({name:e,params:{operationType:this.$route.params.operationType,project_id:this.$route.params.project_id,id:t.id}})},isDisable:function(){return 3!=this.operationType},getProjectInfo:function(){var t=this;return b()(d.a.mark(function e(){var a,r,n,s,i,o,l,c;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.api.getProjectInfo({project_id:t.form.project_id});case 2:if(200!=(a=e.sent).code){e.next=33;break}for((r=Y()({},a.data.project)).property_type=[],r.project_user=a.data.project_admin,r.project_agreement=a.data.project_agreement,t.authentication_info=a.data.authentication_info,t.auditing_info=a.data.auditing_info,t.project_history=a.data.project_history,n=!0,s=!1,i=void 0,e.prev=14,o=U()(a.data.project.property_type);!(n=(l=o.next()).done);n=!0)c=l.value,r.property_type.push(c.property_tag_id);e.next=22;break;case 18:e.prev=18,e.t0=e.catch(14),s=!0,i=e.t0;case 22:e.prev=22,e.prev=23,!n&&o.return&&o.return();case 25:if(e.prev=25,!s){e.next=28;break}throw i;case 28:return e.finish(25);case 29:return e.finish(22);case 30:I()(t.form,r),console.log(r,t.form),t.$nextTick(function(){t.initMap(r)});case 33:case"end":return e.stop()}},e,t,[[14,18,22,30],[23,,25,29]])}))()},submit:function(){var t=this;return b()(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.$refs.ruleForm.validate(function(){var e=b()(d.a.mark(function e(a){var r;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=30;break}if(3!=t.operationType){e.next=24;break}return(r={}).project_id=t.form.project_id,r.project_name=t.form.project_name,r.province=t.form.province,r.city=t.form.city,r.district=t.form.district,r.absolute_address=t.form.absolute_address,r.longitude=t.form.longitude,r.latitude=t.form.latitude,r.property_type=t.form.property_type,r.developer_name=t.form.developer_name,r.company_relation=t.form.company_relation,r.project_hold_name=t.form.project_hold_name,r.project_hold_phone=t.form.project_hold_phone,r.remark=t.form.remark,r.statement_company=t.form.statement_company,e.next=20,t.api.reCreateProject(r);case 20:200==e.sent.code&&(t.$message({type:"success",message:"保存成功"}),setTimeout(function(){t.$router.push({name:"project"})},2e3)),e.next=28;break;case 24:return e.next=26,t.api.getCreateProject(t.form);case 26:200==e.sent.code&&(t.$message({type:"success",message:"保存成功"}),setTimeout(function(){t.$router.push({name:"project"})},2e3));case 28:e.next=31;break;case 30:return e.abrupt("return",!1);case 31:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}},e,t)}))()},cancel:function(){this.$router.push({name:"project"})},submitUser:function(){var t=this;return b()(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.$refs.projectUserForm.validate(function(){var e=b()(d.a.mark(function e(a){var r,n,s;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=28;break}if(1!=t.operationType){e.next=21;break}if(!t.isUserEdit){e.next=13;break}return t.projectUserForm.project_id=t.form.project_id,(r=I()({},t.projectUserForm)).index=void 0,e.next=8,t.api.updateProjectAdmin(r);case 8:if(200==e.sent.code){e.next=11;break}return e.abrupt("return");case 11:e.next=21;break;case 13:return t.projectUserForm.project_id=t.form.project_id,(n=I()({},t.projectUserForm)).index=void 0,e.next=18,t.api.addProjectAdmin(n);case 18:if(200==e.sent.code){e.next=21;break}return e.abrupt("return");case 21:if(s=I()({},t.projectUserForm),t.checkUserAccout(s)){e.next=24;break}return e.abrupt("return");case 24:t.isUserEdit?(t.$message({type:"success",message:"修改成功!"}),I()(t.form.project_user[s.index],s)):(t.$message({type:"success",message:"新增成功!"}),t.form.project_user.push(s)),t.cancelUser(),e.next=29;break;case 28:return e.abrupt("return",!1);case 29:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}},e,t)}))()},removeUser:function(t){this.form.project_user.splice(t,1)},cancelUser:function(){this.dialogFormVisibleAccounts=!1;var t=this.$options.data().projectUserForm;I()(this.projectUserForm,t)},showUser:function(){this.isUserEdit=!1,this.dialogFormVisibleAccounts=!0},editUser:function(t,e){this.isUserEdit=!0,this.dialogFormVisibleAccounts=!0,I()(this.projectUserForm,t),this.projectUserForm.index=e},checkUserAccout:function(t){for(var e=0;e<this.form.project_user.length;e++){var a=this.form.project_user[e];if(e!==t.index&&a.account==t.account)return this.$message({type:"error",message:"该账号已存在"}),!1}return!0},auditingState:function(t){return 0==t?"拒绝":1==t?"通过":2==t?"待审核":void 0},authenticationType:function(t){return 1==t?"缴纳":2==t?"退款":void 0},projectState:function(t){return 0==t?"禁用":1==t?"管理中":2==t?"已转新房":3==t?"已转二手房":void 0},showUploadFile:function(){document.querySelector(".uploadBtn").click()},fileUpload:function(t){var e=this;return b()(d.a.mark(function a(){var r,n,s,i,o;return d.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(e.fileObject=t,r=!1,(e.fileObject.name.indexOf(".docx")>-1||e.fileObject.name.indexOf(".doc")>-1)&&(r=!0),r){a.next=6;break}return e.$message({type:"error",message:"文件上传格式有误，请上传docx或者doc格式"}),a.abrupt("return");case 6:return n=e.fileObject.raw,(s=new FormData).append("url",n),a.next=11,e.api.uploadProjectAgreement(s);case 11:200==(i=a.sent).code&&((o={}).create_time=i.data.create_time,o.create_name=i.data.create_name,o.url=i.data.img_url,o.file_name=t.name,e.form.project_agreement=[],e.form.project_agreement.push(o)),e.getProjectList();case 14:case"end":return a.stop()}},a,e)}))()},showMapDetails:function(){document.querySelector(".map").classList.toggle("active")},auditStatus:function(){},initMap:function(t){var e=this;if(this.map||(this.map=new BMap.Map("map")),this.map.addControl(new BMap.NavigationControl),this.map.enableScrollWheelZoom(!0),t){var a=new BMap.Point(t.longitude,t.latitude);this.map.centerAndZoom(a,15),this.map.clearOverlays(),this.map.addOverlay(new BMap.Marker(a))}else{a=new BMap.Point(116.404,39.915);this.map.centerAndZoom(a,15)}if(1!=this.operationType&&2!=this.operationType){var r=new BMap.Autocomplete({input:"suggestId",location:this.map});suggestId.value=this.form.absolute_address,r.addEventListener("onhighlight",function(t){var e,a="",r=t.fromitem.value,n="";t.fromitem.index>-1&&(n=r.province+r.city+r.district+r.street+r.business),a="FromItem<br />index = "+t.fromitem.index+"<br />value = "+n,n="",t.toitem.index>-1&&(n=(r=t.toitem.value).province+r.city+r.district+r.street+r.business),a+="<br />ToItem<br />index = "+t.toitem.index+"<br />value = "+n,(e="searchResultPanel",document.getElementById(e)).innerHTML=a}),r.addEventListener("onconfirm",function(t){var a=t.item.value,r=a.city+a.district+a.business;e.form.absolute_address=r,(new BMap.Geocoder).getPoint(r,function(t){if(t){var a=t.lng,r=t.lat;e.form.longitude=a,e.form.latitude=r,e.map.centerAndZoom(t,16),e.map.addOverlay(new BMap.Marker(t))}else alert("您选择地址没有解析到结果!")},a.city)})}},changeDistrict:function(t){var e=this;(new BMap.Geocoder).getPoint(t,function(t){t&&e.map.centerAndZoom(t,16)})},sumbitRefund:function(){this.refundShow=!0},cancelRefund:function(){this.refundShow=!1},getType:function(){var t=this;return b()(d.a.mark(function e(){var a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.api.getTags();case 2:200==(a=e.sent).code&&(t.typeOptions=a.data);case 4:case"end":return e.stop()}},e,t)}))()}},components:{CitySelector:L}},K={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"AddProject"},[a("div",{staticClass:"AddPorject-wrapper"},[a("div",{staticClass:"title-top"},[a("div",{staticClass:"title"},[t._v("重新申请项目信息")]),t._v(" "),a("span",{staticClass:"title-btn"},[a("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("提交")]),t._v(" "),a("el-button",{on:{click:t.cancel}},[t._v("取消")])],1)]),t._v(" "),a("el-form",{ref:"ruleForm",staticClass:"form",attrs:{model:t.form,rules:t.rules}},[a("el-form-item",{staticClass:"input",attrs:{label:"项目名称",prop:"project_name"}},[a("el-input",{attrs:{"auto-complete":"off",disabled:t.isDisable(),placeholder:"请输入项目名称"},model:{value:t.form.project_name,callback:function(e){t.$set(t.form,"project_name",e)},expression:"form.project_name"}})],1),t._v(" "),a("el-form-item",{staticClass:"select",attrs:{label:"项目地址",prop:"province"}},[a("city-selector",{attrs:{disabled:t.isDisable(),province:t.form.province,city:t.form.city,district:t.form.district},on:{"update:province":function(e){t.$set(t.form,"province",e)},"update:city":function(e){t.$set(t.form,"city",e)},"update:district":function(e){t.$set(t.form,"district",e)},changeDistrict:t.changeDistrict}})],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"",prop:"absolute_address"}},[a("el-input",{staticClass:"input-1",attrs:{id:"suggestId","auto-complete":"off",disabled:t.isDisable(),placeholder:"请输入具体地址"},model:{value:t.form.absolute_address,callback:function(e){t.$set(t.form,"absolute_address",e)},expression:"form.absolute_address"}}),t._v(" "),a("div",{staticStyle:{border:"1px solid #C0C0C0",width:"150px",height:"auto",display:"none"},attrs:{id:"searchResultPanel"}})],1),t._v(" "),a("div",{staticClass:"map",attrs:{id:"map"}}),t._v(" "),a("div",{staticClass:"property_type"},[t._v("物业类型")]),t._v(" "),a("el-form-item",{attrs:{prop:"property_type"}},t._l(t.typeOptions,function(e){return a("el-checkbox",{key:e.param_id,attrs:{disabled:2===t.operationType,label:e.param_id},model:{value:t.form.property_type,callback:function(e){t.$set(t.form,"property_type",e)},expression:"form.property_type"}},[t._v(t._s(e.param))])})),t._v(" "),a("el-form-item",{staticClass:"input1",attrs:{label:"开发商",prop:"developer_name"}},[a("el-input",{attrs:{disabled:2==t.operationType,"auto-complete":"off",placeholder:"请输入开发商名称"},model:{value:t.form.developer_name,callback:function(e){t.$set(t.form,"developer_name",e)},expression:"form.developer_name"}})],1),t._v(" "),a("el-form-item",{staticClass:"select",attrs:{label:"与项目关系",prop:"company_relation"}},[a("el-radio-group",{attrs:{disabled:2==t.operationType},model:{value:t.form.company_relation,callback:function(e){t.$set(t.form,"company_relation",e)},expression:"form.company_relation"}},[a("el-radio",{attrs:{label:"开发商"}}),t._v(" "),a("el-radio",{attrs:{label:"代理"}}),t._v(" "),a("el-radio",{attrs:{label:"分销"}}),t._v(" "),a("el-radio",{attrs:{label:"渠道"}}),t._v(" "),a("el-radio",{attrs:{label:"其他"}})],1)],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"结佣单位",prop:"statement_company"}},[a("el-input",{attrs:{disabled:2==t.operationType,"auto-complete":"off",placeholder:"请输入结佣单位名称"},model:{value:t.form.statement_company,callback:function(e){t.$set(t.form,"statement_company",e)},expression:"form.statement_company"}})],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"项目负责人",prop:"project_hold_name"}},[a("el-input",{attrs:{disabled:2==t.operationType,"auto-complete":"off",placeholder:"请输入项目负责人姓名"},model:{value:t.form.project_hold_name,callback:function(e){t.$set(t.form,"project_hold_name",e)},expression:"form.project_hold_name"}})],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"联系电话",prop:"project_hold_phone"}},[a("el-input",{attrs:{disabled:2==t.operationType,"auto-complete":"off",placeholder:"请输入联系电话"},model:{value:t.form.project_hold_phone,callback:function(e){t.$set(t.form,"project_hold_phone",e)},expression:"form.project_hold_phone"}})],1),t._v(" "),a("el-form-item",{staticClass:"textarea",attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{disabled:2==t.operationType,type:"textarea"},model:{value:t.form.remark,callback:function(e){t.$set(t.form,"remark",e)},expression:"form.remark"}})],1)],1),t._v(" "),a("div",{staticClass:"tableIn-btn"},[3==t.operationType?a("el-button",{attrs:{type:"primary"},on:{click:t.showUser}},[t._v("新增账号")]):t._e()],1),t._v(" "),a("el-table",{attrs:{data:t.form.project_user,border:""}},[a("el-table-column",{attrs:{property:"account",label:"帐号",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"name",label:"对接人",align:"center"}}),t._v(" "),1==t.operationType||3==t.operationType?a("el-table-column",{attrs:{property:"operation",label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.editUser(e.row,e.$index)}}},[t._v("修改")]),t._v(" "),1==t.operationType||3==t.operationType?a("el-button",{attrs:{type:"text"},on:{click:function(a){t.removeUser(e.$index)}}},[t._v("删除")]):t._e()]}}])}):t._e()],1),t._v(" "),a("div",[a("el-upload",{staticClass:"uploadFile",attrs:{"auto-upload":!1,action:"","on-change":t.fileUpload}},[a("el-button",{ref:"uploadBtn",staticClass:"uploadBtn",attrs:{size:"small",type:"primary","show-file-list":!1}},[t._v("点击上传")])],1)],1),t._v(" "),0==t.operationType||3==t.operationType?a("div",{staticClass:"tableIn-btn"},[a("el-button",{attrs:{type:"primary"},on:{click:t.showUploadFile}},[t._v("附件上传")])],1):t._e(),t._v(" "),a("el-table",{attrs:{data:t.form.project_agreement,border:""}},[a("el-table-column",{attrs:{property:"file_name",label:"文件名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"附件",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("a",{attrs:{target:"_blank",href:this.base+e.row.url}},[t._v("查看附件")])]}}])}),t._v(" "),a("el-table-column",{attrs:{property:"create_name",label:"上传人员",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"create_time",label:"上传时间",align:"center"}})],1),t._v(" "),a("div",[2==t.operationType?a("div",[a("div",{staticClass:"num_set"},[t._v("审核项目信息")]),t._v(" "),a("el-form",{staticClass:"form",attrs:{model:t.form,disabled:t.isDisable()}},[a("el-form-item",{staticClass:"inputAud",attrs:{label:"审核人员"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.auditing_info.auditing_name,callback:function(e){t.$set(t.auditing_info,"auditing_name",e)},expression:"auditing_info.auditing_name"}})],1),t._v(" "),a("el-form-item",{staticClass:"inputAud",attrs:{label:"审核时间"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.auditing_info.auditing_time,callback:function(e){t.$set(t.auditing_info,"auditing_time",e)},expression:"auditing_info.auditing_time"}})],1),t._v(" "),a("el-form-item",{staticClass:"inputAud state",attrs:{label:"审核状态"}},[t._v("\n            "+t._s(t.auditingState(t.auditing_info.check_state))+"\n          ")]),t._v(" "),a("el-form-item",{staticClass:"textarea",attrs:{label:"备注"}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.auditing_info.auditing_remark,callback:function(e){t.$set(t.auditing_info,"auditing_remark",e)},expression:"auditing_info.auditing_remark"}})],1)],1)],1):t._e(),t._v(" "),2==t.operationType?a("div",[a("div",{staticClass:"num_set"},[t._v("认证信息")]),t._v(" "),a("el-form",{staticClass:"form",model:{value:t.authentication_info,callback:function(e){t.authentication_info=e},expression:"authentication_info"}},[a("el-form-item",{staticClass:"inputAud",attrs:{label:"保证金金额（￥）："}},[a("el-input",{attrs:{"auto-complete":"off",disabled:t.isDisable()},model:{value:t.authentication_info.deposit,callback:function(e){t.$set(t.authentication_info,"deposit",e)},expression:"authentication_info.deposit"}})],1),t._v(" "),a("el-form-item",{staticClass:"inputAud",attrs:{label:"未结佣金总额（￥）："}},[a("el-input",{attrs:{"auto-complete":"off",disabled:t.isDisable()},model:{value:t.authentication_info.no_price,callback:function(e){t.$set(t.authentication_info,"no_price",e)},expression:"authentication_info.no_price"}})],1),t._v(" "),a("el-form-item",{staticClass:"inputAud",attrs:{label:"可退金额（￥）："}},[a("el-input",{attrs:{"auto-complete":"off",disabled:t.isDisable()},model:{value:t.authentication_info.allow,callback:function(e){t.$set(t.authentication_info,"allow",e)},expression:"authentication_info.allow"}})],1),t._v(" "),a("el-form-item",{staticClass:"inputAud state",attrs:{label:"项目状态"}},[t._v("\n            "+t._s(t.projectState(t.authentication_info.authentication_state))+"\n          ")]),t._v(" "),a("el-form-item",{staticClass:"request"},[t.authentication_info.deposit>0?a("el-button",{attrs:{type:"primary",disabled:2===t.operationType},on:{click:function(e){t.requestRefund()}}},[t._v("申请退款")]):t._e()],1),t._v(" "),a("div",{staticClass:"num_details"},[t._v("保证金详情")]),t._v(" "),a("el-table",{attrs:{data:t.authentication_info.business_log,border:""}},[a("el-table-column",{attrs:{label:"序号",align:"center",width:"70px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.getIndex(e)))]}}])}),t._v(" "),a("el-table-column",{attrs:{property:"drawee",label:"付款户名",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"payee",label:"收款户名",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"price",label:"金额（￥）",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"contact_name",label:"联系人",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"contact_phone",label:"联系电话",align:"center",width:"120px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"type",label:"类型",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.authenticationType(e.row.type)))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"state",label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.auditingState(e.row.state)))]}}])}),t._v(" "),a("el-table-column",{attrs:{property:"create_name",label:"交易人",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"create_time",label:"交易时间",align:"center",width:"150px"}}),t._v(" "),1==t.operationType?a("el-table-column",{attrs:{property:"operation",label:"操作",align:"center",width:"80px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.seeRefund(e.row)}}},[t._v("查看")])]}}])}):t._e()],1)],1)],1):t._e(),t._v(" "),2==t.operationType?a("div",{attrs:{disabled:2===t.operationType}},[a("div",{staticClass:"num_set"},[t._v("项目历史")]),t._v(" "),a("el-table",{attrs:{data:t.project_history,border:""}},[a("el-table-column",{attrs:{property:"nub",label:"序号",align:"center",width:"70px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.getIndex(e)))]}}])}),t._v(" "),a("el-table-column",{attrs:{property:"company_name",label:"公司名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"company_relation",label:"与项目关系",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"s_time",label:"开始时间",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"e_time",label:"结束时间",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"project_hold_name",label:"负责人",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"project_hold_phone",label:"联系方式",align:"center"}})],1)],1):t._e()]),t._v(" "),a("el-dialog",{staticClass:"tableUser",attrs:{title:"新建账号",visible:t.dialogFormVisibleAccounts},on:{"update:visible":function(e){t.dialogFormVisibleAccounts=e},close:t.cancelUser}},[a("el-form",{ref:"projectUserForm",attrs:{model:t.projectUserForm,rules:t.userFormRules}},[a("el-form-item",{staticClass:"input",attrs:{label:"设定帐号",prop:"account"}},[a("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入手机号码"},model:{value:t.projectUserForm.account,callback:function(e){t.$set(t.projectUserForm,"account",e)},expression:"projectUserForm.account"}})],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"设定密码",prop:"password"}},[a("el-input",{attrs:{"auto-complete":"off",type:"password",placeholder:"请输入密码"},model:{value:t.projectUserForm.password,callback:function(e){t.$set(t.projectUserForm,"password",e)},expression:"projectUserForm.password"}})],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"管理员",prop:"name"}},[a("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入管理员"},model:{value:t.projectUserForm.name,callback:function(e){t.$set(t.projectUserForm,"name",e)},expression:"projectUserForm.name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.cancelUser}},[t._v("关 闭")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.submitUser}},[t._v("确 定")])],1)],1)],1)])},staticRenderFns:[]};var tt=a("vSla")(X,K,!1,function(t){a("oU3P"),a("XXRF")},"data-v-a2aec05c",null).exports,et={data:function(){return{requestRefund:{project_id:"",price:"",refund_remarks:"",payee:"",payee_account:"",remark:"",payee_bank:""},allow:"",bankOptions:[],rules:{price:[{required:!0,message:"请输入退款金额,必须小于可退金额",change:"change",pattern:/^[0-9]+(.[0-9]{1,2})?$/}],payee:[{required:!0,message:"请输入收款人姓名,长度为2-5个字符",change:"change",pattern:/[\u4E00-\u9FA5]{2,5}(?:·[\u4E00-\u9FA5]{2,5})*/}],payee_account:[{required:!0,message:"请输入正确的银行卡号",change:"change",pattern:/^([1-9]{1})(\d{14}|\d{18})$/}],payee_bank:[{required:!0,message:"请选择收款银行",change:"change"}],refund_remarks:[{required:!0,message:"请输入退款原因,长度为5-255个字符",change:"change",max:255,min:5}]}}},mounted:function(){this.getBankOptions();var t=this.$route.params;void 0===t.project_id&&this.$router.push({name:"project"}),I()(this.requestRefund,t.project_id),this.requestRefund.project_id=t.project_id,this.allow=t.allow},methods:{close:function(){this.$router.push({name:"addProject",params:this.$route.params})},submit:function(){var t=this;return b()(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.$refs.requestRefund.validate(function(){var e=b()(d.a.mark(function e(a){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=7;break}return e.next=3,t.api.getRefund(t.requestRefund);case 3:200==e.sent.code&&t.$router.push({name:"addProject",params:t.$route.params}),e.next=8;break;case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}},e,t)}))()},getBankOptions:function(t){var e=this;return b()(d.a.mark(function a(){var r;return d.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.api.getBack({param_id:t});case 2:200==(r=a.sent).code&&(e.bankOptions=r.data);case 4:case"end":return a.stop()}},a,e)}))()}}},at={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"requestRefund"},[a("div",[a("div",{staticClass:"text"},[t._v("\n      申请退款\n      "),a("span",{staticClass:"btn"},[a("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("确定")]),t._v(" "),a("el-button",{on:{click:t.close}},[t._v("返回")])],1)]),t._v(" "),a("el-form",{ref:"requestRefund",staticClass:"table",attrs:{model:t.requestRefund,rules:t.rules}},[a("el-form-item",{staticClass:"input1",attrs:{label:"可退金额"}},[a("div",[t._v(" "+t._s(t.allow)+" ")])]),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"本次退款金额",prop:"price"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.requestRefund.price,callback:function(e){t.$set(t.requestRefund,"price",e)},expression:"requestRefund.price"}})],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"收款银行",prop:"payee_bank"}},[a("el-select",{staticClass:"select-1",attrs:{placeholder:"请选择收款银行"},on:{change:t.getBankOptions},model:{value:t.requestRefund.payee_bank,callback:function(e){t.$set(t.requestRefund,"payee_bank",e)},expression:"requestRefund.payee_bank"}},t._l(t.bankOptions,function(t){return a("el-option",{key:t.param_id,attrs:{label:t.param,value:t.param}})}))],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"收款银行卡号",prop:"payee_account"}},[a("el-input",{staticClass:"input",model:{value:t.requestRefund.payee_account,callback:function(e){t.$set(t.requestRefund,"payee_account",e)},expression:"requestRefund.payee_account"}})],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"收款人",prop:"payee"}},[a("el-input",{staticClass:"input",model:{value:t.requestRefund.payee,callback:function(e){t.$set(t.requestRefund,"payee",e)},expression:"requestRefund.payee"}})],1),t._v(" "),a("el-form-item",{staticClass:"input1",attrs:{label:"退款原因",prop:"refund_remarks"}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.requestRefund.refund_remarks,callback:function(e){t.$set(t.requestRefund,"refund_remarks",e)},expression:"requestRefund.refund_remarks"}})],1),t._v(" "),a("el-form-item",{staticClass:"input1",attrs:{label:"备注"}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.requestRefund.remark,callback:function(e){t.$set(t.requestRefund,"remark",e)},expression:"requestRefund.remark"}})],1)],1)],1)])},staticRenderFns:[]};var rt=a("vSla")(et,at,!1,function(t){a("teB4")},null,null).exports,nt={data:function(){return{refund:{id:"",price:""}}},mounted:function(){var t=this.$route.params;this.operationType=t.operationType,void 0!==this.operationType?(this.refund.id=this.$route.params.id,this.refund.id&&this.getBusinessInfo()):this.$router.push({name:"project"})},methods:{getBusinessInfo:function(){var t=this;return b()(d.a.mark(function e(){var a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.api.getBusinessInfo({id:t.refund.id});case 2:200==(a=e.sent).code&&(t.refund=a.data);case 4:case"end":return e.stop()}},e,t)}))()},cancelRefund:function(){this.$router.push({name:"addProject",params:this.$route.params})}}},st={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"payRecord"},[a("div",{staticClass:"payRecord-table"},[a("div",{staticClass:"title"},[t._v("缴纳记录")]),t._v(" "),a("div",{staticClass:"box"},[a("el-form",{staticClass:"table",model:{value:t.refund,callback:function(e){t.refund=e},expression:"refund"}},[a("el-form-item",{staticClass:"input1"},[a("div",[t._v("缴纳金额（￥）")]),t._v(" "),a("div",{staticClass:"border"},[t._v(t._s(t.refund.price))])]),t._v(" "),a("el-form-item",{staticClass:"input"},[a("div",[t._v("付款银行")]),t._v(" "),a("div",{staticClass:"border"},[t._v(t._s(t.refund.drawee_bank))])]),t._v(" "),a("el-form-item",{staticClass:"input"},[a("div",[t._v("付款银行卡号")]),t._v(" "),a("div",{staticClass:"border"},[t._v(t._s(t.refund.drawee_account))])]),t._v(" "),a("el-form-item",{staticClass:"input"},[a("div",[t._v("付款户名")]),t._v(" "),a("div",{staticClass:"border"},[t._v(t._s(t.refund.drawee))])]),t._v(" "),a("el-form-item",{staticClass:"input3"},[a("div",[t._v("付款时间")]),t._v(" "),a("div",{staticClass:"border"},[t._v(t._s(t.refund.create_time))])]),t._v(" "),a("el-form-item",{staticClass:"input"},[a("div",[t._v("收款银行")]),t._v(" "),a("div",{staticClass:"border"},[t._v(t._s(t.refund.payee_bank))])]),t._v(" "),a("el-form-item",{staticClass:"input"},[a("div",[t._v("收款银行卡号")]),t._v(" "),a("div",{staticClass:"border"},[t._v(t._s(t.refund.payee_account))])]),t._v(" "),a("el-form-item",{staticClass:"input"},[a("div",[t._v("收款户名")]),t._v(" "),a("div",{staticClass:"border"},[t._v(t._s(t.refund.payee))])]),t._v(" "),a("el-form-item",{staticClass:"input"},[a("div",[t._v("交易人")]),t._v(" "),a("div",{staticClass:"border"},[t._v(t._s(t.refund.create_name))])]),t._v(" "),a("el-form-item",{staticClass:"input"},[a("div",[t._v("联系电话")]),t._v(" "),a("div",{staticClass:"border"},[t._v(t._s(t.refund.contact_phone))])]),t._v(" "),a("el-form-item",{staticClass:"input2"},[a("div",[t._v("备注")]),t._v(" "),a("div",{staticClass:"border"},[t._v(t._s(t.refund.remark))])]),t._v(" "),a("div",{staticClass:"num_set"},[t._v("附件")]),t._v(" "),a("el-table",{attrs:{data:t.refund.file,border:""}},[a("el-table-column",{attrs:{label:"文件名称",prop:"file_name",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"附件",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("a",{attrs:{target:"_blank",href:this.base+e.row.url}},[t._v("查看附件")])]}}])}),t._v(" "),a("el-table-column",{attrs:{property:"create_name",label:"上传人员",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"create_time",label:"上传时间",align:"center"}})],1)],1),t._v(" "),a("div",{staticClass:"cancel",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.cancelRefund}},[t._v("关 闭")])],1)],1)])])},staticRenderFns:[]};var it=a("vSla")(nt,st,!1,function(t){a("691u")},null,null).exports,ot={data:function(){return{refund:{id:""}}},mounted:function(){var t=this,e=this.$route.params;this.operationType=e.operationType,void 0!==this.operationType?(this.refund.id=this.$route.params.id,this.refund.id?this.getBusinessInfo():this.$nextTick(function(){t.initMap()})):this.$router.push({name:"project"})},methods:{getBusinessInfo:function(){var t=this;return b()(d.a.mark(function e(){var a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.api.getBusinessInfo({id:t.refund.id});case 2:200==(a=e.sent).code&&(t.refund=a.data);case 4:case"end":return e.stop()}},e,t)}))()},cancelRefund:function(){this.$router.push({name:"addProject",params:this.$route.params})}}},lt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"payRecord"},[a("div",{staticClass:"title"},[t._v("退款信息")]),t._v(" "),a("div",{staticClass:"box"},[a("el-form",{staticClass:"table",model:{value:t.refund,callback:function(e){t.refund=e},expression:"refund"}},[a("el-form-item",{staticClass:"input1",attrs:{label:"退款金额（￥）"}},[a("div",{staticClass:"border"},[t._v(t._s(t.refund.price))])]),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"付款银行"}},[a("div",{staticClass:"border"},[t._v(t._s(t.refund.drawee_bank))])]),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"付款银行卡号"}},[a("div",{staticClass:"border"},[t._v(t._s(t.refund.drawee_account))])]),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"付款户名"}},[a("div",{staticClass:"border"},[t._v(t._s(t.refund.drawee))])]),t._v(" "),a("el-form-item",{staticClass:"input1",attrs:{label:"付款时间"}},[a("div",{staticClass:"border"},[t._v(t._s(t.refund.create_time))])]),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"收款银行"}},[a("div",{staticClass:"border"},[t._v(t._s(t.refund.payee_bank))])]),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"收款银行卡号"}},[a("div",{staticClass:"border"},[t._v(t._s(t.refund.payee_account))])]),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"收款户名"}},[a("div",{staticClass:"border"},[t._v(t._s(t.refund.payee))])]),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"交易人"}},[a("div",{staticClass:"border"},[t._v(t._s(t.refund.create_name))])]),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"联系电话"}},[a("div",{staticClass:"border"},[t._v(t._s(t.refund.contact_phone))])]),t._v(" "),a("el-form-item",{staticClass:"input2",attrs:{label:"备注"}},[a("div",{staticClass:"border"},[t._v(t._s(t.refund.remark))])]),t._v(" "),a("div",{staticClass:"num_set"},[t._v("附件")]),t._v(" "),a("el-table",{attrs:{data:t.refund.file,border:""}},[a("el-table-column",{attrs:{label:"文件名称",prop:"file_name",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"附件",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("a",{attrs:{target:"_blank",href:this.base+e.row.url}},[t._v("查看附件")])]}}])}),t._v(" "),a("el-table-column",{attrs:{property:"create_name",label:"上传人员",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"create_time",label:"上传时间",align:"center"}})],1)],1),t._v(" "),a("div",{staticClass:"cancel",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.cancelRefund}},[t._v("关 闭")])],1)],1)])},staticRenderFns:[]};var ct=a("vSla")(ot,lt,!1,function(t){a("Uihm")},"data-v-528506d0",null).exports,pt={data:function(){return{searchObj:{search:"",page:1},pageSize:0,total:0,tableData:[],dialogFormVisible:!1,showInfo:!1,examinePeople:{name:"",role:"",account:"",department:"",position:"",img_url:"",entry_time:"",project_name:"",sex:"",tel:"",birth:"",tabsolute_addressel:"",slef_desc:"",bank_card:"",bank_name:"",card_url:"",id_card:""},form:{id:null,remark:"",agent_id:""},showImgUrl:!1,showIdCard:!1}},mounted:function(){this.search()},methods:{seeimgUrl:function(){this.showImgUrl=!0},seeIdCard:function(){this.showIdCard=!0},getRole:function(t){return 1==t?"经纪人":2==t?"对接人":void 0},sumbit:function(){var t=this;return b()(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.api.quitPeople(t.form);case 2:200==e.sent.code&&(t.$message({type:"success",message:"离职成功"}),t.search(),t.cancel());case 4:case"end":return e.stop()}},e,t)}))()},showSee:function(t){var e=this;return b()(d.a.mark(function a(){var r;return d.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e.showInfo=!0,a.next=3,e.api.getPayrollInfo({agent_id:t.agent_id});case 3:200==(r=a.sent).code&&I()(e.examinePeople,r.data);case 5:case"end":return a.stop()}},a,e)}))()},role:function(t){return 1==t?"新房经纪人":2==t?"项目对接人":void 0},sex:function(t){return 1==t?"男":2==t?"女":0==t?"未设置":void 0},showQuit:function(t){this.form.id=t.id,this.form.agent_id=t.agent_id,this.dialogFormVisible=!0},showCancel:function(){this.showInfo=!1},cancel:function(){I()(this.form,this.$options.data().form),this.dialogFormVisible=!1},pageChange:function(t){this.search(t)},getIndex:function(t){return t.$index+1+(this.searchObj.page-1)*this.pageSize},search:function(t){var e=this;return b()(d.a.mark(function a(){var r;return d.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e.searchObj.page=t||1,a.next=3,e.api.getPayrollList(e.searchObj);case 3:200==(r=a.sent).code&&(e.tableData=r.data.data,e.total=r.data.total,e.pageSize=r.data.per_page);case 5:case"end":return a.stop()}},a,e)}))()}}},ut={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"agent"},[r("div",{staticClass:"title"},[r("div",{staticClass:"left"},[r("div",{staticClass:"text1"},[t._v("当前位置：在职经纪人")]),t._v(" "),r("div",{staticClass:"search-block"},[r("el-input",{staticClass:"query",attrs:{placeholder:"可查询云算号/经纪人姓名"},model:{value:t.searchObj.search,callback:function(e){t.$set(t.searchObj,"search",e)},expression:"searchObj.search"}}),t._v(" "),r("el-button",{attrs:{icon:"el-icon-search",circle:""},on:{click:function(e){t.search()}}})],1)])]),t._v(" "),r("el-table",{staticClass:"mt-20",staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[r("el-table-column",{attrs:{prop:"",label:"序号",align:"center",width:"70px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.getIndex(e)))]}}])}),t._v(" "),r("el-table-column",{attrs:{prop:"account",label:"云算号",align:"center",width:"100px"}}),t._v(" "),r("el-table-column",{attrs:{prop:"name",label:"经纪人姓名",align:"center",width:"140px"}}),t._v(" "),r("el-table-column",{attrs:{prop:"tel",label:"联系方式",align:"center",width:"140px"}}),t._v(" "),r("el-table-column",{attrs:{prop:"role",label:"角色",align:"center",width:"110px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.getRole(e.row.role)))]}}])}),t._v(" "),r("el-table-column",{attrs:{prop:"project_name",label:"申请项目",align:"center",width:"140px"}}),t._v(" "),r("el-table-column",{attrs:{prop:"department",label:"所属部门",align:"center",width:"140px"}}),t._v(" "),r("el-table-column",{attrs:{prop:"city_name",label:"城市",align:"center"}}),t._v(" "),r("el-table-column",{attrs:{prop:"district_name",label:"区域",align:"center"}}),t._v(" "),r("el-table-column",{attrs:{prop:"entry_time",label:"入职时间",align:"center",width:"140px"}}),t._v(" "),r("el-table-column",{attrs:{label:"操作",align:"center",width:"140px"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-button",{attrs:{type:"text"},on:{click:function(a){t.showQuit(e.row)}}},[t._v("离职")]),t._v(" "),r("el-button",{attrs:{type:"text"},on:{click:function(a){t.showSee(e.row)}}},[t._v("查看")])]}}])})],1),t._v(" "),r("el-pagination",{staticClass:"page",attrs:{background:"",layout:"prev, pager, next","page-size":t.pageSize,"current-page":t.searchObj.page,total:t.total},on:{"current-change":t.pageChange}}),t._v(" "),r("el-dialog",{staticClass:"dialog",attrs:{title:"离职申请",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e},close:t.cancel}},[r("el-form",{attrs:{model:t.form}},[r("el-form-item",{attrs:{label:"离职原因"}},[r("el-input",{staticClass:"textarea",attrs:{type:"textarea"},model:{value:t.form.remark,callback:function(e){t.$set(t.form,"remark",e)},expression:"form.remark"}})],1)],1),t._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:t.cancel}},[t._v("取 消")]),t._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:t.sumbit}},[t._v("确 定")])],1)],1),t._v(" "),r("el-dialog",{staticClass:"dialog",attrs:{title:"查看详情",visible:t.showInfo},on:{"update:visible":function(e){t.showInfo=e}}},[r("div",{staticClass:"showInfo"},[r("div",{staticClass:"btn"},[r("el-button",{attrs:{type:"primary"},on:{click:t.showCancel}},[t._v("关闭")])],1),t._v(" "),r("div",{staticClass:"num_set"},[t._v("员工信息")]),t._v(" "),r("el-form",{model:{value:t.examinePeople,callback:function(e){t.examinePeople=e},expression:"examinePeople"}},[r("el-form-item",{staticClass:"input1"},[r("div",[t._v("姓名")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.name))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("角色")]),t._v(" "),r("div",{staticClass:"border"},[t._v("\n            "+t._s(t.role(t.examinePeople.role))+"\n          ")])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("云算号")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.account))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("所属部门")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.department))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("职位")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.position))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("入职时间")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.entry_time))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("工牌照片")]),t._v(" "),r("div",{staticClass:"border  img"},[r("span",[t._v("(工牌照片)")]),t._v(" "),r("el-button",{attrs:{type:"text"},on:{click:t.seeimgUrl}},[t._v("点击查看")])],1)]),t._v(" "),r("div",{staticClass:"num_set"},[t._v("基础信息")]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("性别")]),t._v(" "),r("div",{staticClass:"border"},[t._v("\n            "+t._s(t.sex(t.examinePeople.sex))+"\n          ")])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("电话号码")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.tel))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("出生年月")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.birth))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("通讯地址")]),t._v(" "),r("div",{staticClass:"border1"},[t._v(t._s(t.examinePeople.city_name+t.examinePeople.district_name+t.examinePeople.absolute_address))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("身份证号码")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.id_card))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("绑定银行")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.bank_name))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("银行卡号")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.bank_card))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("证件照片")]),t._v(" "),r("div",{staticClass:"border  img"},[r("span",[t._v("(证件照片为正反两面)")]),t._v(" "),r("el-button",{attrs:{type:"text"},on:{click:t.seeIdCard}},[t._v("点击查看")])],1)]),t._v(" "),r("el-form-item",{staticClass:"input2"},[r("div",[t._v("个人介绍")]),t._v(" "),r("div",{staticClass:"border height"},[t._v(t._s(t.examinePeople.slef_desc))])])],1)],1)]),t._v(" "),r("el-dialog",{attrs:{title:"工牌照照片",visible:t.showImgUrl},on:{"update:visible":function(e){t.showImgUrl=e}}},[t.examinePeople.img_url?r("img",{staticClass:"heightWidth",attrs:{src:this.base+t.examinePeople.img_url}}):r("img",{staticClass:"heightWidth",attrs:{src:a("QKcC")}})]),t._v(" "),r("el-dialog",{staticClass:"showIdCard",attrs:{title:"证件照照片",visible:t.showIdCard},on:{"update:visible":function(e){t.showIdCard=e}}},[t.examinePeople.card_front?r("img",{staticClass:"heightWidth",attrs:{src:this.base+t.examinePeople.card_front}}):r("img",{staticClass:"heightWidth",attrs:{src:a("7VeV")}}),t._v(" "),t.examinePeople.card_back?r("img",{staticClass:"heightWidth",attrs:{src:+t.examinePeople.card_back}}):r("img",{staticClass:"heightWidth",attrs:{src:a("kQan")}})])],1)},staticRenderFns:[]};var mt=a("vSla")(pt,ut,!1,function(t){a("dARU"),a("gsBE")},"data-v-423a8370",null).exports,dt={data:function(){return{tableData:[],searchObj:{search:"",page:1},pageSize:0,total:0,companyType:0,personType:0}},mounted:function(){this.getProjectCommissionList()},methods:{companyPrice:function(t,e){0==e?this.$router.push({name:"companyPrice",params:{companyType:e,project_id:t.project_id}}):1==e?this.$router.push({name:"companyPrice",params:{companyType:e,project_id:t.project_id}}):2==e&&this.$router.push({name:"companyPrice",params:{companyType:e,project_id:t.project_id}})},personPrice:function(t,e){0==e?this.$router.push({name:"personPrice",params:{personType:e,project_id:t.project_id}}):2==e&&this.$router.push({name:"personPrice",params:{personType:e,project_id:t.project_id}})},search:function(){this.searchObj.page=1,this.getProjectCommissionList()},getIndex:function(t){return t.$index+1+(this.searchObj.page-1)*this.pageSize},pageChange:function(t){console.log(t),this.searchObj.page=t,this.getProjectCommissionList()},getProjectCommissionList:function(){var t=this;return b()(d.a.mark(function e(){var a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.api.getProjectCommissionList(t.searchObj);case 2:200==(a=e.sent).code&&(t.tableData=a.data.data,t.total=a.data.total,t.pageSize=a.data.per_page);case 4:case"end":return e.stop()}},e,t)}))()}}},_t={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"commission"},[a("div",{staticClass:"title"},[a("div",{staticClass:"table-title"},[a("div",{staticClass:"text1"},[t._v("当前位置：佣金管理")]),t._v(" "),a("div",{staticClass:"search-block"},[a("el-input",{staticClass:"query",attrs:{placeholder:"可按项目名称进行查询"},model:{value:t.searchObj.search,callback:function(e){t.$set(t.searchObj,"search",e)},expression:"searchObj.search"}}),t._v(" "),a("el-button",{attrs:{icon:"el-icon-search",circle:""},on:{click:t.getProjectCommissionList}})],1)])]),t._v(" "),[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{label:"序号",align:"center",width:"70px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.getIndex(e)))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"project_name",label:"项目名称",align:"center",width:"110px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"city_name",label:"区域",align:"center",width:"80px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"project_hold_name",label:"项目负责人",align:"center",width:"130px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"project_hold_phone",label:"联系方式",align:"center",width:"110px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"company_name",label:"所属单位",align:"center",width:"150px"}}),t._v(" "),a("el-table-column",{attrs:{label:"全部",align:"center"}},[a("el-table-column",{attrs:{prop:"all_all_price",label:"累计金额",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"all_y_price",label:"已结金额",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"all_n_price",label:"未结金额",align:"center"}})],1),t._v(" "),a("el-table-column",{attrs:{label:"公司",align:"center"}},[a("el-table-column",{attrs:{prop:"company_all_price",label:"累计金额",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.companyPrice(e.row,0)}}},[t._v(t._s(e.row.company_all_price))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"company_y_price",label:"已结金额",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.companyPrice(e.row,1)}}},[t._v(t._s(e.row.company_y_price))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"company_n_price",label:"未结金额",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.companyPrice(e.row,2)}}},[t._v(t._s(e.row.company_n_price))])]}}])})],1),t._v(" "),a("el-table-column",{attrs:{label:"全民经纪人",align:"center"}},[a("el-table-column",{attrs:{prop:"person_all_price",label:"累计金额",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.personPrice(e.row,0)}}},[t._v(t._s(e.row.person_all_price))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"person_y_price",label:"已结金额",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.personPrice(e.row,1)}}},[t._v(t._s(e.row.person_y_price))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"person_n_price",label:"未结金额",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.personPrice(e.row,2)}}},[t._v(t._s(e.row.person_n_price))])]}}])})],1)],1),t._v(" "),a("el-pagination",{staticClass:"page",attrs:{background:"",layout:"prev, pager, next","page-size":t.pageSize,"current-page":t.searchObj.page,total:t.total},on:{"current-change":t.pageChange}})]],2)},staticRenderFns:[]};var bt=a("vSla")(dt,_t,!1,function(t){a("5Vzw"),a("ro75")},"data-v-7eff1a80",null).exports,vt={data:function(){return{tableData:[],searchObj:{search:"",page:1},pageSize:0,total:0,companyType:0,project_id:""}},mounted:function(){this.companyType=this.$route.params.companyType,this.project_id=this.$route.params.project_id,this.project_id?this.getCompanyAll():this.$router.push({name:"commission"})},methods:{pageChange:function(t){this.search(t)},getIndex:function(t){return t.$index+1+(this.searchObj.page-1)*this.pageSize},search:function(){this.searchObj.page=1,this.getCompanyAll()},getCompanyAll:function(){var t=this;return b()(d.a.mark(function e(){var a,r,n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!=t.companyType){e.next=7;break}return e.next=3,t.api.getCompanyAll({project_id:t.project_id,search:t.searchObj.search});case 3:200==(a=e.sent).code&&(t.tableData=a.data.data,t.total=a.data.total,t.pageSize=a.data.per_page),e.next=19;break;case 7:if(1!=t.companyType){e.next=14;break}return e.next=10,t.api.getCompanyY({project_id:t.project_id,search:t.searchObj.search});case 10:200==(r=e.sent).code&&(t.tableData=r.data.data,t.total=r.data.total,t.pageSize=r.data.per_page),e.next=19;break;case 14:if(2!=t.companyType){e.next=19;break}return e.next=17,t.api.getCompanyNList({project_id:t.project_id,search:t.searchObj.search});case 17:200==(n=e.sent).code&&(t.tableData=n.data.data,t.total=n.data.total,t.pageSize=n.data.per_page);case 19:case"end":return e.stop()}},e,t)}))()},cancel:function(){this.$router.push({name:"commission"})},showAdd:function(t){var e=this;return b()(d.a.mark(function a(){return d.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:0==e.companyType?e.$router.push({name:"companyPriceInfo",params:{project_id:t.project_id,company_rule_id:t.company_rule_id,companyType:e.companyType}}):1==e.companyType?e.$router.push({name:"companyPriceInfo",params:{company_id:t.company_id,project_id:t.project_id,companyType:e.companyType}}):2==e.companyType&&e.$router.push({name:"companyPriceInfo",params:{company_rule_id:t.company_rule_id,project_id:t.project_id,companyType:e.companyType}});case 1:case"end":return a.stop()}},a,e)}))()}}},ft={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"companyType"},[0==t.companyType?a("div",{staticClass:"table"},[a("div",{staticClass:"title"},[a("span",{staticClass:"title-text"},[t._v("公司累计金额")]),t._v(" "),a("span",{staticClass:"search-block"},[a("span",{staticClass:"input-pad-right"},[a("el-input",{staticClass:"query",attrs:{placeholder:"可查询公司名称"},model:{value:t.searchObj.search,callback:function(e){t.$set(t.searchObj,"search",e)},expression:"searchObj.search"}}),t._v(" "),a("el-button",{staticClass:"margin-right",attrs:{icon:"el-icon-search",circle:""},on:{click:t.getCompanyAll}})],1),t._v(" "),a("el-button",{staticClass:"pos-btn",attrs:{type:"primary"},on:{click:t.cancel}},[t._v("关闭")])],1)]),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{prop:"",label:"序号",align:"center",width:"70px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.getIndex(e)))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"company_name",label:"公司名称",align:"center",width:"140px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"project_hold_name",label:"负责人",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"project_hold_phone",label:"联系电话",align:"center",width:"130px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"begin_time",label:"开始执行时间",align:"center",width:"110px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"end_time",label:"截至执行时间",align:"center",width:"110px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"absolute_address",label:"公司地址",align:"center",width:"220px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"price",label:"累计金额",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"operation",label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.showAdd(e.row)}}},[t._v("查看")])]}}])})],1),t._v(" "),a("el-pagination",{staticClass:"page",attrs:{background:"",layout:"prev, pager, next","page-size":t.pageSize,"current-page":t.searchObj.page,total:t.total},on:{"current-change":t.pageChange}})],1):t._e(),t._v(" "),1==t.companyType?a("div",{staticClass:"table"},[a("div",{staticClass:"title"},[a("span",{staticClass:"title-text"},[t._v("公司已结金额")]),t._v(" "),a("span",{staticClass:"search-block"},[a("span",{staticClass:"input-pad-right"},[a("el-input",{staticClass:"query",attrs:{placeholder:"可查询公司名称"},model:{value:t.searchObj.search,callback:function(e){t.$set(t.searchObj,"search",e)},expression:"searchObj.search"}}),t._v(" "),a("el-button",{staticClass:"margin-right",attrs:{icon:"el-icon-search",circle:""},on:{click:t.getCompanyAll}})],1),t._v(" "),a("el-button",{staticClass:"pos-btn",attrs:{type:"primary"},on:{click:t.cancel}},[t._v("关闭")])],1)]),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{prop:"",label:"序号",align:"center",width:"70px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.getIndex(e)))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"company_name",label:"公司名称",align:"center",width:"140px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"project_hold_name",label:"负责人",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"project_hold_phone",label:"联系电话",align:"center",width:"130px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"begin_time",label:"开始执行时间",align:"center",width:"110px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"end_time",label:"截至执行时间",align:"center",width:"110px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"absolute_address",label:"公司地址",align:"center",width:"220px"}}),t._v(" "),1==t.companyType?a("el-table-column",{attrs:{prop:"price",label:"已结金额",align:"center"}}):t._e(),t._v(" "),a("el-table-column",{attrs:{property:"operation",label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.showAdd(e.row)}}},[t._v("查看")])]}}])})],1),t._v(" "),a("el-pagination",{staticClass:"page",attrs:{background:"",layout:"prev, pager, next","page-size":t.pageSize,"current-page":t.searchObj.page,total:t.total},on:{"current-change":t.pageChange}})],1):t._e(),t._v(" "),2==t.companyType?a("div",{staticClass:"table"},[a("div",{staticClass:"title"},[a("span",{staticClass:"title-text"},[t._v("公司未结金额")]),t._v(" "),a("span",{staticClass:"search-block"},[a("span",{staticClass:"input-pad-right"},[a("el-input",{staticClass:"query",attrs:{placeholder:"可查询公司名称"},model:{value:t.searchObj.search,callback:function(e){t.$set(t.searchObj,"search",e)},expression:"searchObj.search"}}),t._v(" "),a("el-button",{staticClass:"margin-right",attrs:{icon:"el-icon-search",circle:""},on:{click:t.getCompanyAll}})],1),t._v(" "),a("el-button",{staticClass:"pos-btn",attrs:{type:"primary"},on:{click:t.cancel}},[t._v("关闭")])],1)]),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{prop:"",label:"序号",align:"center",width:"70px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.getIndex(e)))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"company_name",label:"公司名称",align:"center",width:"140px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"project_hold_name",label:"负责人",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"project_hold_phone",label:"联系电话",align:"center",width:"110px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"begin_time",label:"开始执行时间",align:"center",width:"110px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"end_time",label:"截至执行时间",align:"center",width:"110px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"absolute_address",label:"公司地址",align:"center",width:"220px"}}),t._v(" "),2==t.companyType?a("el-table-column",{attrs:{prop:"price",label:"未结金额",align:"center"}}):t._e(),t._v(" "),a("el-table-column",{attrs:{property:"operation",label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.showAdd(e.row)}}},[t._v("查看")])]}}])})],1),t._v(" "),a("el-pagination",{staticClass:"page",attrs:{background:"",layout:"prev, pager, next","page-size":t.pageSize,"current-page":t.searchObj.page,total:t.total},on:{"current-change":t.pageChange}})],1):t._e()])},staticRenderFns:[]};var ht=a("vSla")(vt,ft,!1,function(t){a("Ge+x"),a("6AtQ")},"data-v-6b142886",null).exports,gt={data:function(){return{tableData:[],tableDataS:[],tableDataSa:[],project_id:"",company_rule_id:"",searchObj:{search:"",page:1},pageSize:0,total:0,sumbitForm:{total_price:"",count:""},personType:0}},mounted:function(){this.company_id=this.$route.params.company_id,this.personType=this.$route.params.personType,this.project_id=this.$route.params.project_id,this.project_id?(this.company_rule_id=this.$route.params.company_rule_id,this.getPersonInfoList()):this.$router.push({name:"commission"})},methods:{pageChange:function(t){this.searchObj.page=t,this.getPersonInfoList()},getIndex:function(t){return t.$index+1+(this.searchObj.page-1)*this.pageSize},search:function(){this.searchObj.page=1,this.getPersonInfoList()},getPersonInfoList:function(){var t=this;return b()(d.a.mark(function e(){var a,r;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!=t.personType){e.next=7;break}return e.next=3,t.api.getPersonInfoList({project_id:t.project_id,search:t.searchObj.search,page:t.searchObj.page});case 3:200==(a=e.sent).code&&(t.tableData=a.data.broker_info.data,t.sumbitForm.total_price=a.data.total_price,t.sumbitForm.count=a.data.count,t.total=a.data.broker_info.total,t.pageSize=a.data.broker_info.per_page),e.next=12;break;case 7:if(2!=t.personType){e.next=12;break}return e.next=10,t.api.getPersonNInfo({project_id:t.project_id,search:t.searchObj.search,page:t.searchObj.page});case 10:200==(r=e.sent).code&&(t.tableDataSa=r.data.broker_info.data,t.sumbitForm.total_price=r.data.total_price,t.sumbitForm.count=r.data.count,t.total=r.data.broker_info.total,t.pageSize=r.data.broker_info.per_page);case 12:case"end":return e.stop()}},e,t)}))()},cancel:function(){this.$router.push({name:"commission",params:this.$route.params})},brokerType:function(t){return 1==t?"成交":2==t?"到访":3==t?"推荐":void 0},state:function(t){return 1==t?"已经付款":2==t?"未付款":0==t?"付款失败":void 0}}},yt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"personPrice"},[0==t.personType?a("div",{staticClass:"table"},[a("div",{staticClass:"title"},[a("span",{staticClass:"title-text"},[t._v("个人累计列表")]),t._v(" "),a("span",{staticClass:"search-block"},[a("span",[a("el-input",{staticClass:"query",attrs:{placeholder:"可查询推荐编号/经纪人名称"},model:{value:t.searchObj.search,callback:function(e){t.$set(t.searchObj,"search",e)},expression:"searchObj.search"}}),t._v(" "),a("el-button",{staticClass:"mt-10",attrs:{icon:"el-icon-search",circle:""},on:{click:t.getPersonInfoList}})],1),t._v(" "),a("el-button",{staticClass:"pos-btn",attrs:{type:"primary"},on:{click:t.cancel}},[t._v("关闭")])],1)]),t._v(" "),a("div",{staticClass:"text"},[a("span",{staticClass:"price"},[t._v("累计金额:"+t._s(t.sumbitForm.total_price))]),t._v(" "),a("span",{staticClass:"price"},[t._v("累计笔数:"+t._s(t.sumbitForm.count)+"笔")])]),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{prop:"",label:"序号",align:"center",width:"70px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.getIndex(e)))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"client_id",label:"推荐编号",align:"center",width:"100px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"project_name",label:"项目名称",align:"center",width:"120px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"house_info",label:"房间号",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"经纪人名称",align:"center",width:"110px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"tel",label:"联系电话",align:"center",width:"120px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"broker_type",label:"佣金类型",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.brokerType(e.row.broker_type)))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"broker_num",label:"佣金金额",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"commission_way",label:"计算规则",align:"center",width:"120px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"pay_state",label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.state(e.row.pay_state)))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"确认时间",align:"center",width:"160px"}})],1),t._v(" "),a("el-pagination",{staticClass:"page",attrs:{background:"",layout:"prev, pager, next","page-size":t.pageSize,"current-page":t.searchObj.page,total:t.total},on:{"current-change":t.pageChange}})],1):t._e(),t._v(" "),1==t.personType?a("div",{staticClass:"table"},[a("div",{staticClass:"title"},[a("span",{staticClass:"title-text"},[t._v("个人已结列表")]),t._v(" "),a("el-input",{staticClass:"query",attrs:{placeholder:"可查询付款单据号"},model:{value:t.searchObj.search,callback:function(e){t.$set(t.searchObj,"search",e)},expression:"searchObj.search"}}),t._v(" "),a("el-button",{attrs:{icon:"el-icon-search",circle:""},on:{click:t.getPersonInfoList}}),t._v(" "),a("el-button",{staticClass:"pos-btn",attrs:{type:"primary"},on:{click:t.cancel}},[t._v("关闭")])],1),t._v(" "),a("div",{staticClass:"text"},[a("span",{staticClass:"price"},[t._v("已结金额:"+t._s(t.sumbitForm.total_price))]),t._v(" "),a("span",{staticClass:"price"},[t._v("已结笔数:"+t._s(t.sumbitForm.count)+"笔")])]),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableDataS,border:""}},[a("el-table-column",{attrs:{prop:"",label:"序号",align:"center",width:"70px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.getIndex(e)))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"batch_name",label:"批次名称",align:"center",width:"120px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"apply_name",label:"申请人员",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"申请时间",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"broker_num",label:"申请金额",align:"center",width:"80px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"chargebacks_price",label:"扣款金额",align:"center",width:"80px"}}),t._v(" "),a("el-table-column",{attrs:{label:"审核金额",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.broker_num-e.row.chargebacks_price))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"check_name",label:"审核人员",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"check_time",label:"审核时间",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"document_num",label:"付款单据号",align:"center",width:"110px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"recive_bank",label:"收款银行",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"recive_bank_card",label:"收款银行卡号",align:"center",width:"120px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"recive_name",label:"收款户名",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"update_time",label:"确认时间",align:"center"}})],1),t._v(" "),a("el-pagination",{staticClass:"page",attrs:{background:"",layout:"prev, pager, next","page-size":t.pageSize,"current-page":t.searchObj.page,total:t.total},on:{"current-change":t.pageChange}})],1):t._e(),t._v(" "),2==t.personType?a("div",{staticClass:"table"},[a("div",{staticClass:"title"},[a("span",{staticClass:"title-text"},[t._v("个人未结列表")]),t._v(" "),a("span",{staticClass:"search-block"},[a("span",[a("el-input",{staticClass:"query",attrs:{placeholder:"可查询推荐编号/经纪人名称"},model:{value:t.searchObj.search,callback:function(e){t.$set(t.searchObj,"search",e)},expression:"searchObj.search"}}),t._v(" "),a("el-button",{staticClass:"mt-10",attrs:{icon:"el-icon-search",circle:""},on:{click:t.getPersonInfoList}})],1),t._v(" "),a("el-button",{staticClass:"pos-btn",attrs:{type:"primary"},on:{click:t.cancel}},[t._v("关闭")])],1)]),t._v(" "),a("div",{staticClass:"text"},[a("span",{staticClass:"price"},[t._v("未结金额:"+t._s(t.sumbitForm.total_price))]),t._v(" "),a("span",{staticClass:"price"},[t._v("未结笔数:"+t._s(t.sumbitForm.count)+"笔")])]),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableDataSa,border:""}},[a("el-table-column",{attrs:{prop:"",label:"序号",align:"center",width:"70px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.getIndex(e)))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"client_id",label:"推荐编号",align:"center",width:"100px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"project_name",label:"项目名称",align:"center",width:"140px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"house_info",label:"房间号",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"经纪人名称",align:"center",width:"140px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"tel",label:"联系电话",align:"center",width:"140px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"broker_type",label:"佣金类型",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.brokerType(e.row.broker_type)))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"broker_num",label:"佣金金额",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"commission_way",label:"计算规则",align:"center",width:"160px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"确认时间",align:"center",width:"180px"}})],1),t._v(" "),a("el-pagination",{staticClass:"page",attrs:{background:"",layout:"prev, pager, next","page-size":t.pageSize,"current-page":t.searchObj.page,total:t.total},on:{"current-change":t.pageChange}})],1):t._e()])},staticRenderFns:[]};var xt=a("vSla")(gt,yt,!1,function(t){a("QdLY"),a("6OuE")},"data-v-0e3c5386",null).exports,kt={data:function(){return{tableData:[],tableDataS:[],tableDataSa:[],project_id:"",company_rule_id:"",searchObj:{tag_search:"",search:"",page:1},pageSize:0,total:0,sumbitForm:{total_price:"",count:""},companyType:0}},mounted:function(){this.company_id=this.$route.params.company_id,this.companyType=this.$route.params.companyType,this.project_id=this.$route.params.project_id,this.project_id?(this.company_rule_id=this.$route.params.company_rule_id,this.getCompanyAllInfo()):this.$router.push({name:"companyPrice"})},methods:{search:function(){this.searchObj.page=1,this.getQuitList()},getIndex:function(t){return t.$index+1+(this.searchObj.page-1)*this.pageSize},pageChange:function(t){this.searchObj.page=t,this.getQuitList()},getCompanyAllInfo:function(){var t=this;return b()(d.a.mark(function e(){var a,r,n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!=t.companyType){e.next=7;break}return e.next=3,t.api.getCompanyAllInfo({project_id:t.project_id,company_rule_id:t.company_rule_id,search:t.searchObj.search});case 3:200==(a=e.sent).code&&(t.tableData=a.data.broker_info.data,t.sumbitForm.total_price=a.data.total_price,t.sumbitForm.count=a.data.count,t.total=a.data.broker_info.total,t.pageSize=a.data.broker_info.per_page),e.next=19;break;case 7:if(1!=t.companyType){e.next=14;break}return e.next=10,t.api.getCompanyYInfo({project_id:t.project_id,company_id:t.company_id,search:t.searchObj.search});case 10:200==(r=e.sent).code&&(t.tableDataS=r.data.batch_list.data,t.sumbitForm.total_price=r.data.total_price,t.sumbitForm.count=r.data.count,t.total=r.data.batch_list.total,t.pageSize=r.data.batch_list.per_page),e.next=19;break;case 14:if(2!=t.companyType){e.next=19;break}return e.next=17,t.api.getCompanyNInfo({project_id:t.project_id,company_rule_id:t.company_rule_id,search:t.searchObj.search});case 17:200==(n=e.sent).code&&(t.tableDataSa=n.data.broker_info.data,t.sumbitForm.total_price=n.data.total_price,t.sumbitForm.count=n.data.count,t.total=n.data.broker_info.total,t.pageSize=n.data.broker_info.per_page);case 19:case"end":return e.stop()}},e,t)}))()},cancel:function(){this.$router.push({name:"companyPrice",params:this.$route.params})},brokerType:function(t){return 1==t?"成交":2==t?"到访":3==t?"推荐":void 0},state:function(t){return 1==t?"已经付款":2==t?"未付款":0==t?"付款失败":void 0}}},Ct={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"companyPriceInfo"},[0==t.companyType?a("div",{staticClass:"table"},[a("div",{staticClass:"title"},[a("span",{staticClass:"title-text"},[t._v("公司累计列表")]),t._v(" "),a("span",{staticClass:"search-block"},[a("span",[a("el-input",{staticClass:"query",attrs:{placeholder:"可查询推荐编号/经纪人名称"},model:{value:t.searchObj.search,callback:function(e){t.$set(t.searchObj,"search",e)},expression:"searchObj.search"}}),t._v(" "),a("el-button",{staticClass:"margin-right",attrs:{icon:"el-icon-search",circle:""},on:{click:t.getCompanyAllInfo}})],1),t._v(" "),a("el-button",{staticClass:"pos-btn",attrs:{type:"primary"},on:{click:t.cancel}},[t._v("关闭")])],1)]),t._v(" "),a("div",{staticClass:"text"},[a("span",{staticClass:"price"},[t._v("累计金额:"+t._s(t.sumbitForm.total_price))]),t._v(" "),a("span",{staticClass:"price"},[t._v("累计笔数:"+t._s(t.sumbitForm.count)+"笔")])]),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{prop:"",label:"序号",align:"center",width:"70px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.getIndex(e)))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"client_id",label:"推荐编号",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"project_name",label:"项目名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"house_info",label:"房间号",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"经纪人名称",align:"center",width:"110px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"tel",label:"联系电话",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"broker_type",label:"佣金类型",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.brokerType(e.row.broker_type)))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"时间",align:"center",width:"160px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"broker_num",label:"佣金金额",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"commission_way",label:"计算规则",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"pay_state",label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.state(e.row.pay_state)))]}}])})],1),t._v(" "),a("el-pagination",{staticClass:"page",attrs:{background:"",layout:"prev, pager, next","page-size":t.pageSize,"current-page":t.searchObj.page,total:t.total},on:{"current-change":t.pageChange}})],1):t._e(),t._v(" "),1==t.companyType?a("div",{staticClass:"table"},[a("div",{staticClass:"title"},[a("span",{staticClass:"title-text"},[t._v("公司已结列表")]),t._v(" "),a("span",{staticClass:"search-block"},[a("span",[a("el-input",{staticClass:"query",attrs:{placeholder:"可查询付款单据号"},model:{value:t.searchObj.search,callback:function(e){t.$set(t.searchObj,"search",e)},expression:"searchObj.search"}}),t._v(" "),a("el-button",{staticClass:"margin-right",attrs:{icon:"el-icon-search",circle:""},on:{click:t.getCompanyAllInfo}})],1),t._v(" "),a("el-button",{staticClass:"pos-btn",attrs:{type:"primary"},on:{click:t.cancel}},[t._v("关闭")])],1)]),t._v(" "),a("div",{staticClass:"text"},[a("span",{staticClass:"price"},[t._v("已结金额:"+t._s(t.sumbitForm.total_price))]),t._v(" "),a("span",{staticClass:"price"},[t._v("已结笔数:"+t._s(t.sumbitForm.count)+"笔")])]),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableDataS,border:""}},[a("el-table-column",{attrs:{prop:"",label:"序号",align:"center",width:"70px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.getIndex(e)))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"batch_name",label:"批次名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"apply_name",label:"申请人员",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"申请时间",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"broker_num",label:"申请金额",align:"center",width:"80px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"chargebacks_price",label:"扣款金额",align:"center",width:"80px"}}),t._v(" "),a("el-table-column",{attrs:{label:"审核金额",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.broker_num-e.row.chargebacks_price))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"check_name",label:"审核人员",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"check_time",label:"审核时间",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"document_num",label:"付款单据号",align:"center",width:"110px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"recive_bank",label:"收款银行",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"recive_bank_card",label:"收款银行卡号",align:"center",width:"120px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"recive_name",label:"收款户名",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"update_time",label:"结佣时间",align:"center"}})],1),t._v(" "),a("el-pagination",{staticClass:"page",attrs:{background:"",layout:"prev, pager, next","page-size":t.pageSize,"current-page":t.searchObj.page,total:t.total},on:{"current-change":t.pageChange}})],1):t._e(),t._v(" "),2==t.companyType?a("div",{staticClass:"table"},[a("div",{staticClass:"title"},[a("span",{staticClass:"title-text"},[t._v("公司未结列表")]),t._v(" "),a("span",{staticClass:"search-block"},[a("span",[a("el-input",{staticClass:"query",attrs:{placeholder:"可查询推荐编号/经纪人名称"},model:{value:t.searchObj.search,callback:function(e){t.$set(t.searchObj,"search",e)},expression:"searchObj.search"}}),t._v(" "),a("el-button",{staticClass:"margin-right",attrs:{icon:"el-icon-search",circle:""},on:{click:t.getCompanyAllInfo}})],1),t._v(" "),a("el-button",{staticClass:"pos-btn",attrs:{type:"primary"},on:{click:t.cancel}},[t._v("关闭")])],1)]),t._v(" "),a("div",{staticClass:"text"},[a("span",{staticClass:"price"},[t._v("未结金额:"+t._s(t.sumbitForm.total_price))]),t._v(" "),a("span",{staticClass:"price"},[t._v("未结笔数:"+t._s(t.sumbitForm.count)+"笔")])]),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableDataSa,border:""}},[a("el-table-column",{attrs:{prop:"",label:"序号",align:"center",width:"70px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.getIndex(e)))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"client_id",label:"推荐编号",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"project_name",label:"项目名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"house_info",label:"房间号",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"经纪人名称",align:"center",width:"110px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"tel",label:"联系电话",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"broker_type",label:"佣金类型",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.brokerType(e.row.broker_type)))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"时间",align:"center",width:"160px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"broker_num",label:"佣金金额",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"commission_way",label:"计算规则",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"pay_state",label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.state(e.row.pay_state)))]}}])})],1),t._v(" "),a("el-pagination",{staticClass:"page",attrs:{background:"",layout:"prev, pager, next","page-size":t.pageSize,"current-page":t.searchObj.page,total:t.total},on:{"current-change":t.pageChange}})],1):t._e()])},staticRenderFns:[]};var jt=a("vSla")(kt,Ct,!1,function(t){a("PN4Q"),a("h8t3")},"data-v-34d01e63",null).exports,wt={data:function(){return{tableData:[],project_id:"",searchObj:{serach:"",page:1},limit:10,total:0}},mounted:function(){this.getDistributionList()},methods:{getIndex:function(t){return t.$index+1+10*(this.searchObj.page-1)},see:function(t){this.$router.push({name:"maidInfo",params:{project_id:t.project_id}})},commissionApply:function(t){this.$router.push({name:"commissionApply",params:{project_id:t.project_id,rule_id:t.rule_id}})},search:function(){this.searchObj.page=1,this.getDistributionList()},pageChange:function(t){this.searchObj.page=t,this.getDistributionList()},getDistributionList:function(){var t=this;return b()(d.a.mark(function e(){var a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.api.getDistributionList(t.searchObj);case 2:200==(a=e.sent).code&&(t.tableData=a.data.data,t.total=a.data.total);case 4:case"end":return e.stop()}},e,t)}))()},state:function(t){return 1==t?"申请佣金":2==t?"查看佣金详情 ":3==t?"申请付款":4==t?"重新申请付款":void 0}}},Ft={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"distri_commission"},[a("div",{staticClass:"title"},[a("div",{staticClass:"table-title"},[a("div",{staticClass:"text1"},[t._v("当前位置：分销佣金管理")]),t._v(" "),a("div",{staticClass:"search-block"},[a("el-input",{staticClass:"query",attrs:{placeholder:"可按项目名称进行查询"},model:{value:t.searchObj.search,callback:function(e){t.$set(t.searchObj,"search",e)},expression:"searchObj.search"}}),t._v(" "),a("el-button",{attrs:{icon:"el-icon-search",circle:""},on:{click:t.getDistributionList}})],1)])]),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{label:"序号",align:"center",width:"70px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.getIndex(e)))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"project_name",label:"项目名称",align:"center",width:"120px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"developer_name",label:"房产商",align:"center",width:"150px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"city",label:"区域",align:"center",width:"100px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"project_hold_name",label:"项目负责人",align:"center",width:"100px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"project_hold_phone",label:"联系方式",align:"center",width:"110px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"all_price",label:"累计金额",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"y_price",label:"已结金额",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"chargebacks_price",label:"扣款金额",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"n_price",label:"未结金额",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"notice",label:"是否可申请退款",align:"center",width:"140px"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"180px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.commissionApply(e.row)}}},[t._v("佣金申请")]),t._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){t.see(e.row)}}},[t._v("查看佣金记录")])]}}])})],1),t._v(" "),a("el-pagination",{staticClass:"page",attrs:{background:"",layout:"prev, pager, next","page-size":t.limit,"current-page":t.searchObj.page,total:t.total},on:{"current-change":t.pageChange}})],1)},staticRenderFns:[]};var At=a("vSla")(wt,Ft,!1,function(t){a("qdUU"),a("pUZd")},"data-v-38a35170",null).exports,St=a("a3Yh"),It=a.n(St),$t={data:function(){return{tableData:[],tableDataS:[],batch_id:"",searchObj:{page:1},pageSize1:0,total1:0,pageSize:0,total:0,operationType:0}},mounted:function(){this.project_id=this.$route.params.project_id,this.operationType=this.$route.params.operationType,void 0!==this.project_id?this.seeCommissionList():this.$router.push({name:"distri_commission"})},methods:{requestPayment:function(t,e){this.$router.push({name:"requestPayment",params:{project_id:this.project_id,batch_id:t.batch_id,state:t.state?t.state:t.examine_state,batch_name:t.batch_name,operationType:e}})},getIndex:function(t){return t.$index+1+(this.searchObj.page-1)*this.pageSize},pageChange:function(t){this.searchObj.page=t,this.changeProjectList()},seeCommissionList:function(t){var e=this;return b()(d.a.mark(function t(){var a;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.api.seeCommissionList({project_id:e.project_id});case 2:200==(a=t.sent).code&&(e.tableData=a.data.broker.data,e.tableDataS=a.data.price.data,e.total=a.data.broker.total,e.pageSize=a.data.broker.per_page,e.total1=a.data.price.total,e.pageSize1=a.data.price.per_page);case 4:case"end":return t.stop()}},t,e)}))()},see:function(t,e){var a=this;return b()(d.a.mark(function r(){return d.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:a.$router.push({name:"updateCommission",params:It()({project_id:a.project_id,operationType:a.operationType,batch_id:t.batch_id,state:t.state},"operationType",e)});case 1:case"end":return r.stop()}},r,a)}))()},seePayment:function(t,e){var a=this;return b()(d.a.mark(function r(){return d.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:a.$router.push({name:"updateCommission",params:It()({project_id:a.project_id,operationType:a.operationType,apply_id:t.apply_id,batch_id:t.batch_id},"operationType",e)});case 1:case"end":return r.stop()}},r,a)}))()},remove:function(t){var e=this;this.$confirm("此操作将删除结佣申请, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(b()(d.a.mark(function a(){var r;return d.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return(r={}).batch_id=t.batch_id,r.state=t.state,a.next=5,e.api.delBroker(r);case 5:200==a.sent.code&&(e.$message({type:"success",message:"删除成功!"}),e.seeCommissionList());case 7:case"end":return a.stop()}},a,e)}))).catch(function(){e.$message({type:"info",message:"已取消删除结佣申请"})})},examineState:function(t){return 0==t?"拒绝":1==t?"通过":2==t?"待审核":void 0},state:function(t){return 0==t?"拒绝":1==t?"通过 ":2==t?"待审核":3==t?"待提交":void 0},cancel:function(){this.$router.push({name:"distri_commission"})}}},Tt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"maidInfo"},[a("div",{staticClass:"table"},[a("div",{staticClass:"title"},[a("div",{staticClass:"title-text"},[t._v("结佣申请列表")]),t._v(" "),a("el-button",{staticClass:"pos-btn",attrs:{type:"primary"},on:{click:t.cancel}},[t._v("关闭")])],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{property:"id",label:"序号",align:"center",width:"70px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.getIndex(e)))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"batch_name",label:"申请名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"broker_num",label:"申请金额 (￥)",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"count_num",label:"申请笔数",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"create_name",label:"申请人员",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"申请时间",align:"center",width:"160px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"state",label:"申请状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.state(e.row.state)))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"180px"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.state?a("el-button",{attrs:{type:"text"},on:{click:function(a){t.requestPayment(e.row,4)}}},[t._v("付款申请")]):t._e(),t._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){t.see(e.row,0)}}},[t._v("查看")]),t._v(" "),3==e.row.state?a("el-button",{attrs:{type:"text"},on:{click:function(a){t.see(e.row,1)}}},[t._v("修改")]):t._e(),t._v(" "),0==e.row.state||3==e.row.state?a("el-button",{attrs:{type:"text"},on:{click:function(a){t.remove(e.row)}}},[t._v("删除")]):t._e()]}}])})],1),t._v(" "),a("el-pagination",{staticClass:"page",attrs:{background:"",layout:"prev, pager, next","page-size":t.pageSize,"current-page":t.searchObj.page,total:t.total},on:{"current-change":t.pageChange}}),t._v(" "),a("div",{staticClass:"title-text"},[t._v("付款申请列表")]),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableDataS,border:""}},[a("el-table-column",{attrs:{property:"id",label:"序号",align:"center",width:"70px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.getIndex(e)))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"batch_name",label:"申请名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"broker_num",label:"申请金额 (￥)",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"chargebacks_price",label:"扣款金额(￥)",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"",label:"审核金额(￥)",align:"center",width:"160px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.broker_num-e.row.chargebacks_price))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"count_num",label:"申请笔数",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"create_name",label:"申请人员",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"申请时间",align:"center",width:"160px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"examine_state",label:"审核状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.examineState(e.row.examine_state)))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"140px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.seePayment(e.row,2)}}},[t._v("查看")]),t._v(" "),0==e.row.examine_state?a("el-button",{attrs:{type:"text"},on:{click:function(a){t.seePayment(e.row,3)}}},[t._v("重新申请")]):t._e()]}}])})],1),t._v(" "),a("el-pagination",{staticClass:"page",attrs:{background:"",layout:"prev, pager, next","page-size":t.pageSize1,"current-page":t.searchObj.page,total:t.total1},on:{"current-change":t.pageChange}})],1)])},staticRenderFns:[]};var Pt=a("vSla")($t,Tt,!1,function(t){a("Shcb"),a("C0hH")},"data-v-4d2333f0",null).exports,Ot={data:function(){return{rules:{batch_name:[{required:!0,message:"请输入申请名称,长度为2-20个字符",change:"change",max:20,min:2}],nail_name:[{required:!0,message:"请输入联系人,2-5个字符，必须是中文",change:"change",pattern:/[\u4E00-\u9FA5]{2,5}(?:·[\u4E00-\u9FA5]{2,5})*/}],nail_tel:[{required:!0,message:"请输入电话号码，11位手机号码格式",change:"change",pattern:/^1[34578]\d{9}$/}],second_name:[{required:!0,message:"请输入联系人,2-5个字符,必须是中文",change:"change",pattern:/[\u4E00-\u9FA5]{2,5}(?:·[\u4E00-\u9FA5]{2,5})*/}],second_tel:[{required:!0,message:"请输入电话号码，11位手机号码格式",change:"change",pattern:/^1[34578]\d{9}$/}]},tableData:[],sumbitForm:{batch_name:"",nail_name:"",nail_tel:"",second_name:"",second_tel:"",broker_id:"",state:3,count_num:0},no_price:0,rule_id:"",project_id:"",operationType:0}},mounted:function(){if(this.broker_id=this.$route.params.broker_id,this.project_id=this.$route.params.project_id,this.operationType=this.$route.params.operationType,this.project_id){var t=new Date;this.sumbitForm.batch_name=t.getFullYear()+"年"+(t.getMonth()+1)+"月"+t.getDate()+"日",this.rule_id=this.$route.params.rule_id,this.getBrokerApply()}else this.$router.push({name:"distri_commission"})},methods:{sumbit:function(t){var e,a=this;this.$refs.sumbitForm.validate((e=b()(d.a.mark(function e(r){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=4;break}a.$confirm("此操作将提交成功, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(b()(d.a.mark(function e(){var r;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(r=I()({},a.sumbitForm)).project_id=a.project_id,r.state=t,e.next=5,a.api.brokerApply(r);case 5:200==e.sent.code&&(a.$message({type:"success",message:"提交成功!"}),a.$router.push({name:"maidInfo"}));case 7:case"end":return e.stop()}},e,a)}))).catch(function(){a.$message({type:"info",message:"已取消提交佣金申请"})}),e.next=5;break;case 4:return e.abrupt("return",!1);case 5:case"end":return e.stop()}},e,a)})),function(t){return e.apply(this,arguments)}))},getBrokerApply:function(){var t=this;return b()(d.a.mark(function e(){var a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.api.getBrokerApply({project_id:t.project_id,rule_id:t.rule_id});case 2:200==(a=e.sent).code&&(t.tableData=a.data);case 4:case"end":return e.stop()}},e,t)}))()},type:function(t){return 1==t?"成交":2==t?"到访":3==t?"推荐":void 0},cancel:function(){this.$router.push({name:"distri_commission"})},handleSelectionChange:function(t){var e=[],a=0,r=!0,n=!1,s=void 0;try{for(var i,o=U()(t);!(r=(i=o.next()).done);r=!0){var l=i.value;a+=l.broker_num,e.push(l.broker_id)}}catch(t){n=!0,s=t}finally{try{!r&&o.return&&o.return()}finally{if(n)throw s}}this.sumbitForm.broker_id=e.join(","),this.sumbitForm.count_num=e.length,this.no_price=a}}},Rt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"commissionApply"},[a("div",{staticClass:"table"},[a("div",{staticClass:"title"},[a("el-button",{staticClass:"pos-btn-1",attrs:{type:"primary"},on:{click:function(e){t.sumbit(2)}}},[t._v("提交")]),t._v(" "),a("el-button",{staticClass:"pos-btn-2",attrs:{type:"primary"},on:{click:function(e){t.sumbit(3)}}},[t._v("保存")]),t._v(" "),a("el-button",{staticClass:"pos-btn",attrs:{type:"primary"},on:{click:t.cancel}},[t._v("关闭")])],1),t._v(" "),a("div",{staticClass:"title-text"},[t._v("佣金申请信息")]),t._v(" "),a("el-form",{ref:"sumbitForm",staticClass:"form",attrs:{model:t.sumbitForm,rules:t.rules}},[a("el-form-item",{staticClass:"row",attrs:{label:"申请名称",prop:"batch_name"}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off"},model:{value:t.sumbitForm.batch_name,callback:function(e){t.$set(t.sumbitForm,"batch_name",e)},expression:"sumbitForm.batch_name"}})],1),t._v(" "),a("el-form-item",{staticClass:"row",attrs:{label:"甲方联系人",prop:"nail_name"}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off"},model:{value:t.sumbitForm.nail_name,callback:function(e){t.$set(t.sumbitForm,"nail_name",e)},expression:"sumbitForm.nail_name"}})],1),t._v(" "),a("el-form-item",{staticClass:"row",attrs:{label:"甲方联系电话",prop:"nail_tel"}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off"},model:{value:t.sumbitForm.nail_tel,callback:function(e){t.$set(t.sumbitForm,"nail_tel",e)},expression:"sumbitForm.nail_tel"}})],1),t._v(" "),a("el-form-item",{staticClass:"row",attrs:{label:"乙方联系人",prop:"second_name"}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off"},model:{value:t.sumbitForm.second_name,callback:function(e){t.$set(t.sumbitForm,"second_name",e)},expression:"sumbitForm.second_name"}})],1),t._v(" "),a("el-form-item",{staticClass:"row",attrs:{label:"乙方联系电话",prop:"second_tel"}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off"},model:{value:t.sumbitForm.second_tel,callback:function(e){t.$set(t.sumbitForm,"second_tel",e)},expression:"sumbitForm.second_tel"}})],1),t._v(" "),a("el-form-item",{staticClass:"row",attrs:{label:"申请笔数"}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off",disabled:1==!t.operationType},model:{value:t.sumbitForm.count_num,callback:function(e){t.$set(t.sumbitForm,"count_num",e)},expression:"sumbitForm.count_num"}})],1),t._v(" "),a("el-form-item",{staticClass:"row",attrs:{label:"佣金金额（￥）："}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off",disabled:1==!t.operationType},model:{value:t.no_price,callback:function(e){t.no_price=e},expression:"no_price"}})],1)],1),t._v(" "),a("div",{staticClass:"title-text"},[t._v("申请结佣列表")]),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"client_id",label:"推荐编号",align:"center",width:"120px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"经纪人名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"tel",label:"联系电话",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"broker_type",label:"佣金类型",align:"center",width:"180px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.type(e.row.broker_type)))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"时间",align:"center",width:"160px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"broker_num",label:"佣金金额",align:"center"}})],1)],1)])},staticRenderFns:[]};var Bt=a("vSla")(Ot,Rt,!1,function(t){a("DnyK"),a("cLMM")},"data-v-422be68f",null).exports,Dt={data:function(){return{rules:{recive_bank:[{required:!0,message:"请选择收款银行",change:"change"}],recive_name:[{required:!0,message:"请输入收款户名,长度为2-5个字符",change:"change",pattern:/[\u4E00-\u9FA5]{2,5}(?:·[\u4E00-\u9FA5]{2,5})*/}],recive_bank_card:[{required:!0,message:"请输入正确的银行卡号",change:"change",pattern:/^([1-9]{1})(\d{14}|\d{18})$/}]},tableData:[],applyFile:[],bankOptions:[],operationType:0,submitForm:{},form:{},batch_id:"",state:"",batch_name:"",nail_name:"",nail_tel:"",second_name:"",second_tel:"",no_price:0,apply_id:"",searchObj:{search:""}}},mounted:function(){this.apply_id=this.$route.params.apply_id,this.operationType=this.$route.params.operationType,this.state=this.$route.params.state,this.batch_id=this.$route.params.batch_id,void 0!==this.batch_id?(this.updateBroker(),this.getBankOptions()):this.$router.push({name:"distri_commission"})},methods:{getBankOptions:function(t){var e=this;return b()(d.a.mark(function a(){var r;return d.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.api.getBack({param_id:t});case 2:200==(r=a.sent).code&&(e.bankOptions=r.data);case 4:case"end":return a.stop()}},a,e)}))()},sumbit:function(t){var e,a=this;this.$refs.form.validate((e=b()(d.a.mark(function e(r){var n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=19;break}if(1!=a.operationType){e.next=16;break}return(n={}).state=t,n.batch_id=a.submitForm.batch_id,n.batch_name=a.submitForm.batch_name,n.nail_name=a.submitForm.nail_name,n.nail_tel=a.submitForm.nail_tel,n.second_name=a.submitForm.second_name,n.second_tel=a.submitForm.second_tel,e.next=12,a.api.updateBrokerSumbit(n);case 12:200==e.sent.code&&a.$router.push({name:"distri_commission"}),e.next=17;break;case 16:3==a.operationType&&a.$confirm("此操作将提交付重新款申请, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(b()(d.a.mark(function t(){var e;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(e={}).apply_id=a.apply_id,e.recive_bank=a.form.recive_bank,e.recive_bank_card=a.form.recive_bank_card,e.recive_name=a.form.recive_name,t.next=7,a.api.rePriceApplySumbit(e);case 7:200==t.sent.code&&(a.$router.push({name:"maidInfo"}),a.$message({type:"success",message:"提交成功!"}));case 9:case"end":return t.stop()}},t,a)}))).catch(function(){a.$message({type:"info",message:"已取消提交重新申请付款"})});case 17:e.next=20;break;case 19:return e.abrupt("return",!1);case 20:case"end":return e.stop()}},e,a)})),function(t){return e.apply(this,arguments)}))},updateBroker:function(){var t=this;return b()(d.a.mark(function e(){var a,r;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((a=I()({},t.submitForm)).batch_id=t.batch_id,a.state=t.state,a.apply_id=t.apply_id,r={},1!=t.operationType){e.next=11;break}return e.next=8,t.api.updateBroker(a);case 8:r=e.sent,e.next=21;break;case 11:if(0!=t.operationType){e.next=17;break}return e.next=14,t.api.getBrokerInfo(a);case 14:r=e.sent,e.next=21;break;case 17:if(3!=t.operationType&&2!=t.operationType){e.next=21;break}return e.next=20,t.api.getApplyInfo(a);case 20:r=e.sent;case 21:200==r.code&&(t.tableData=r.data.brokerList,t.$nextTick(function(){var e=!0,a=!1,r=void 0;try{for(var n,s=U()(t.tableData);!(e=(n=s.next()).done);e=!0){var i=n.value;t.$refs.multipleTable.toggleRowSelection(i)}}catch(t){a=!0,r=t}finally{try{!e&&s.return&&s.return()}finally{if(a)throw r}}}),t.submitForm=r.data.brokerInfo,t.form=r.data.applyInfo,t.applyFile=r.data.applyFile);case 22:case"end":return e.stop()}},e,t)}))()},handleSelectionChange:function(t){var e=[],a=0,r=!0,n=!1,s=void 0;try{for(var i,o=U()(t);!(r=(i=o.next()).done);r=!0){var l=i.value;a+=l.broker_num,e.push(l.broker_id)}}catch(t){n=!0,s=t}finally{try{!r&&o.return&&o.return()}finally{if(n)throw s}}this.submitForm.broker_id=e.join(","),this.submitForm.count_num=e.length,this.no_price=a},type:function(t){return 1==t?"成交":2==t?"到访":3==t?"推荐":void 0},cancel:function(){this.$router.push({name:"maidInfo",params:this.$route.params})}}},Ut={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"updateCommission"},[a("div",{staticClass:"table"},[a("div",{staticClass:"title"},[1==t.operationType||3==t.operationType?a("el-button",{staticClass:"pos-btn-1",attrs:{type:"primary"},on:{click:function(e){t.sumbit(2)}}},[t._v("提交")]):t._e(),t._v(" "),a("el-button",{staticClass:"pos-btn",attrs:{type:"primary"},on:{click:t.cancel}},[t._v("关闭")])],1),t._v(" "),2==t.operationType||3==t.operationType?a("div",[a("div",{staticClass:"title-text"},[t._v("付款申请信息")]),t._v(" "),a("el-form",{ref:"form",staticClass:"form",attrs:{model:t.form,disabled:2==t.operationType,rules:t.rules}},[3==!t.operationType||t.form&&1==t.form.examine_state?a("el-form-item",{staticClass:"row",attrs:{label:"单据号"}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off",disabled:3==t.operationType},model:{value:t.form.document_num,callback:function(e){t.$set(t.form,"document_num",e)},expression:"form.document_num"}})],1):t._e(),t._v(" "),3==!t.operationType||t.form&&1==t.form.examine_state?a("el-form-item",{staticClass:"row",attrs:{label:"付款银行"}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off"},model:{value:t.form.send_bank,callback:function(e){t.$set(t.form,"send_bank",e)},expression:"form.send_bank"}})],1):t._e(),t._v(" "),3==!t.operationType||t.form&&1==t.form.examine_state?a("el-form-item",{staticClass:"row",attrs:{label:"付款人"}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off"},model:{value:t.form.apply_name,callback:function(e){t.$set(t.form,"apply_name",e)},expression:"form.apply_name"}})],1):t._e(),t._v(" "),3==!t.operationType||t.form&&1==t.form.examine_state?a("el-form-item",{staticClass:"row",attrs:{label:"付款银行卡号"}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off"},model:{value:t.form.send_bank_card,callback:function(e){t.$set(t.form,"send_bank_card",e)},expression:"form.send_bank_card"}})],1):t._e(),t._v(" "),a("el-form-item",{staticClass:"row",attrs:{label:"申请付款批次名称"}},[a("el-input",{staticClass:"input",attrs:{disabled:!0,"auto-complete":"off"},model:{value:t.submitForm.batch_name,callback:function(e){t.$set(t.submitForm,"batch_name",e)},expression:"submitForm.batch_name"}})],1),t._v(" "),a("el-form-item",{staticClass:"row",attrs:{label:"收款银行",prop:"recive_bank"}},[a("el-select",{attrs:{placeholder:"请选择收款银行"},on:{change:t.getBankOptions},model:{value:t.form.recive_bank,callback:function(e){t.$set(t.form,"recive_bank",e)},expression:"form.recive_bank"}},t._l(t.bankOptions,function(t){return a("el-option",{key:t.param_id,attrs:{label:t.param,value:t.param}})}))],1),t._v(" "),a("el-form-item",{staticClass:"row",attrs:{label:"收款银行卡号",prop:"recive_bank_card"}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off"},model:{value:t.form.recive_bank_card,callback:function(e){t.$set(t.form,"recive_bank_card",e)},expression:"form.recive_bank_card"}})],1),t._v(" "),a("el-form-item",{staticClass:"row",attrs:{label:"收款户名：",prop:"recive_name"}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off"},model:{value:t.form.recive_name,callback:function(e){t.$set(t.form,"recive_name",e)},expression:"form.recive_name"}})],1),t._v(" "),a("el-form-item",{staticClass:"row",attrs:{label:"申请付款金额(￥)："}},[a("el-input",{staticClass:"input",attrs:{disabled:!0,"auto-complete":"off"},model:{value:t.submitForm.broker_num,callback:function(e){t.$set(t.submitForm,"broker_num",e)},expression:"submitForm.broker_num"}})],1),t._v(" "),a("el-form-item",{staticClass:"row",attrs:{label:"申请人员："}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off",disabled:3==t.operationType},model:{value:t.form.apply_name,callback:function(e){t.$set(t.form,"apply_name",e)},expression:"form.apply_name"}})],1),t._v(" "),a("el-form-item",{staticClass:"row",attrs:{label:"申请时间："}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off",disabled:3==t.operationType},model:{value:t.form.create_time,callback:function(e){t.$set(t.form,"create_time",e)},expression:"form.create_time"}})],1),t._v(" "),t.form&&1==t.form.examine_state||t.form&&0==t.form.examine_state?a("el-form-item",{staticClass:"row",attrs:{label:"审核人",disabled:3==t.operationType}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off",disabled:3==t.operationType},model:{value:t.form.check_name,callback:function(e){t.$set(t.form,"check_name",e)},expression:"form.check_name"}})],1):t._e(),t._v(" "),t.form&&1==t.form.examine_state||t.form&&0==t.form.examine_state?a("el-form-item",{staticClass:"row",attrs:{label:"审核时间",disabled:3==t.operationType}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off",disabled:3==t.operationType},model:{value:t.form.create_time,callback:function(e){t.$set(t.form,"create_time",e)},expression:"form.create_time"}})],1):t._e(),t._v(" "),t.form&&1==t.form.examine_state||t.form&&0==t.form.examine_state?a("el-form-item",{staticClass:"row1",attrs:{label:"审核备注",disabled:3==t.operationType}},[a("el-input",{staticClass:"input withd",attrs:{type:"textarea","auto-complete":"off",disabled:3==t.operationType},model:{value:t.form.send_desc,callback:function(e){t.$set(t.form,"send_desc",e)},expression:"form.send_desc"}})],1):t._e()],1)],1):t._e(),t._v(" "),t.form&&1==t.form.examine_state?a("div",{staticClass:"file"},[a("div",{staticClass:"title-text"},[t._v("附件信息")]),t._v(" "),a("el-table",{attrs:{data:t.applyFile,border:""}},[a("el-table-column",{attrs:{label:"文件名称",prop:"file_name",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"附件",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("a",{attrs:{target:"_blank",href:this.base+e.row.file_url}},[t._v("查看附件")])]}}])}),t._v(" "),a("el-table-column",{attrs:{property:"create_name",label:"上传人员",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"create_time",label:"上传时间",align:"center"}})],1)],1):t._e(),t._v(" "),a("div",[a("div",{staticClass:"title-text"},[t._v("佣金申请信息")]),t._v(" "),a("el-form",{staticClass:"form",attrs:{disabled:0==t.operationType||2==t.operationType||3==t.operationType},model:{value:t.submitForm,callback:function(e){t.submitForm=e},expression:"submitForm"}},[a("el-form-item",{staticClass:"row",attrs:{label:"申请名称"}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off"},model:{value:t.submitForm.batch_name,callback:function(e){t.$set(t.submitForm,"batch_name",e)},expression:"submitForm.batch_name"}})],1),t._v(" "),a("el-form-item",{staticClass:"row",attrs:{label:"申请笔数"}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off",disabled:1==t.operationType},model:{value:t.submitForm.count_num,callback:function(e){t.$set(t.submitForm,"count_num",e)},expression:"submitForm.count_num"}})],1),t._v(" "),a("el-form-item",{staticClass:"row",attrs:{label:"佣金金额（￥）："}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off",disabled:1==t.operationType},model:{value:t.no_price,callback:function(e){t.no_price=e},expression:"no_price"}})],1),t._v(" "),a("el-form-item",{staticClass:"row",attrs:{label:"申请人员"}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off"},model:{value:t.submitForm.create_name,callback:function(e){t.$set(t.submitForm,"create_name",e)},expression:"submitForm.create_name"}})],1),t._v(" "),a("el-form-item",{staticClass:"row",attrs:{label:"申请时间"}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off"},model:{value:t.submitForm.create_time,callback:function(e){t.$set(t.submitForm,"create_time",e)},expression:"submitForm.create_time"}})],1),t._v(" "),a("el-form-item",{staticClass:"row",attrs:{label:"甲方联系人"}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off"},model:{value:t.submitForm.nail_name,callback:function(e){t.$set(t.submitForm,"nail_name",e)},expression:"submitForm.nail_name"}})],1),t._v(" "),a("el-form-item",{staticClass:"row",attrs:{label:"甲方联系电话"}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off"},model:{value:t.submitForm.nail_tel,callback:function(e){t.$set(t.submitForm,"nail_tel",e)},expression:"submitForm.nail_tel"}})],1),t._v(" "),a("el-form-item",{staticClass:"row",attrs:{label:"乙方联系人"}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off"},model:{value:t.submitForm.second_name,callback:function(e){t.$set(t.submitForm,"second_name",e)},expression:"submitForm.second_name"}})],1),t._v(" "),a("el-form-item",{staticClass:"row",attrs:{label:"乙方联系电话"}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off"},model:{value:t.submitForm.second_tel,callback:function(e){t.$set(t.submitForm,"second_tel",e)},expression:"submitForm.second_tel"}})],1),t._v(" "),2==t.operationType||0==t.operationType?a("el-form-item",{staticClass:"row",attrs:{label:"审核人员"}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off"},model:{value:t.submitForm.auditing_name,callback:function(e){t.$set(t.submitForm,"auditing_name",e)},expression:"submitForm.auditing_name"}})],1):t._e(),t._v(" "),2==t.operationType||0==t.operationType?a("el-form-item",{staticClass:"row",attrs:{label:"审核时间"}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off"},model:{value:t.submitForm.auditing_time,callback:function(e){t.$set(t.submitForm,"auditing_time",e)},expression:"submitForm.auditing_time"}})],1):t._e()],1)],1),t._v(" "),a("div",[a("div",{staticClass:"title-text"},[t._v("申请结佣列表")]),t._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""},on:{"selection-change":t.handleSelectionChange}},[1==t.operationType?a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}):t._e(),t._v(" "),a("el-table-column",{attrs:{prop:"client_id",label:"推荐编号",align:"center",width:"120px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"经纪人名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"tel",label:"联系电话",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"broker_type",label:"佣金类型",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.type(e.row.broker_type)))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"时间",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"broker_num",label:"佣金金额",align:"center"}})],1)],1)])])},staticRenderFns:[]};var Et=a("vSla")(Dt,Ut,!1,function(t){a("9XA7"),a("XtUh")},"data-v-6d03d402",null).exports,zt={data:function(){return{rules:{recive_bank:[{required:!0,message:"请选择收款银行",change:"change"}],recive_name:[{required:!0,message:"请输入收款户名,长度为2-5个字符",change:"change",pattern:/[\u4E00-\u9FA5]{2,5}(?:·[\u4E00-\u9FA5]{2,5})*/}],recive_bank_card:[{required:!0,message:"请输入正确的银行卡号",change:"change",pattern:/^([1-9]{1})(\d{14}|\d{18})$/}]},submitForm:{batch_name:"",recive_bank:"",recive_bank_card:"",recive_name:"",broker_num:"",name:"",create_time:"",broker_type:""},batch_id:"",state:"",project_id:"",bankOptions:[],operationType:0}},mounted:function(){this.submitForm.batch_name=this.$route.params.batch_name,this.batch_id=this.$route.params.batch_id,this.project_id=this.$route.params.project_id,this.state=this.$route.params.state,void 0!==this.batch_id?(this.getPriceApply(),this.getBankOptions()):this.$router.push({name:"distri_commission"})},methods:{getBankOptions:function(t){var e=this;return b()(d.a.mark(function a(){var r;return d.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.api.getBack({param_id:t});case 2:200==(r=a.sent).code&&(e.bankOptions=r.data);case 4:case"end":return a.stop()}},a,e)}))()},sumbit:function(){var t,e=this;this.$refs.submitForm.validate((t=b()(d.a.mark(function t(a){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!a){t.next=4;break}e.$confirm("此操作将提交付款申请, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(b()(d.a.mark(function t(){var a;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(a={}).project_id=e.project_id,a.batch_id=e.batch_id,a.recive_bank=e.submitForm.recive_bank,a.recive_bank_card=e.submitForm.recive_bank_card,a.recive_name=e.submitForm.recive_name,t.next=8,e.api.priceApplySumbit(a);case 8:200==t.sent.code&&(e.$message({type:"success",message:"提交成功!"}),e.$router.push({name:"maidInfo"}));case 10:case"end":return t.stop()}},t,e)}))).catch(function(){e.$message({type:"info",message:"已取消提交申请付款"})}),t.next=5;break;case 4:return t.abrupt("return",!1);case 5:case"end":return t.stop()}},t,e)})),function(e){return t.apply(this,arguments)}))},getPriceApply:function(){var t=this;return b()(d.a.mark(function e(){var a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t.state),e.next=3,t.api.getPriceApply({batch_id:t.batch_id,state:t.state});case 3:200==(a=e.sent).code&&I()(t.submitForm,a.data[0]);case 5:case"end":return e.stop()}},e,t)}))()},type:function(t){return 1==t?"成交":2==t?"到访":3==t?"推荐":void 0},cancel:function(){this.$router.push({name:"maidInfo",params:this.$route.params})}}},Lt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"paymentRequest"},[a("div",{staticClass:"table"},[a("div",{staticClass:"text"},[t._v("付款申请信息")]),t._v(" "),a("div",{staticClass:"btn"},[a("el-button",{attrs:{type:"primary"},on:{click:t.sumbit}},[t._v("提交")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.cancel}},[t._v("关闭")])],1),t._v(" "),a("el-form",{ref:"submitForm",staticClass:"form",attrs:{model:t.submitForm,rules:t.rules}},[a("el-form-item",{staticClass:"row",attrs:{label:"申请付款批次名称"}},[a("el-input",{staticClass:"input",attrs:{disabled:!0,"auto-complete":"off",placeholder:"请输入申请付款批次名称"},model:{value:t.submitForm.batch_name,callback:function(e){t.$set(t.submitForm,"batch_name",e)},expression:"submitForm.batch_name"}})],1),t._v(" "),a("el-form-item",{staticClass:"row",attrs:{label:"收款银行",prop:"recive_bank"}},[a("el-select",{attrs:{placeholder:"请选择收款银行"},on:{change:t.getBankOptions},model:{value:t.submitForm.recive_bank,callback:function(e){t.$set(t.submitForm,"recive_bank",e)},expression:"submitForm.recive_bank"}},t._l(t.bankOptions,function(t){return a("el-option",{key:t.param_id,attrs:{label:t.param,value:t.param}})}))],1),t._v(" "),a("el-form-item",{staticClass:"row",attrs:{label:"收款银行卡号：",prop:"recive_bank_card"}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off",placeholder:"请输入收款银行卡号"},model:{value:t.submitForm.recive_bank_card,callback:function(e){t.$set(t.submitForm,"recive_bank_card",e)},expression:"submitForm.recive_bank_card"}})],1),t._v(" "),a("el-form-item",{staticClass:"row",attrs:{label:"收款户名：",prop:"recive_name"}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off",placeholder:"请输入收款户名"},model:{value:t.submitForm.recive_name,callback:function(e){t.$set(t.submitForm,"recive_name",e)},expression:"submitForm.recive_name"}})],1),t._v(" "),a("el-form-item",{staticClass:"row",attrs:{label:"申请付款金额(￥)："}},[a("el-input",{staticClass:"input",attrs:{disabled:!0,"auto-complete":"off"},model:{value:t.submitForm.broker_num,callback:function(e){t.$set(t.submitForm,"broker_num",e)},expression:"submitForm.broker_num"}})],1),t._v(" "),a("el-form-item",{staticClass:"row",attrs:{label:"申请人员："}},[a("el-input",{staticClass:"input",attrs:{disabled:!0,"auto-complete":"off"},model:{value:t.submitForm.name,callback:function(e){t.$set(t.submitForm,"name",e)},expression:"submitForm.name"}})],1),t._v(" "),a("el-form-item",{staticClass:"row",attrs:{label:"申请时间："}},[a("el-input",{staticClass:"input",attrs:{disabled:!0,"auto-complete":"off"},model:{value:t.submitForm.create_time,callback:function(e){t.$set(t.submitForm,"create_time",e)},expression:"submitForm.create_time"}})],1)],1)],1)])},staticRenderFns:[]};var Mt,Nt=a("vSla")(zt,Lt,!1,function(t){a("3g8w")},"data-v-c13727ea",null).exports,Qt={data:function(){return{searchObj:{tag_search:0,project_code:"",project_name:"",developer_name:"",source:"",page:1,search:""},pageSize:0,total:0,tipActiveIndex:0,tableData:[],project_id:"",rule_id:"",options:[],value:"",operationType:0}},mounted:function(){this.getList()},methods:(Mt={clickTip:function(t){this.tipActiveIndex=t,this.searchObj.tag_search=t,this.search()},search:function(){this.getList()},getList:function(){var t=this;return b()(d.a.mark(function e(){var a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.api.getList(t.searchObj);case 2:200==(a=e.sent).code&&(t.tableData=a.data.data,t.total=a.data.total,t.pageSize=a.data.per_page);case 4:case"end":return e.stop()}},e,t)}))()}},It()(Mt,"search",function(){this.searchObj.page=1,this.getList()}),It()(Mt,"getIndex",function(t){return t.$index+1+(this.searchObj.page-1)*this.pageSize}),It()(Mt,"pageChange",function(t){this.searchObj.page=t,this.getList()}),It()(Mt,"startApply",function(){this.$router.push({name:"startApply"})}),It()(Mt,"fastDistribution",function(t){this.$router.push({name:"fastDistribution",params:{project_id:t.project_id}})}),It()(Mt,"showProject",function(t,e){0==e&&this.$router.push({name:"projectInfo",params:{operationType:e,project_id:t.project_id,rule_id:t.rule_id,auditing_state:t.state,backUrl:"projectInfo"}})}),It()(Mt,"scopeState",function(t){return 1==t?"自行申请":2==t?"项目方选择":void 0}),It()(Mt,"auditingState",function(t){return 0==t?"已拒绝":1==t?"通过":2==t?"待审核":void 0}),Mt)},Zt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"distribution"},[a("div",{staticClass:"title"},[a("div",{staticClass:"tab-block"},[a("div",{staticClass:"text1"},[t._v("当前位置：项目分销")]),t._v(" "),a("div",{staticClass:"search-block"},[a("el-input",{staticClass:"query",attrs:{placeholder:"可按项目名称/项目编号进行查询"},model:{value:t.searchObj.search,callback:function(e){t.$set(t.searchObj,"search",e)},expression:"searchObj.search"}}),t._v(" "),a("el-button",{attrs:{icon:"el-icon-search",circle:""},on:{click:t.getList}})],1),t._v(" "),a("div",{staticClass:"btn"},[a("el-button",{attrs:{type:"primary"},on:{click:t.startApply}},[t._v("发起申请")])],1)]),t._v(" "),a("div",[a("el-button",{staticClass:"tip",class:0==t.tipActiveIndex?"active":"",attrs:{type:"text"},on:{click:function(e){t.clickTip(0)}}},[t._v("全部")]),t._v(" "),a("el-button",{staticClass:"tip",class:1==t.tipActiveIndex?"active":"",attrs:{type:"text"},on:{click:function(e){t.clickTip(1)}}},[t._v("待审核")]),t._v(" "),a("el-button",{staticClass:"tip",class:2==t.tipActiveIndex?"active":"",attrs:{type:"text"},on:{click:function(e){t.clickTip(2)}}},[t._v("已通过")]),t._v(" "),a("el-button",{staticClass:"tip",class:3==t.tipActiveIndex?"active":"",attrs:{type:"text"},on:{click:function(e){t.clickTip(3)}}},[t._v("已终止")])],1)]),t._v(" "),a("div",{staticClass:"search"}),t._v(" "),a("el-table",{staticClass:"mt-30",staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{prop:"",label:"序号",align:"center",width:"70px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.getIndex(e)))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"project_code",label:"项目编号",align:"center",width:"90px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"project_name",label:"项目名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"end_state",label:"执行状态",align:"center",width:"90px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"city",label:"区域",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"subordinate_company",label:"项目所属单位",align:"center",width:"150px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"company_relation",label:"与项目关系",align:"center",width:"100px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"developer_name",label:"所属单位",align:"center",width:"230px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"source",label:"来源",align:"center",width:"80px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.scopeState(e.row.source)))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"state",label:"审核状态",align:"center",width:"80px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.auditingState(e.row.state)))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"is_distribution",label:"分配状态",align:"center",width:"80px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"operation",label:"操作",align:"center",width:"170px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.showProject(e.row,0)}}},[t._v("查看")]),t._v(" "),1==!e.row.state&&0==e.row.end_state?a("el-button",{attrs:{type:"text"},on:{click:function(a){t.fastDistribution(e.row)}}},[t._v("分配到访确认人")]):t._e()]}}])})],1),t._v(" "),a("el-pagination",{staticClass:"page",attrs:{background:"",layout:"prev, pager, next","page-size":t.pageSize,"current-page":t.searchObj.page,total:t.total},on:{"current-change":t.pageChange}})],1)},staticRenderFns:[]};var qt=a("vSla")(Qt,Zt,!1,function(t){a("N7TY"),a("hZNm")},"data-v-98b7c196",null).exports,Gt={data:function(){return{rules:{project_docker:[{pattern:/[\u4E00-\u9FA5]{2,5}(?:·[\u4E00-\u9FA5]{2,5})*/,required:!0,message:"请输入姓名,2-5个字符，必须是中文",change:"change"}],project_docker_tel:[{required:!0,message:"请输入电话号码，11位手机号码格式",change:"change",pattern:/^1[34578]\d{9}$/}],sell_docker:[{pattern:/[\u4E00-\u9FA5]{2,5}(?:·[\u4E00-\u9FA5]{2,5})*/,required:!0,message:"请输入姓名,2-5个字符，必须是中文",change:"change"}],sell_docker_tel:[{required:!0,message:"请输入电话号码，11位手机号码格式",change:"change",pattern:/^1[34578]\d{9}$/}],compact_begin:[{required:!0,message:"请选择合同开始日期"}],compact_end:[{required:!0,message:"请选择合同截至日期"}],act_start:[{required:!0,message:"请选择实际开始日期"}]},sumbitForm:{project_docker:"",project_docker_tel:"",sell_docker:"",sell_docker_tel:"",compact_begin:"",compact_end:"",act_start:""},refund:[],ruleForm:[],project_id:"",rule_id:""}},mounted:function(){this.project_id=this.$route.params.project_id,this.rule_id=this.$route.params.rule_id,this.$route.params.rule_id||this.$router.push({name:"distribution"}),this.getBrokerAgreement()},methods:{fileUpload:function(t){var e=this;return b()(d.a.mark(function a(){var r,n,s,i,o;return d.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(e.fileObject=t,r=!1,(e.fileObject.name.indexOf(".docx")>-1||e.fileObject.name.indexOf(".doc")>-1)&&(r=!0),r){a.next=6;break}return e.$message({type:"error",message:"文件上传格式有误，请上传docx或者doc格式"}),a.abrupt("return");case 6:return n=e.fileObject.raw,(s=new FormData).append("url",n),a.next=11,e.api.uploadBrokerCommission(s);case 11:200==(i=a.sent).code&&((o={}).uploader=i.data.uploader,o.url=i.data.img_url,o.create_time=i.data.create_time,o.file_name=t.name,e.refund=[],e.refund.push(o),console.log(o),e.addBrokerAgreement());case 13:case"end":return a.stop()}},a,e)}))()},addBrokerAgreement:function(){var t=this;return b()(d.a.mark(function e(){var a,r;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(a={}).file_name=t.refund[0].file_name,a.file_url=t.refund[0].url,a.uploader=t.refund[0].uploader,a.rule_id=t.rule_id,e.next=7,t.api.addBrokerAgreement(a);case 7:r=e.sent,console.log(t.refund),r.code;case 10:case"end":return e.stop()}},e,t)}))()},getBrokerAgreement:function(){var t=this;return b()(d.a.mark(function e(){var a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.api.getBrokerAgreement({rule_id:t.rule_id});case 2:200==(a=e.sent).code&&(t.refund=a.data);case 4:case"end":return e.stop()}},e,t)}))()},remove:function(t){this.refund.splice(t,1)},sumbit:function(){var t,e=this;this.$refs.sumbitForm.validate((t=b()(d.a.mark(function t(a){var r;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!a){t.next=10;break}return(r=I()({},e.sumbitForm)).project_id=e.project_id,r.rule_id=e.rule_id,t.next=6,e.api.addRule(r);case 6:200==t.sent.code&&(e.$message({type:"success",message:"提交成功!"}),e.$router.push({name:"distribution"})),t.next=11;break;case 10:return t.abrupt("return",!1);case 11:case"end":return t.stop()}},t,e)})),function(e){return t.apply(this,arguments)}))},addShow:function(){this.$router.push({name:"ruleSetting"})},cancel:function(){this.$route.params.backUrl?this.$router.push({name:this.$route.params.backUrl,params:this.$route.params}):this.$router.push({name:"startApply"})}}},Vt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ruleOfMaid"},[a("div",{staticClass:"ruleOfMaid-box"},[a("div",{staticClass:"title"},[a("span",{staticClass:"btn"},[a("el-button",{attrs:{type:"primary"},on:{click:t.sumbit}},[t._v("提交")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.cancel}},[t._v("关闭")])],1)]),t._v(" "),a("div",{staticClass:"infoform"},[a("div",{staticClass:"text"},[t._v("合同信息（甲方为项目方，乙方为销售方）")]),t._v(" "),a("el-form",{ref:"sumbitForm",attrs:{model:t.sumbitForm,rules:t.rules}},[a("el-form-item",{staticClass:"input",attrs:{label:"甲方对接人",prop:"project_docker"}},[a("el-input",{model:{value:t.sumbitForm.project_docker,callback:function(e){t.$set(t.sumbitForm,"project_docker",e)},expression:"sumbitForm.project_docker"}})],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"甲方对接人电话",prop:"project_docker_tel"}},[a("el-input",{model:{value:t.sumbitForm.project_docker_tel,callback:function(e){t.$set(t.sumbitForm,"project_docker_tel",e)},expression:"sumbitForm.project_docker_tel"}})],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"乙方对接人",prop:"sell_docker"}},[a("el-input",{model:{value:t.sumbitForm.sell_docker,callback:function(e){t.$set(t.sumbitForm,"sell_docker",e)},expression:"sumbitForm.sell_docker"}})],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"乙方对接人电话",prop:"sell_docker_tel"}},[a("el-input",{model:{value:t.sumbitForm.sell_docker_tel,callback:function(e){t.$set(t.sumbitForm,"sell_docker_tel",e)},expression:"sumbitForm.sell_docker_tel"}})],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"合同开始日期",prop:"compact_begin"}},[a("el-date-picker",{staticClass:"block",attrs:{type:"date",placeholder:"选择日期"},model:{value:t.sumbitForm.compact_begin,callback:function(e){t.$set(t.sumbitForm,"compact_begin",e)},expression:"sumbitForm.compact_begin"}})],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"合同截至日期",prop:"compact_end"}},[a("el-date-picker",{staticClass:"block",attrs:{type:"date",placeholder:"选择日期"},model:{value:t.sumbitForm.compact_end,callback:function(e){t.$set(t.sumbitForm,"compact_end",e)},expression:"sumbitForm.compact_end"}})],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"实际开始日期",prop:"act_start"}},[a("el-date-picker",{staticClass:"block",attrs:{type:"date",placeholder:"选择日期"},model:{value:t.sumbitForm.act_start,callback:function(e){t.$set(t.sumbitForm,"act_start",e)},expression:"sumbitForm.act_start"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"info"},[a("div",{staticClass:"title"},[a("div",{staticClass:"text"},[t._v("公司证明资料")]),t._v(" "),a("span",{staticClass:"btn"},[a("el-upload",{attrs:{"auto-upload":!1,action:"","on-change":t.fileUpload}},[a("el-button",{ref:"uploadBtn",attrs:{type:"primary","show-file-list":!1}},[t._v("点击上传")])],1)],1)]),t._v(" "),a("el-table",{attrs:{data:t.refund,border:""}},[a("el-table-column",{attrs:{label:"文件名称",prop:"file_name",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"附件",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("a",{attrs:{target:"_blank",href:this.base+e.row.url}},[t._v("查看附件")])]}}])}),t._v(" "),a("el-table-column",{attrs:{property:"uploader",label:"上传人员",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"update_time",label:"上传时间",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.remove(e.row)}}},[t._v("删除")])]}}])})],1)],1),t._v(" "),a("div",{staticClass:"info"},[a("div",{staticClass:"title"},[a("div",{staticClass:"text"},[t._v("成交佣金（推荐的客户在该项目购置房源后产生的佣金）")]),t._v(" "),a("span",{staticClass:"btn"},[a("el-button",{attrs:{type:"primary"},on:{click:t.addShow}},[t._v("新增")])],1)]),t._v(" "),a("el-table",{attrs:{data:t.ruleForm,border:""}},[a("el-table-column",{attrs:{label:"序号",align:"center",width:"70px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.getIndex(e)))]}}])}),t._v(" "),a("el-table-column",{attrs:{property:"project_code",label:"物业类型",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"project_name",label:"跳点",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"absolute_address",label:"提成公式",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"project_hold_name",label:"单位",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"project_hold_phone",label:"奖励金额（元/套）",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"}},[t._v("查看")]),t._v(" "),a("el-button",{attrs:{type:"text"}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"text"}},[t._v("删除")])]}}])})],1)],1),t._v(" "),a("div",{staticClass:"info"},[a("div",{staticClass:"title"},[a("div",{staticClass:"text"},[t._v("到访佣金（客户到访后且售楼处确认后产生的佣金")]),t._v(" "),a("span",{staticClass:"btn"},[a("el-button",{attrs:{type:"primary"}},[t._v("新增")])],1)]),t._v(" "),a("el-table",{attrs:{data:t.ruleForm,border:""}},[a("el-table-column",{attrs:{label:"序号",align:"center",width:"70px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.getIndex(e)))]}}])}),t._v(" "),a("el-table-column",{attrs:{property:"project_code",label:"单位",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"project_hold_phone",label:"奖励金额（元/套）",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"text"}},[t._v("删除")])]}}])})],1)],1),t._v(" "),a("div",{staticClass:"info"},[a("div",{staticClass:"title"},[a("div",{staticClass:"text"},[t._v("推荐佣金（经纪人将客户推荐给项目后的佣金）")]),t._v(" "),a("span",{staticClass:"btn"},[a("el-button",{attrs:{type:"primary"}},[t._v("新增")])],1)]),t._v(" "),a("el-table",{attrs:{data:t.ruleForm,border:""}},[a("el-table-column",{attrs:{label:"序号",align:"center",width:"70px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.getIndex(e)))]}}])}),t._v(" "),a("el-table-column",{attrs:{property:"project_code",label:"单位",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"project_hold_phone",label:"奖励金额（元/套）",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"text"}},[t._v("删除")])]}}])})],1)],1)])])},staticRenderFns:[]};var Yt=a("vSla")(Gt,Vt,!1,function(t){a("yP89"),a("2jIy")},"data-v-eb53e0fa",null).exports,Wt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ruleSetting"},[a("div",{staticClass:"ruleSetting-box"},[a("div",{staticClass:"title"},[a("span",{staticClass:"btn"},[a("el-button",{attrs:{type:"primary"}},[t._v("提交")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.cancel}},[t._v("关闭")])],1)]),t._v(" "),a("div",{staticClass:"infoform"},[a("div",{staticClass:"text"},[t._v("规则设置")]),t._v(" "),a("el-form",{model:{value:t.xx,callback:function(e){t.xx=e},expression:"xx"}},[a("el-form-item",{staticClass:"input",attrs:{label:"物业类型"}},[a("el-input",{model:{value:t.xx.deposit,callback:function(e){t.$set(t.xx,"deposit",e)},expression:"xx.deposit"}})],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"跳点提成累积"}},[a("el-input",{model:{value:t.xx.no_price,callback:function(e){t.$set(t.xx,"no_price",e)},expression:"xx.no_price"}})],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"跳点"}},[a("el-input",{model:{value:t.xx.allow,callback:function(e){t.$set(t.xx,"allow",e)},expression:"xx.allow"}})],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"提成方式"}},[a("el-input",{model:{value:t.xx.deposit,callback:function(e){t.$set(t.xx,"deposit",e)},expression:"xx.deposit"}})],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"单位"}},[a("el-input",{model:{value:t.xx.no_price,callback:function(e){t.$set(t.xx,"no_price",e)},expression:"xx.no_price"}})],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"参数"}},[a("el-input",{model:{value:t.xx.allow,callback:function(e){t.$set(t.xx,"allow",e)},expression:"xx.allow"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"info"},[a("div",{staticClass:"title"},[a("div",{staticClass:"text"},[t._v("跳点规则")]),t._v(" "),a("span",{staticClass:"btn"},[a("el-button",{attrs:{type:"primary"}},[t._v("新增")])],1)]),t._v(" "),a("el-table",{attrs:{data:t.refund.file,border:""}},[a("el-table-column",{attrs:{label:"序号",align:"center",width:"70px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.getIndex(e)))]}}])}),t._v(" "),a("el-table-column",{attrs:{property:"project_code",label:"起始数",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"project_name",label:"截止数",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"absolute_address",label:"提成公式",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"project_hold_name",label:"固定金额",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"project_hold_phone",label:"是否累积",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"operation",label:"奖励金额（元/套）",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"}},[t._v("查看")]),t._v(" "),a("el-button",{attrs:{type:"text"}},[t._v("修改")]),t._v(" "),a("el-button",{attrs:{type:"text"}},[t._v("删除")])]}}])})],1)],1)])])},staticRenderFns:[]};var Jt=a("vSla")({data:function(){return{xx:[],refund:[]}},mounted:function(){},methods:{cancel:function(){this.$router.push({name:"ruleOfMaid"})}}},Wt,!1,function(t){a("DyjB"),a("777I")},"data-v-1753568e",null).exports,Ht={data:function(){return{page:1,pageSize:0,total:0,pageSize1:0,total1:0,maintain:[],examine:[],project_id:"",agent_id:"",operationType:0}},mounted:function(){this.project_id=this.$route.params.project_id,this.project_id?this.getAgent():this.$router.push({name:"distribution"})},methods:{remove:function(t){var e=this;this.$confirm("此操作将结束到访确认人的权利, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(b()(d.a.mark(function a(){return d.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.api.endAgent({agent_id:t.agent_id});case 2:200==a.sent.code&&(e.$message({type:"success",message:"结束成功!"}),e.getAgent());case 4:case"end":return a.stop()}},a,e)}))).catch(function(){e.$message({type:"info",message:"已取消结束到访确认人的权利"})})},getAgent:function(){var t=this;return b()(d.a.mark(function e(){var a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.api.getAgent({project_id:t.project_id});case 2:200==(a=e.sent).code&&(t.maintain=a.data.y_info.data,t.examine=a.data.n_info.data,t.total=a.data.y_info.total,t.pageSize=a.data.y_info.per_page,t.total1=a.data.n_info.total,t.pageSize1=a.data.n_info.per_page);case 4:case"end":return e.stop()}},e,t)}))()},getIndex:function(t){return t.$index+1+(this.page-1)*this.pageSize},pageChange:function(t){this.page=t,this.getAgent()},cancel:function(){this.$router.push({name:"distribution"})},showAdd:function(t,e){var a=this;return b()(d.a.mark(function r(){return d.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:0==t?a.$router.push({name:"addPerson",params:{project_id:a.project_id,operationType:t,agent_id:e.agent_id}}):1==t?a.$router.push({name:"addPerson",params:{agent_id:e.agent_id,operationType:t,project_id:e.project_id,ex_id:e.ex_id}}):2==t&&a.$router.push({name:"addPerson",params:{agent_id:e.agent_id,operationType:t}});case 1:case"end":return r.stop()}},r,a)}))()},state:function(t){return 0==t?"禁用":1==t?"正常":void 0},authenticationState:function(t){return 2==t?"待审核":0==t?"未通过 ":1==t?"审核通过 ":void 0},addShow:function(){this.$router.push({name:"addPerson",params:{project_id:this.project_id}})}}},Xt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"fastDistribution"},[a("div",{staticClass:"table"},[a("div",{staticClass:"title"},[a("div",{staticClass:"text"},[t._v("到访确认人维护信息")]),t._v(" "),a("span",{staticClass:"search"},[a("el-button",{staticClass:"addBtn",attrs:{type:"primary"},on:{click:t.addShow}},[t._v("新增")]),t._v(" "),a("el-button",{staticClass:"addBtn",attrs:{type:"primary"},on:{click:t.cancel}},[t._v("关闭")])],1)]),t._v(" "),a("el-table",{attrs:{data:t.maintain,border:""}},[a("el-table-column",{attrs:{prop:"nub",label:"序号",align:"center",width:"70px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.getIndex(e)))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"account",label:"云算号",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"tel",label:"联系方式",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"department",label:"所属部门",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"position",label:"职位",align:"center",width:"120px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"entry_time",label:"入职时间",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"分配时间",align:"center",width:"160px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"state",label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.state(e.row.state)))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"operation",label:"操作",align:"center",width:"140px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.showAdd(0,e.row)}}},[t._v("查看")]),t._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){t.remove(e.row)}}},[t._v("结束")])]}}])})],1),t._v(" "),a("el-pagination",{staticClass:"page",attrs:{background:"",layout:"prev, pager, next","page-size":t.pageSize,"current-page":t.page,total:t.total},on:{"current-change":t.pageChange}})],1),t._v(" "),a("div",{staticClass:"table"},[t._m(0),t._v(" "),a("el-table",{attrs:{data:t.examine,border:""}},[a("el-table-column",{attrs:{label:"序号",align:"center",width:"70px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.getIndex(e)))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"account",label:"云算号",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"tel",label:"联系方式",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"department",label:"所属部门",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"position",label:"职位",align:"center",width:"120px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"entry_time",label:"申请时间",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"state",label:"审核状态",align:"center",width:"90px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.authenticationState(e.row.state)))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"operation",label:"操作",align:"center",width:"120px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.showAdd(2,e.row)}}},[t._v("查看")]),t._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){t.showAdd(1,e.row)}}},[t._v("审核")])]}}])})],1),t._v(" "),a("el-pagination",{staticClass:"page",attrs:{background:"",layout:"prev, pager, next","page-size":t.pageSize1,"current-page":t.page,total:t.total1},on:{"current-change":t.pageChange}})],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title"},[e("div",{staticClass:"text"},[this._v("到访确认人审核信息")])])}]};var Kt=a("vSla")(Ht,Xt,!1,function(t){a("Ry3k"),a("0Hcs")},"data-v-59c89ee0",null).exports,te={data:function(){return{submitForm:{entry_time:"",tabsolute_addressel:"",birth:"",tel:"",sex:"",position:"",department:"",account:"",name:"",project_id:"",agent_id:"",fp_name:"",fp_time:"",remark:"",ex_id:"",type:0},remark:"",refuseInfo:!1,operationType:0}},mounted:function(){this.operationType=this.$route.params.operationType,this.ex_id=this.$route.params.ex_id,this.type=this.$route.params.type,this.project_id=this.$route.params.project_id,this.agent_id=this.$route.params.agent_id,(this.agent_id||this.$route.params.agentInfo)&&(void 0===this.$route.params.agentInfo?this.getAgentInfo():(this.agent_id=this.$route.params.agentInfo.agent_id,this.getAgentInfo()))},methods:{exAgent:function(t){var e=this;return b()(d.a.mark(function a(){var r;return d.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(e.submitForm.type=t,(r=I()({},e.submitForm)).agent_id=e.agent_id,r.ex_id=e.ex_id,r.project_id=e.project_id,r.type=t,r.remark=e.remark,0!=t){a.next=15;break}return e.refuseInfo=!0,a.next=11,e.api.exAgent(r);case 11:200==a.sent.code&&(e.close(),e.cancelRefuseInfo(),e.getAgentInfo()),a.next=16;break;case 15:e.$confirm("此操作将审核成功, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(b()(d.a.mark(function t(){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.api.exAgent(r);case 2:200==t.sent.code&&(e.$message({type:"success",message:"审核成功!"}),e.close(),e.cancelRefuseInfo(),e.getAgentInfo());case 4:case"end":return t.stop()}},t,e)}))).catch(function(){e.$message({type:"info",message:"已取消审核"})});case 16:case"end":return a.stop()}},a,e)}))()},cancelRefuseInfo:function(){this.refuseInfo=!1,this.remark=""},sumbit:function(){var t=this;return b()(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.submitForm.project_id=t.project_id,t.submitForm.agent_id=t.agent_id,e.next=4,t.api.agentAdd(t.submitForm);case 4:200==e.sent.code&&(t.$message({type:"success",message:"选择到访确认人成功!"}),t.$route.params.backUrl?t.$router.push({name:t.$route.params.backUrl,params:t.$route.params}):t.$router.push({name:"fastDistribution",params:{submitForm:t.submitForm}}));case 6:case"end":return e.stop()}},e,t)}))()},isDisable:function(){return 1!=this.operationType&&(0!=this.operationType&&2!=this.operationType)},getAgentInfo:function(){var t=this;return b()(d.a.mark(function e(){var a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.api.getAgentInfo({agent_id:t.agent_id});case 2:200==(a=e.sent).code&&I()(t.submitForm,a.data);case 4:case"end":return e.stop()}},e,t)}))()},sex:function(t){return 1==t?"男":2==t?"女":0==t?"未设置":void 0},choice:function(){this.$router.push({name:"choicePeople",params:{project_id:this.project_id}})},close:function(){this.$router.push({name:"fastDistribution",params:this.$route.params})}}},ee={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"addPerson"},[a("div",{staticClass:"box"},[a("span",{staticClass:"num_set"},[t._v("到访确认人信息")]),t._v(" "),a("span",{staticClass:"btn"},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:0!=t.operationType,expression:"operationType!=0"}],attrs:{type:"primary"},on:{click:t.sumbit}},[t._v("确定")]),t._v(" "),1==t.operationType?a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.exAgent(1)}}},[t._v("审核通过")]):t._e(),t._v(" "),1==t.operationType?a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.exAgent(0)}}},[t._v("审核不通过")]):t._e(),t._v(" "),a("el-button",{staticClass:"btn-1",on:{click:t.close}},[t._v("返回")])],1),t._v(" "),a("el-form",{model:{value:t.submitForm,callback:function(e){t.submitForm=e},expression:"submitForm"}},[a("el-form-item",{staticClass:"input1"},[a("div",[t._v("到访确认人")]),t._v(" "),a("div",{staticClass:"border"},[t._v(t._s(t.submitForm.name))])]),t._v(" "),a("span",[0!=t.operationType?a("el-button",{staticClass:"button",attrs:{type:"primary"},on:{click:t.choice}},[t._v("选择")]):t._e()],1),t._v(" "),a("div",{staticClass:"num_set"},[t._v("员工信息")]),t._v(" "),a("el-form",{model:{value:t.submitForm,callback:function(e){t.submitForm=e},expression:"submitForm"}},[a("el-form-item",{staticClass:"input1"},[a("div",[t._v("姓名")]),t._v(" "),a("div",{staticClass:"border"},[t._v(t._s(t.submitForm.name))])]),t._v(" "),a("el-form-item",{staticClass:"input1"},[a("div",[t._v("入职时间")]),t._v(" "),a("div",{staticClass:"border"},[t._v(t._s(t.submitForm.entry_time))])]),t._v(" "),a("el-form-item",{staticClass:"input1"},[a("div",[t._v("云算号")]),t._v(" "),a("div",{staticClass:"border"},[t._v(t._s(t.submitForm.account))])]),t._v(" "),a("el-form-item",{staticClass:"input1"},[a("div",[t._v("所属部门")]),t._v(" "),a("div",{staticClass:"border"},[t._v(t._s(t.submitForm.department))])]),t._v(" "),a("el-form-item",{staticClass:"input1"},[a("div",[t._v("职位")]),t._v(" "),a("div",{staticClass:"border"},[t._v(t._s(t.submitForm.position))])]),t._v(" "),a("div",{staticClass:"num_set"},[t._v("基础信息")]),t._v(" "),a("el-form-item",{staticClass:"input1"},[a("div",[t._v("性别")]),t._v(" "),a("div",{staticClass:"border"},[t._v("\n            "+t._s(t.sex(t.submitForm.sex))+"\n          ")])]),t._v(" "),a("el-form-item",{staticClass:"input1"},[a("div",[t._v("电话号码")]),t._v(" "),a("div",{staticClass:"border"},[t._v(t._s(t.submitForm.tel))])]),t._v(" "),a("el-form-item",{staticClass:"input1"},[a("div",[t._v("出生年月")]),t._v(" "),a("div",{staticClass:"border"},[t._v(t._s(t.submitForm.birth))])]),t._v(" "),a("el-form-item",{staticClass:"input1"},[a("div",[t._v("通讯地址")]),t._v(" "),a("div",{staticClass:"border width"},[t._v(t._s(t.submitForm.province+t.submitForm.district+t.submitForm.city+t.submitForm.absolute_address))])]),t._v(" "),0==t.operationType?a("div",[a("div",{staticClass:"num_set"},[t._v("分配信息")]),t._v(" "),a("el-form-item",{staticClass:"input1"},[a("div",[t._v("分配人")]),t._v(" "),a("div",{staticClass:"border"},[t._v(t._s(t.submitForm.fp_name))])]),t._v(" "),a("el-form-item",{staticClass:"input1"},[a("div",[t._v("分配时间")]),t._v(" "),a("div",{staticClass:"border"},[t._v(t._s(t.submitForm.fp_time))])]),t._v(" "),a("el-form-item",{staticClass:"input1-br"},[a("div",[t._v("备注")]),t._v(" "),a("div",{staticClass:"border width-1"},[t._v(t._s(t.submitForm.remark))])])],1):t._e()],1)],1),t._v(" "),a("el-dialog",{staticClass:"dialog",attrs:{title:"拒绝",visible:t.refuseInfo},on:{"update:visible":function(e){t.refuseInfo=e},close:t.cancelRefuseInfo}},[a("el-form",[a("el-form-item",{attrs:{label:"审核不通过原因"}},[a("el-input",{staticClass:"textarea",attrs:{type:"textarea"},model:{value:t.remark,callback:function(e){t.remark=e},expression:"remark"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.cancelRefuseInfo}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.exAgent(0)}}},[t._v("确 定")])],1)],1)],1)])},staticRenderFns:[]};var ae=a("vSla")(te,ee,!1,function(t){a("MhQX")},"data-v-032f3077",null).exports,re={data:function(){return{agentInfo:[],project_id:"",agent_id:"",searchObj:{search:"",page:1},pageSize:0,total:0}},mounted:function(){this.project_id=this.$route.params.project_id,this.agentList()},methods:{getIndex:function(t){return t.$index+1},agentList:function(){var t=this;return b()(d.a.mark(function e(){var a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.api.agentList(t.searchObj);case 2:200==(a=e.sent).code&&(t.agentInfo=a.data);case 4:case"end":return e.stop()}},e,t)}))()},submit:function(t){this.$router.push({name:"addPerson",params:{agentInfo:t,agent_id:t.agent_id,project_id:this.project_id}})},close:function(){this.$router.push({name:"addPerson",params:this.$route.params})}}},ne={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"addPerson"},[a("div",{staticClass:"box"},[a("div",{staticClass:"title"},[a("span",{staticClass:"num_set"},[t._v("选择经纪人")]),t._v(" "),a("span",{staticClass:"search-block"},[a("el-input",{staticClass:"query",attrs:{placeholder:"可按云算号/经纪人姓名进行查询"},model:{value:t.searchObj.search,callback:function(e){t.$set(t.searchObj,"search",e)},expression:"searchObj.search"}}),t._v(" "),a("el-button",{attrs:{icon:"el-icon-search",circle:""},on:{click:t.agentList}}),t._v(" "),a("span",{staticClass:"btn"},[a("el-button",{on:{click:t.close}},[t._v("返回")])],1)],1)]),t._v(" "),a("el-table",{attrs:{data:t.agentInfo,border:""}},[a("el-table-column",{attrs:{label:"序号",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.getIndex(e)))]}}])}),t._v(" "),a("el-table-column",{attrs:{property:"account",label:"云算号",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"name",label:"经纪人名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"tel",label:"联系电话",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"120px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.submit(e.row)}}},[t._v("选择")])]}}])})],1)],1)])},staticRenderFns:[]};var se=a("vSla")(re,ne,!1,function(t){a("7IYT"),a("Ohn7")},"data-v-9e553e8a",null).exports,ie={data:function(){return{searchObj:{search:"",province:"",city:"",district:"",page:1},pageSize:0,total:0,sumbitForm:[],project_id:""}},mounted:function(){this.changeProjectList()},methods:{addshow:function(){this.$router.push({name:"ruleOfMaid"})},search:function(){this.searchObj.page=1,this.changeProjectList()},getIndex:function(t){return t.$index+1+(this.searchObj.page-1)*this.pageSize},pageChange:function(t){this.searchObj.page=t,this.changeProjectList()},changeProjectList:function(){var t=this;return b()(d.a.mark(function e(){var a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.api.changeProjectList(t.searchObj);case 2:200==(a=e.sent).code&&(t.sumbitForm=a.data.data,t.total=a.data.total,t.pageSize=a.data.per_page);case 4:case"end":return e.stop()}},e,t)}))()},sumbit:function(t){this.$router.push({name:"projectInfo",params:{project_id:t.project_id}})},close:function(){this.$router.push({name:"distribution",params:this.$route.params})}},components:{CitySelector:L}},oe={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"addPerson"},[a("div",{staticClass:"box"},[a("div",{staticClass:"relative"},[a("city-selector",{staticClass:"selectDis",attrs:{province:t.searchObj.province,city:t.searchObj.city,district:t.searchObj.district},on:{"update:province":function(e){t.$set(t.searchObj,"province",e)},"update:city":function(e){t.$set(t.searchObj,"city",e)},"update:district":function(e){t.$set(t.searchObj,"district",e)}}}),t._v(" "),a("el-input",{staticClass:"query",attrs:{placeholder:"可按项目编号/项目名称进行查询"},model:{value:t.searchObj.search,callback:function(e){t.$set(t.searchObj,"search",e)},expression:"searchObj.search"}}),t._v(" "),a("el-button",{attrs:{icon:"el-icon-search",circle:""},on:{click:t.changeProjectList}}),t._v(" "),a("span",{staticClass:"pos-abs"},[a("el-button",{staticClass:"pos-right",attrs:{type:"primary"},on:{click:t.close}},[t._v("返回")])],1)],1)]),t._v(" "),a("div",{staticClass:"texe-1"},[t._v("申请项目信息")]),t._v(" "),a("el-table",{attrs:{data:t.sumbitForm,border:""}},[a("el-table-column",{attrs:{label:"序号",align:"center",width:"70px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.getIndex(e)))]}}])}),t._v(" "),a("el-table-column",{attrs:{property:"project_code",label:"项目编号",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"project_name",label:"项目名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"absolute_address",label:"地址",align:"center",width:"320px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.province_name+e.row.city_name+e.row.district_name+e.row.absolute_address))])]}}])}),t._v(" "),a("el-table-column",{attrs:{property:"project_hold_name",label:"项目负责人",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"project_hold_phone",label:"联系方式",align:"center",width:"120px"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{on:{click:function(a){t.sumbit(e.row)}}},[t._v("提交")])]}}])})],1),t._v(" "),a("el-pagination",{staticClass:"page",attrs:{background:"",layout:"prev, pager, next","page-size":t.pageSize,"current-page":t.searchObj.page,total:t.total},on:{"current-change":t.pageChange}})],1)},staticRenderFns:[]};var le=a("vSla")(ie,oe,!1,function(t){a("ZWfs"),a("zrA5")},"data-v-7efef57e",null).exports,ce={data:function(){return{submitForm:{province:"",city:"",district:"",project_id:"",rule_id:"",auditProject:{},property_tags:[],state:""},peopleInfo:[],project_id:"",rule_id:"",typeOptions:[],operationType:0,auditing_state:"",gridData:[]}},mounted:function(){this.auditing_state=this.$route.params.auditing_state,this.project_id=this.$route.params.project_id,this.rule_id=this.$route.params.rule_id,this.$route.params.project_id?(this.operationType=this.$route.params.operationType,this.getProjectDetail(),this.getType()):this.$router.push({name:"distribution"})},methods:{seeShow:function(){this.$router.push({name:"ruleOfMaid",params:{rule_id:this.rule_id,project_id:this.project_id,operationType:this.operationType,backUrl:this.$route.params.backUrl}})},remove:function(t){var e=this;this.$confirm("此操作将结束到访确认人的权利, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(b()(d.a.mark(function a(){return d.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.api.endAgent({agent_id:t.agent_id});case 2:200==a.sent.code&&(e.$message({type:"success",message:"结束成功!"}),e.getProjectDetail());case 4:case"end":return a.stop()}},a,e)}))).catch(function(){e.$message({type:"info",message:"已取消结束到访确认人的权利"})})},getIndex:function(t){return t.$index+1},end_state:function(t){return 0==t?"执行中":"已终止"},state:function(t){return 0==t?"通过":1==t?"拒绝":2==t?"待审核":void 0},getType:function(){var t=this;return b()(d.a.mark(function e(){var a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.api.getTags();case 2:200==(a=e.sent).code&&(t.typeOptions=a.data);case 4:case"end":return e.stop()}},e,t)}))()},isDisable:function(){return 0==this.operationType||(this.operationType,!1)},getProjectDetail:function(){var t=this;return b()(d.a.mark(function e(){var a,r,n,s,i,o,l,c,p,u,m,_,b,v,f,h,g,y;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(I()(t.submitForm,t.$route.params.projectInfo),0!=t.operationType){e.next=33;break}return e.next=4,t.api.getRole({project_id:t.project_id,rule_id:t.rule_id});case 4:if(200!=(a=e.sent).code){e.next=31;break}for(I()(t.submitForm,a.data.project),r=a.data.project.property_tags,n=[],s=!0,i=!1,o=void 0,e.prev=12,l=U()(r);!(s=(c=l.next()).done);s=!0)p=c.value,n.push(p.property_tag_id);e.next=20;break;case 16:e.prev=16,e.t0=e.catch(12),i=!0,o=e.t0;case 20:e.prev=20,e.prev=21,!s&&l.return&&l.return();case 23:if(e.prev=23,!i){e.next=26;break}throw o;case 26:return e.finish(23);case 27:return e.finish(20);case 28:t.submitForm.property_tags=n,t.gridData=a.data.broker,t.peopleInfo=a.data.agent;case 31:e.next=61;break;case 33:return I()(t.submitForm,t.$route.params.projectInfo),e.next=36,t.api.applyProject({project_id:t.project_id});case 36:if(200!=(u=e.sent).code){e.next=61;break}for(I()(t.submitForm,u.data),m=u.data.property_tags,_=[],b=!0,v=!1,f=void 0,e.prev=44,h=U()(m);!(b=(g=h.next()).done);b=!0)y=g.value,_.push(y.property_tag_id);e.next=52;break;case 48:e.prev=48,e.t1=e.catch(44),v=!0,f=e.t1;case 52:e.prev=52,e.prev=53,!b&&h.return&&h.return();case 55:if(e.prev=55,!v){e.next=58;break}throw f;case 58:return e.finish(55);case 59:return e.finish(52);case 60:t.submitForm.property_tags=_;case 61:case"end":return e.stop()}},e,t,[[12,16,20,28],[21,,23,27],[44,48,52,60],[53,,55,59]])}))()},search:function(){var t=this;return b()(d.a.mark(function e(){var a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.api.changeProjectList({project_id:t.submitForm.project_id});case 2:200==(a=e.sent).code&&(t.sumbitForm=a.data);case 4:case"end":return e.stop()}},e,t)}))()},submit:function(){var t=this;this.$confirm("此操作将提交成功, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(b()(d.a.mark(function e(){var a,r;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.api.changeProjectAdd({project_id:t.project_id});case 2:200==(a=e.sent).code&&(t.$message({type:"success",message:"提交成功!"}),r=a.data,t.$router.push({name:"ruleOfMaid",params:{project_id:t.project_id,rule_id:r}}));case 4:case"end":return e.stop()}},e,t)}))).catch(function(){t.$message({type:"info",message:"已取消提交"})})},cancel:function(){void 0!=this.$route.params.operationType?this.$router.push({name:"distribution"}):this.$router.push({name:"startApply"})}},components:{CitySelector:L}},pe={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"projectInfo"},[a("div",{staticClass:"title-text"},[t._v("项目分销详情\n    "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.cancel}},[t._v("关 闭")]),t._v(" "),t.isDisable()?t._e():a("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("提 交")])],1)]),t._v(" "),a("el-form",{staticClass:"form",attrs:{model:t.submitForm,disabled:1==!t.operationType}},[a("div",[a("el-form-item",{staticClass:"input",attrs:{label:"项目编号"}},[a("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入项目编号"},model:{value:t.submitForm.project_code,callback:function(e){t.$set(t.submitForm,"project_code",e)},expression:"submitForm.project_code"}})],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"项目名称"}},[a("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入项目名称"},model:{value:t.submitForm.project_name,callback:function(e){t.$set(t.submitForm,"project_name",e)},expression:"submitForm.project_name"}})],1)],1),t._v(" "),a("div",{staticClass:"text"},[t._v("物业类型")]),t._v(" "),a("el-form-item",{attrs:{prop:"property_tags"}},t._l(t.typeOptions,function(e){return a("el-checkbox",{key:e.param_id,attrs:{label:e.param_id},model:{value:t.submitForm.property_tags,callback:function(e){t.$set(t.submitForm,"property_tags",e)},expression:"submitForm.property_tags"}},[t._v(t._s(e.param))])})),t._v(" "),a("div",{staticClass:"text"},[t._v("现住地址")]),t._v(" "),a("el-form-item",[a("city-selector",{attrs:{province:t.submitForm.province,city:t.submitForm.city,district:t.submitForm.district},on:{"update:province":function(e){t.$set(t.submitForm,"province",e)},"update:city":function(e){t.$set(t.submitForm,"city",e)},"update:district":function(e){t.$set(t.submitForm,"district",e)}}}),t._v(" "),a("el-input",{staticClass:"input1",model:{value:t.submitForm.absolute_address,callback:function(e){t.$set(t.submitForm,"absolute_address",e)},expression:"submitForm.absolute_address"}})],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"项目负责人"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.submitForm.project_hold_name,callback:function(e){t.$set(t.submitForm,"project_hold_name",e)},expression:"submitForm.project_hold_name"}})],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"联系电话"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.submitForm.project_hold_phone,callback:function(e){t.$set(t.submitForm,"project_hold_phone",e)},expression:"submitForm.project_hold_phone"}})],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"开发商"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.submitForm.developer_name,callback:function(e){t.$set(t.submitForm,"developer_name",e)},expression:"submitForm.developer_name"}})],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"结佣单位"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.submitForm.statement_company,callback:function(e){t.$set(t.submitForm,"statement_company",e)},expression:"submitForm.statement_company"}})],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"所属单位"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.submitForm.subordinate_company,callback:function(e){t.$set(t.submitForm,"subordinate_company",e)},expression:"submitForm.subordinate_company"}})],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"与项目关系"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.submitForm.company_relation,callback:function(e){t.$set(t.submitForm,"company_relation",e)},expression:"submitForm.company_relation"}})],1)],1),t._v(" "),1==this.auditing_state&&0==t.operationType?a("div",[a("div",{staticClass:"title-text"},[t._v("到访确认人信息")]),t._v(" "),a("el-table",{attrs:{data:t.peopleInfo,border:""}},[a("el-table-column",{attrs:{label:"序号",align:"center",width:"70px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.getIndex(e)))]}}])}),t._v(" "),a("el-table-column",{attrs:{property:"account",label:"云算号",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"name",label:"名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"tel",label:"联系方式",align:"center",width:"110px"}}),t._v(" "),a("el-table-column",{attrs:{property:"department",label:"所属部门",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"position",label:"职位",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"entry_time",label:"入职时间",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"create_time",label:"分配时间",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.remove(e.row)}}},[t._v("结束")])]}}])})],1)],1):t._e(),t._v(" "),1!=t.operationType&&0!=t.operationType||1!=this.auditing_state?t._e():a("div",[a("div",{staticClass:"title-text"},[t._v("结佣规则")]),t._v(" "),a("el-table",{attrs:{data:t.gridData,border:""}},[a("el-table-column",{attrs:{prop:"plan_start",label:"计划开始执行时间",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"plan_end",label:"计划结束执行时间",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"state",label:"申请状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.state(e.row.state)))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"end_state",label:"执行状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.end_state(e.row.end_state)))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.seeShow(e.row)}}},[t._v("查看")])]}}])})],1)],1)],1)},staticRenderFns:[]};var ue=a("vSla")(ce,pe,!1,function(t){a("+Uz+"),a("gr26")},"data-v-15529e4a",null).exports,me={data:function(){return{tableData:[],searchObj:{tag_search:"",search:"",page:1},pageSize:0,total:0,tipActiveIndex:1,dialogFormVisible:!1,refuseInfo:!1,examinePeople:{name:"",role:"",account:"",department:"",position:"",img_url:"",entry_time:"",project_name:"",sex:"",tel:"",birth:"",absolute_address:"",city_name:"",district_name:"",agent_id:null,project_id:null,id:null,remark:""},showImgUrl:!1,submitForm:{},remark:"",operationType:0}},mounted:function(){this.getExList()},methods:{showCheck:function(t){this.refuseInfo=!0},seeimgUrl:function(){this.showImgUrl=!0},check:function(t){var e=this;return b()(d.a.mark(function a(){var r;return d.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:e.submitForm.type=t,r=I()({},e.submitForm),0==t?e.$confirm("此操作将审核不通过, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(b()(d.a.mark(function t(){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r.remark=e.remark,t.next=3,e.api.exPeople(r);case 3:200==t.sent.code&&e.$message({type:"success",message:"审核不通过成功!"}),e.getExList(),e.cancelRefuseInfo(),e.cancel();case 8:case"end":return t.stop()}},t,e)}))).catch(function(){e.$message({type:"info",message:"已取消审核不通过"})}):e.$confirm("此操作将审核成功, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(b()(d.a.mark(function t(){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.api.exPeople(r);case 2:200==t.sent.code&&e.$message({type:"success",message:"审核成功!"}),e.getExList(),e.cancelRefuseInfo(),e.cancel();case 7:case"end":return t.stop()}},t,e)}))).catch(function(){e.$message({type:"info",message:"已取消审核"})});case 3:case"end":return a.stop()}},a,e)}))()},examine:function(t){var e=this;return b()(d.a.mark(function a(){var r;return d.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e.operationType=0,e.dialogFormVisible=!0,e.examinePeople=t,e.submitForm.project_id=t.project_id,e.submitForm.agent_id=t.agent_id,e.submitForm.id=t.id,a.next=8,e.api.getExInfo(e.examinePeople);case 8:200==(r=a.sent).code&&I()(e.examinePeople,r.data);case 10:case"end":return a.stop()}},a,e)}))()},showSee:function(t){var e=this;return b()(d.a.mark(function a(){var r;return d.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e.operationType=1,e.dialogFormVisible=!0,a.next=4,e.api.getRefuseInfo({agent_id:t.agent_id});case 4:200==(r=a.sent).code&&I()(e.examinePeople,r.data);case 6:case"end":return a.stop()}},a,e)}))()},getRole:function(t){return 1==t?"经纪人":2==t?"对接人":void 0},auditingState:function(t){return 0==t?"拒绝":1==t?"通过":2==t?"待审核":void 0},role:function(t){return 1==t?"新房经纪人":2==t?"项目对接人":void 0},sex:function(t){return 1==t?"男":2==t?"女":0==t?"未设置":void 0},cancel:function(){this.dialogFormVisible=!1},cancelRefuseInfo:function(){this.refuseInfo=!1,this.remark=""},getExList:function(){var t=this;return b()(d.a.mark(function e(){var a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.api.getExList(t.searchObj);case 2:((a=e.sent).code=200)&&(t.tableData=a.data.data,t.total=a.data.total,t.pageSize=a.data.per_page);case 4:case"end":return e.stop()}},e,t)}))()},pageChange:function(t){this.searchObj.page=t,this.getExList()},getIndex:function(t){return t.$index+1+(this.searchObj.page-1)*this.pageSize},clickTip:function(t){this.tipActiveIndex=t,this.searchObj.tag_search=t,this.search()},search:function(){this.searchObj.page=1,this.getExList()}}},de={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"examinePeople"},[r("div",{staticClass:"title"},[r("div",{staticClass:"left"},[r("div",{staticClass:"text1"},[t._v("当前位置：审核经纪人")]),t._v(" "),r("div",{staticClass:"left"},[r("el-button",{staticClass:"tip",class:1==t.tipActiveIndex?"active":"",attrs:{type:"text"},on:{click:function(e){t.clickTip(1)}}},[t._v("全部")]),t._v(" "),r("el-button",{staticClass:"tip",class:2==t.tipActiveIndex?"active":"",attrs:{type:"text"},on:{click:function(e){t.clickTip(2)}}},[t._v("待审核")]),t._v(" "),r("el-button",{staticClass:"tip",class:0==t.tipActiveIndex?"active":"",attrs:{type:"text"},on:{click:function(e){t.clickTip(0)}}},[t._v("审核未通过")]),t._v(" "),r("div",{staticClass:"search-block"},[r("el-input",{staticClass:"query",attrs:{placeholder:"可查询云算号/经纪人姓名"},model:{value:t.searchObj.search,callback:function(e){t.$set(t.searchObj,"search",e)},expression:"searchObj.search"}}),t._v(" "),r("el-button",{attrs:{icon:"el-icon-search",circle:""},on:{click:t.getExList}})],1)],1)])]),t._v(" "),[r("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[r("el-table-column",{attrs:{prop:"",label:"序号",align:"center",width:"70px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.getIndex(e)))]}}])}),t._v(" "),r("el-table-column",{attrs:{prop:"account",label:"云算号",align:"center",width:"100px"}}),t._v(" "),r("el-table-column",{attrs:{prop:"name",label:"经纪人姓名",align:"center",width:"140px"}}),t._v(" "),r("el-table-column",{attrs:{prop:"tel",label:"联系方式",align:"center",width:"140px"}}),t._v(" "),r("el-table-column",{attrs:{prop:"role",label:"角色",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.getRole(e.row.role)))]}}])}),t._v(" "),r("el-table-column",{attrs:{prop:"project_name",label:"申请项目",align:"center",width:"140px"}}),t._v(" "),r("el-table-column",{attrs:{prop:"department",label:"所属部门",align:"center",width:"140px"}}),t._v(" "),r("el-table-column",{attrs:{prop:"city_name",label:"城市",align:"center"}}),t._v(" "),r("el-table-column",{attrs:{prop:"district_name",label:"区域",align:"center"}}),t._v(" "),r("el-table-column",{attrs:{prop:"state",label:"审核状态",align:"center",width:"110px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.auditingState(e.row.state)))]}}])}),t._v(" "),r("el-table-column",{attrs:{prop:"entry_time",label:"申请时间",align:"center",width:"140px"}}),t._v(" "),r("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[2==e.row.state?r("el-button",{attrs:{type:"text"},on:{click:function(a){t.examine(e.row)}}},[t._v("审核")]):t._e(),t._v(" "),0==e.row.state?r("el-button",{attrs:{type:"text"},on:{click:function(a){t.showSee(e.row)}}},[t._v("查看")]):t._e()]}}])})],1),t._v(" "),r("el-pagination",{staticClass:"page",attrs:{background:"",layout:"prev, pager, next","page-size":t.pageSize,"current-page":t.searchObj.page,total:t.total},on:{"current-change":t.pageChange}}),t._v(" "),r("el-dialog",{staticClass:"dialog",attrs:{title:"审核",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e},close:t.cancel}},[r("div",{staticClass:"btn"},[0==t.operationType?r("el-button",{attrs:{type:"primary"},on:{click:function(e){t.check(1)}}},[t._v("审核通过")]):t._e(),t._v(" "),0==t.operationType?r("el-button",{attrs:{type:"primary"},on:{click:function(e){t.showCheck(0)}}},[t._v("审核不通过")]):t._e(),t._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:t.cancel}},[t._v("关闭")])],1),t._v(" "),r("div",{staticClass:"num_set"},[t._v("员工信息")]),t._v(" "),r("el-form",{model:{value:t.examinePeople,callback:function(e){t.examinePeople=e},expression:"examinePeople"}},[r("el-form-item",{staticClass:"input1"},[r("div",[t._v("姓名")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.name))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("角色")]),t._v(" "),r("div",{staticClass:"border"},[t._v("\n            "+t._s(t.role(t.examinePeople.role))+"\n          ")])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("云算号")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.account))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("所属部门")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.department))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("职位")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.position))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("申请时间")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.entry_time))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("申请项目")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.project_name))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("工牌照片")]),t._v(" "),r("div",{staticClass:"border  img"},[r("span",[t._v("(工牌照片)")]),t._v(" "),r("el-button",{attrs:{type:"text"},on:{click:t.seeimgUrl}},[t._v("点击查看")])],1)]),t._v(" "),r("div",{staticClass:"num_set"},[t._v("基础信息")]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("性别")]),t._v(" "),r("div",{staticClass:"border"},[t._v("\n            "+t._s(t.sex(t.examinePeople.sex))+"\n          ")])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("电话号码")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.tel))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("出生年月")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.birth))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("通讯地址")]),t._v(" "),r("div",{staticClass:"border width"},[t._v(t._s(t.examinePeople.city_name+t.examinePeople.district_name+t.examinePeople.absolute_address))])]),t._v(" "),r("div",{staticClass:"num_set"},[t._v("审核信息")]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("审核人员")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.auditing_name))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("审核时间")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.auditing_time))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("备注")]),t._v(" "),r("div",{staticClass:"border height"},[t._v(t._s(t.examinePeople.remark))])])],1)],1),t._v(" "),r("el-dialog",{staticClass:"dialog",attrs:{title:"拒绝",visible:t.refuseInfo},on:{"update:visible":function(e){t.refuseInfo=e},close:t.cancelRefuseInfo}},[r("el-form",[r("el-form-item",{attrs:{label:"审核不通过原因"}},[r("el-input",{staticClass:"textarea",attrs:{type:"textarea"},model:{value:t.remark,callback:function(e){t.remark=e},expression:"remark"}})],1)],1),t._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:t.cancelRefuseInfo}},[t._v("取 消")]),t._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:function(e){t.check(0)}}},[t._v("确 定")])],1)],1),t._v(" "),r("el-dialog",{attrs:{title:"工牌照照片",visible:t.showImgUrl},on:{"update:visible":function(e){t.showImgUrl=e}}},[t.examinePeople.img_url?r("img",{staticClass:"heightWidth",attrs:{src:this.base+t.examinePeople.img_url}}):r("img",{staticClass:"heightWidth",attrs:{src:a("QKcC")}})])]],2)},staticRenderFns:[]};var _e=a("vSla")(me,de,!1,function(t){a("igL8"),a("HHfJ")},"data-v-24640fd9",null).exports,be={data:function(){return{tableData:[],dialogFormVisible:!1,searchObj:{search:"",page:1},pageSize:0,total:0,examinePeople:{name:"",role:"",account:"",department:"",position:"",img_url:"",entry_time:"",project_name:"",sex:"",tel:"",birth:"",absolute_address:"",slef_desc:"",bank_card:"",bank_name:"",card_url:"",id_card:"",quit:{his_id:"",auth_id:"",create_time:"",type:"",remark:""}},showImgUrl:!1,showIdCard:!1}},mounted:function(){this.getQuitList()},methods:{seeimgUrl:function(){this.showImgUrl=!0},seeIdCard:function(){this.showIdCard=!0},getRole:function(t){return 1==t?"经纪人":2==t?"对接人":void 0},showSee:function(t){var e=this;return b()(d.a.mark(function a(){var r;return d.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e.dialogFormVisible=!0,a.next=3,e.api.getQuitInfo({agent_id:t.agent_id});case 3:200==(r=a.sent).code&&I()(e.examinePeople,r.data);case 5:case"end":return a.stop()}},a,e)}))()},auditingState:function(t){return 0==t?"未通过":2==t?"待审核":void 0},role:function(t){return 1==t?"新房经纪人":2==t?"项目对接人":void 0},quitType:function(t){return 1==t?"自行离职":2==t?"公司辞退":void 0},sex:function(t){return 1==t?"男":2==t?"女":0==t?"未设置":void 0},cancel:function(){this.dialogFormVisible=!1},search:function(){this.searchObj.page=1,this.getQuitList()},getIndex:function(t){return t.$index+1+(this.searchObj.page-1)*this.pageSize},pageChange:function(t){this.searchObj.page=t,this.getQuitList()},getQuitList:function(){var t=this;return b()(d.a.mark(function e(){var a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.api.getQuitList(t.searchObj);case 2:((a=e.sent).code=200)&&(t.tableData=a.data.data,t.total=a.data.total,t.pageSize=a.data.per_page);case 4:case"end":return e.stop()}},e,t)}))()}}},ve={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"quitPeople"},[r("div",{staticClass:"title"},[r("div",{staticClass:"left"},[r("div",{staticClass:"text1"},[t._v("当前位置：离职经纪人")]),t._v(" "),r("div",{staticClass:"search-block"},[r("el-input",{staticClass:"query",attrs:{placeholder:"可查询云算号/经纪人姓名"},model:{value:t.searchObj.search,callback:function(e){t.$set(t.searchObj,"search",e)},expression:"searchObj.search"}}),t._v(" "),r("el-button",{attrs:{icon:"el-icon-search",circle:""},on:{click:t.getQuitList}})],1)])]),t._v(" "),[r("el-table",{staticClass:"mt-20",staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[r("el-table-column",{attrs:{label:"序号",align:"center",width:"70px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.getIndex(e)))]}}])}),t._v(" "),r("el-table-column",{attrs:{prop:"account",label:"云算号",align:"center",width:"100px"}}),t._v(" "),r("el-table-column",{attrs:{prop:"name",label:"经纪人姓名",align:"center",width:"140px"}}),t._v(" "),r("el-table-column",{attrs:{prop:"tel",label:"联系方式",align:"center",width:"140px"}}),t._v(" "),r("el-table-column",{attrs:{prop:"role",label:"角色",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.getRole(e.row.role)))]}}])}),t._v(" "),r("el-table-column",{attrs:{prop:"project_name",label:"申请项目",align:"center",width:"140px"}}),t._v(" "),r("el-table-column",{attrs:{prop:"department",label:"所属部门",align:"center",width:"140px"}}),t._v(" "),r("el-table-column",{attrs:{prop:"city",label:"城市",align:"center"}}),t._v(" "),r("el-table-column",{attrs:{prop:"district",label:"区域",align:"center"}}),t._v(" "),r("el-table-column",{attrs:{prop:"entry_time",label:"入职时间",align:"center",width:"140px"}}),t._v(" "),r("el-table-column",{attrs:{prop:"create_time",label:"离职时间",align:"center",width:"140px"}}),t._v(" "),r("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-button",{attrs:{type:"text"},on:{click:function(a){t.showSee(e.row)}}},[t._v("查看")])]}}])})],1),t._v(" "),r("el-pagination",{staticClass:"page",attrs:{background:"",layout:"prev, pager, next","page-size":t.pageSize,"current-page":t.searchObj.page,total:t.total},on:{"current-change":t.pageChange}}),t._v(" "),r("el-dialog",{staticClass:"dialog",attrs:{title:"查看",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e},close:t.cancel}},[r("div",{staticClass:"btn"},[r("el-button",{attrs:{type:"primary"},on:{click:t.cancel}},[t._v("关闭")])],1),t._v(" "),r("div",{staticClass:"num_set"},[t._v("员工信息")]),t._v(" "),r("el-form",{model:{value:t.examinePeople,callback:function(e){t.examinePeople=e},expression:"examinePeople"}},[r("el-form-item",{staticClass:"input1"},[r("div",[t._v("姓名")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.name))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("角色")]),t._v(" "),r("div",{staticClass:"border"},[t._v("\n            "+t._s(t.role(t.examinePeople.role))+"\n          ")])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("云算号")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.account))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("所属部门")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.department))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("职位")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.position))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("入职时间")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.entry_time))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("工牌照片")]),t._v(" "),r("div",{staticClass:"border  img"},[r("span",[t._v("(工牌照片)")]),t._v(" "),r("el-button",{attrs:{type:"text"},on:{click:t.seeimgUrl}},[t._v("点击查看")])],1)]),t._v(" "),r("div",{staticClass:"num_set"},[t._v("基础信息")]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("性别")]),t._v(" "),r("div",{staticClass:"border"},[t._v("\n            "+t._s(t.sex(t.examinePeople.sex))+"\n          ")])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("电话号码")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.tel))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("出生年月")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.birth))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("身份证")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.id_card))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("绑定银行")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.bank_name))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("银行卡号")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.bank_card))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("通讯地址")]),t._v(" "),r("div",{staticClass:"border3"},[t._v(t._s(t.examinePeople.city_name+t.examinePeople.district_name+t.examinePeople.absolute_address))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("证件照片")]),t._v(" "),r("div",{staticClass:"border  img"},[r("span",[t._v("(证件照片为正反两面)")]),t._v(" "),r("el-button",{attrs:{type:"text"},on:{click:t.seeIdCard}},[t._v("点击查看")])],1)]),t._v(" "),r("el-form-item",{staticClass:"input2"},[r("div",[t._v("个人介绍")]),t._v(" "),r("div",{staticClass:"border height"},[t._v(t._s(t.examinePeople.slef_desc))])]),t._v(" "),r("div",{staticClass:"num_set"},[t._v("离职信息")]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("离职时间")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.quit?t.examinePeople.quit.create_time:""))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("离职类型")]),t._v(" "),r("div",{staticClass:"border"},[t._v(" "+t._s(t.quitType(t.examinePeople.quit?t.examinePeople.quit.type:"")))])]),t._v(" "),r("el-form-item",{staticClass:"input2"},[r("div",[t._v("离职原因")]),t._v(" "),r("div",{staticClass:"border height"},[t._v(t._s(t.examinePeople.quit?t.examinePeople.quit.remark:""))])])],1)],1),t._v(" "),r("el-dialog",{attrs:{title:"工牌照照片",visible:t.showImgUrl},on:{"update:visible":function(e){t.showImgUrl=e}}},[t.examinePeople.img_url?r("img",{staticClass:"heightWidth",attrs:{src:this.base+t.examinePeople.img_url}}):r("img",{staticClass:"heightWidth",attrs:{src:a("QKcC")}})]),t._v(" "),r("el-dialog",{staticClass:"showIdCard",attrs:{title:"证件照照片",visible:t.showIdCard},on:{"update:visible":function(e){t.showIdCard=e}}},[t.examinePeople.card_front?r("img",{staticClass:"heightWidth",attrs:{src:this.base+t.examinePeople.card_front}}):r("img",{staticClass:"heightWidth",attrs:{src:a("7VeV")}}),t._v(" "),t.examinePeople.card_back?r("img",{staticClass:"heightWidth",attrs:{src:this.base+t.examinePeople.card_back}}):r("img",{staticClass:"heightWidth",attrs:{src:a("kQan")}})])]],2)},staticRenderFns:[]};var fe=a("vSla")(be,ve,!1,function(t){a("SZcO"),a("fV5d")},"data-v-292ecc36",null).exports;r.default.use(i.a);var he=new i.a({base:"/admin/company",routes:[{path:"/",name:"login",component:h},{path:"/project",component:u,children:[{path:"",name:"project",component:x},{path:"/addProject",name:"addProject",component:H},{path:"/reCreateProject",name:"reCreateProject",component:tt},{path:"/requestRefund",name:"requestRefund",component:rt},{path:"/payRecord",name:"payRecord",component:it},{path:"/refundInfo",name:"refundInfo",component:ct}]},{path:"/peopleProject",component:u,children:[{path:"",name:"peopleProject",component:j},{path:"/peopleFastDistribution",name:"peopleFastDistribution",component:A},{path:"/peopleAddPerson",name:"peopleAddPerson",component:P},{path:"/peopleChoicePeople",name:"peopleChoicePeople",component:B},{path:"/peopleProjectInfo",name:"peopleProjectInfo",component:Q},{path:"/peopleRuleOfMaid",name:"peopleRuleOfMaid",component:G}]},{path:"/agent",component:u,children:[{path:"",name:"agent",component:mt},{path:"/examinePeople",name:"examinePeople",component:_e},{path:"/quitPeople",name:"quitPeople",component:fe}]},{path:"/commission",component:u,children:[{path:"",name:"commission",component:bt},{path:"companyPrice",name:"companyPrice",component:ht},{path:"personPrice",name:"personPrice",component:xt},{path:"companyPriceInfo",name:"companyPriceInfo",component:jt}]},{path:"/distri_commission",component:u,children:[{path:"",name:"distri_commission",component:At},{path:"maidInfo",name:"maidInfo",component:Pt},{path:"commissionApply",name:"commissionApply",component:Bt},{path:"updateCommission",name:"updateCommission",component:Et},{path:"requestPayment",name:"requestPayment",component:Nt}]},{path:"/distribution",component:u,children:[{path:"",name:"distribution",component:qt},{path:"/fastDistribution",name:"fastDistribution",component:Kt},{path:"/addPerson",name:"addPerson",component:ae},{path:"/choicePeople",name:"choicePeople",component:se},{path:"/startApply",name:"startApply",component:le},{path:"/projectInfo",name:"projectInfo",component:ue},{path:"/ruleOfMaid",name:"ruleOfMaid",component:Yt},{path:"/ruleSetting",name:"ruleSetting",component:Jt}]}]}),ge=a("uNf3"),ye=a.n(ge),xe=a("aozt"),ke=a.n(xe),Ce=a("6iV/"),je=a.n(Ce),we="http://120.27.21.136:2798";r.default.prototype.base="http://120.27.21.136:2798";var Fe=function(t){return function(e){return e?ke.a.post(we+"/"+t,je.a.stringify(e)):ke.a.post(we+"/"+t)}},Ae=function(t){return function(e){return e?ke.a.get(we+"/"+t,{params:e}):ke.a.get(we+"/"+t)}},Se=function(t,e){return ke.a.post(we+"/"+t,e,{headers:{"Content-Type":"multipart/form-data"}})};ke.a.interceptors.response.use(function(t){return 200==t.data.code||(201==t.data.code?(r.default.prototype.$message({type:"error",message:"由于您长时间没有操作, 登录已过期, 请重新登录"}),location.href="http://120.27.21.136:2798/admin/company/"):r.default.prototype.$message({type:"error",message:t.data.msg})),t.data}),ke.a.interceptors.request.use(function(t){var e=localStorage.getItem("token");return""!=e&&(t.headers["ACCESS-ROLE"]="company",t.headers["ACCESS-TOKEN"]=e),t});var Ie=It()({gitCode:Fe("company/user/login"),updateAdminState:Ae("company/project/updateAdminState"),getProvinceList:Ae("getProvinceList"),getCityList:Ae("getCityList"),getDistrictList:Ae("getDistrictList"),getCreateProject:Fe("company/project/createProject"),getProjectList:Ae("company/project/getProjectList"),uploadProjectAgreement:function(t){return Se("company/project/uploadProjectAgreement",t)},getUpdateProjectAdmin:Ae("company/project/updateProjectAdmin"),updateProjectAdmin:Fe("company/project/updateProjectAdmin"),addProjectAdmin:Fe("company/project/addProjectAdmin"),getProjectInfo:Ae("company/project/getProjectInfo"),getTags:Ae("company/project/getProperty_tags"),getUpdateProject:Fe("company/project/updateProject"),reCreateProject:Fe("company/project/reCreateProject"),getBack:Ae("company/project/getBack"),getBusinessInfo:Ae("company/project/getBusinessInfo"),getRefund:Fe("company/project/refund"),getList:Ae("company/distribution/getList"),applyProject:Ae("company/distribution/applyProject"),getAgent:Ae("company/distribution/getAgent"),getAgentInfo:Ae("company/distribution/getAgentInfo"),getRole:Ae("company/distribution/getRule"),endAgent:Ae("company/distribution/endAgent"),exAgent:Fe("company/distribution/exAgent"),agentList:Ae("company/distribution/addAgent"),agentAdd:Fe("company/distribution/addAgent"),changeProjectList:Ae("company/distribution/changeProject"),changeProjectAdd:Fe("company/distribution/applyProject"),addRule:Fe("company/distribution/addRule"),uploadBrokerCommission:function(t){return Se("company/distribution/uploadBrokerAgreement",t)},addBrokerAgreement:Fe("company/distribution/addBrokerAgreement"),getBrokerAgreement:Ae("company/distribution/getBrokerAgreement"),exPeople:Fe("company/CompanyAgent/ex"),quitPeople:Fe("company/CompanyAgent/quit"),getExList:Ae("company/CompanyAgent/getExList"),getQuitList:Ae("company/CompanyAgent/getQuitList"),getPayrollList:Ae("company/CompanyAgent/getPayrollList"),getExInfo:Ae("company/CompanyAgent/getExInfo"),getQuitInfo:Ae("company/CompanyAgent/getQuitInfo"),getPayrollInfo:Ae("company/CompanyAgent/getPayrollInfo"),getRefuseInfo:Ae("company/CompanyAgent/getRefuseInfo"),getProjectCommissionList:Ae("company/projectCommission/getList"),getCompanyY:Ae("company/projectCommission/getCompanyY"),getCompanyAllInfo:Ae("company/projectCommission/getCompanyAllInfo"),getCompanyAll:Ae("company/projectCommission/getCompanyAll"),getCompanyYInfo:Ae("company/projectCommission/getCompanyYInfo"),getCompanyNInfo:Ae("company/projectCommission/getCompanyNInfo"),getCompanyNList:Ae("company/projectCommission/getCompanyN"),getPersonInfoList:Ae("company/projectCommission/getPersonAllInfo"),getPersonNInfo:Ae("company/projectCommission/getPersonNInfo"),getDistributionList:Ae("company/DistributionCommission/getList"),getBrokerApply:Ae("company/DistributionCommission/brokerApply"),brokerApply:Fe("company/DistributionCommission/brokerApply"),seeCommissionList:Ae("company/DistributionCommission/brokerList"),updateBroker:Ae("company/DistributionCommission/updateBroker"),getBrokerInfo:Ae("company/DistributionCommission/getBrokerInfo"),updateBrokerSumbit:Fe("company/DistributionCommission/updateBroker"),getPriceApply:Ae("company/DistributionCommission/priceApply"),priceApplySumbit:Fe("company/DistributionCommission/priceApply"),rePriceApplySumbit:Fe("company/DistributionCommission/rePriceApply"),delBroker:Ae("company/DistributionCommission/delBroker"),getApplyInfo:Ae("company/DistributionCommission/getApplyInfo"),getRePriceApply:Ae("company/DistributionCommission/rePriceApply"),getPeopleList:Ae("company/PeopleProject/getList"),getPeopleRole:Ae("company/PeopleProject/getRule"),getRuleContract:Ae("company/PeopleProject/getRuleInfo")},"getBrokerAgreement",Ae("company/PeopleProject/getBrokerAgreement"));a("Xcu2");r.default.use(ye.a),r.default.config.productionTip=!1,r.default.prototype.api=Ie,new r.default({el:"#app",router:he,components:{App:s},template:"<App/>"})},Ohn7:function(t,e){},PN4Q:function(t,e){},QKcC:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAABkCAIAAADCEmNlAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjMxODZBOEQzN0FCRTExRTg4RDU2QUY0NENFRjQwQzAzIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjMxODZBOEQ0N0FCRTExRTg4RDU2QUY0NENFRjQwQzAzIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MzE4NkE4RDE3QUJFMTFFODhENTZBRjQ0Q0VGNDBDMDMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MzE4NkE4RDI3QUJFMTFFODhENTZBRjQ0Q0VGNDBDMDMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4S/XaWAAAE9UlEQVR42uydaVPqShRFAVHECRzA6f//MwcUIQoaFae3HqeqiyKECySQNOz94VZMchNY2X36nO6OFsMwLEjLV0kIBFqgJYEWaIGWBFqgJYEWaIGWBFqgJYEWaIGWBFqgJYEWaIGWlq9y/j/i7+9vEARhGP78/Pz9/RWLRdvP9v9foFyu1WpHR0cCnUjQbLVan5+fo3tGT/j+/u50OtVqdXt7W6AX1+vrq1HGuVGUeHwwGLDx8PBwfX3tzC7Qc8t5udlsViqVsaNfX183Nze2gbXzbOq8d4bTTUr4nuU0gf63nEkxbPQooWPGRyLQ/9DOzk6UaRTu1tZWqVQS6AR9SLlsNF2UmOhoKMvRiYRVYR3naEdfoFPoDC1MT4zRo6FjQwuWiS19YVPHOdrthHhadywO5Qfop6cnCo0VPDlXJb4NlcqNTk5OllHQLwX0+/v7WKGcXJgX1mOphbtLirdbUqxfCmjDwb/VapXPnYQC/53ikMKPi8B6DLSFDs7hRhxa+Eb2IfFH9Fl6UILTiVE3J7/O8/NzEAR/Q8W5jxsld+Lt7e1gMEi9LS4960jrE7vojK+jYx2p972eZR3p1iy20e12ad3OyyR8Hx8f1nQ2N71LUQcHB71ez8bn+v1+9ITj4+P8fwsPprLonS4vL/f29qJRGC83Gg0OedAuCz6IyHB+fo6px8qWSqWS/wFSn0A7/+Z8vsoP0B9DmWexMG7d3d31xbB+gKYk6XQ6ozOwzsL1ep3OUKDToXx/fz+adLtikqDcbrct8RDopEXN4+OjYYUv/iVikDgTQHgA1IRUIrCmws5/ppxr0BQgbqCZHM7NcxM0CNDkbXd3d7AOw/Dw8NBr0KXM44ZtgDW6msBwTyy+BXo+ubzY1dlR1oWYUX+BnkNuMGj6CNQaJHkZx+ixFYtxT2L6Y8Dvb29vs8/P2kpJG8LeuIIlLnRYskFnSJ8Zd06v1yM/mfeO9K5nZ2cblN7ZRtw0HfstycO2caBJTqyknN3ReHnFQ1EZgybTsElV8ryJ4xiW/O0MNeUipIbqDKcJwxrfIAiisyQkf61Wi41areZ7f5gxaPBZJQLlsThrlNnPk1iDEjz7gX8XK+nTbFW5VShGme3T09OC/8oeNIa9urqyxQI2B2gh2ygTW8jD1gB09ukd2YIb7oim1RwihkSr81Fh/36/z4OZK48mHE2/7PqAtslW5Cps98339/eJJJwQDsWPWNvGPaIib3l5eVkgs1x/0JgUvgBymQY5MrHY5XD8SDzpdDqW/NnSOmIINiSmj1V0dKdQ46nM7mjqoBUPB64a9OtQbnmGMeU7Y9gxfLBoNpucSTZisft9KM7H4PV63Z3PmflfcbBS0O12e3SVqTkUalOcWB0KvrQAYog5l0BBm8h/kZINaFI3o2zNFr5Tir2JuEHMFSBua5S44OxX2CDQrscD8WItnaBBxMD+3W634MN6u4w7w4nrQmeXR+8WZgPacaH5J1mdv6RltesDmnhK2ye8JnS0CyN+rVpaHWiysYuLiyAIbKZ1sYZvTwjERPmcv8GZZYxO6x0AH6XfQCPQAi3lC/TarLjNb2fo1oLajJ8vmvi6uQdZByXc6CidN23coxc6G42GIfYretg49ZJmzor662/KOgRaEmiBFmhJoAVaEmiBFmhJoAVaEmiBFmhJoAVaEmiBFmhJoNdG/wkwAP5ir5B+wIv0AAAAAElFTkSuQmCC"},QdLY:function(t,e){},"R6+e":function(t,e){},Ry3k:function(t,e){},SZcO:function(t,e){},Shcb:function(t,e){},"Sm/6":function(t,e){},TvbG:function(t,e){},Uihm:function(t,e){},W5cg:function(t,e){},XXRF:function(t,e){},Xcu2:function(t,e){},XtUh:function(t,e){},ZWfs:function(t,e){},cLMM:function(t,e){},dARU:function(t,e){},fV5d:function(t,e){},gmdE:function(t,e){},gr26:function(t,e){},gsBE:function(t,e){},h8t3:function(t,e){},hZNm:function(t,e){},iQH9:function(t,e,a){t.exports=a.p+"static/img/logo.c4a18e8.png"},igL8:function(t,e){},jsfx:function(t,e){},kQan:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAABkCAIAAADCEmNlAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjkwNkFCMjZDN0IzQTExRTg4QkEyQzM1QUNDMkQ1RTVFIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjkwNkFCMjZEN0IzQTExRTg4QkEyQzM1QUNDMkQ1RTVFIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OTA2QUIyNkE3QjNBMTFFODhCQTJDMzVBQ0MyRDVFNUUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6OTA2QUIyNkI3QjNBMTFFODhCQTJDMzVBQ0MyRDVFNUUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz662ZmOAAAEH0lEQVR42uyce1OCQBTFEwUfqZkapd//o9XkmPmMRPPRiTvDGOq0tBCynfNH06DuLD8uZ++9rhTe39+vqPRlEQFBEzRF0ARN0BRBEzRF0ARN0BRBEzRF0ARN0BRBEzRF0ARN0BRBEzQVT6VERtnv94vFYrlcGkYH51WpVBqNRrFYzB40ZjMajd7e3oyMRESP7/uu61qW1t1f0N+pNBgMMJtqtdpsNs0DjQDyPM9xnH6/XygUMovoZaDr62tccyMjularjcfj2WwG4vCQzBZD8eWbmxuD1zE5O8R1llkHDPrLgDTuqcuXnJ2cacbpneYkLj/30A8m5tEsWAiaImjTS/C4QpX08fERrukodmzbJujEtNls5vP5IeWQNUC3Wi0UPrEGxDjb7TbxeWIy+s2NzECjsnp9fd3tdifzp/V6PRwOK5VKt9tVj24MmEYnC5f89vY2lx49mUxeXl5OUj6U7/vPz8+ReDcjf/+LiIZdTKdTxTfDCgaDQa/XK5V+nluj0XAcJ9m6FBcPa0b+QMOXcYMfH4cJ1uv11WoF04hEunzk/v7+x8HrgZjefWk8Hp8Lxna77bpuuVw+mZbgGjCPvlL3gUi/G3e6eILneYhcvCqrGXBHvGI2mxG0qkAzsl41m02kFpKZPT09iavAZLHK4xocvhOWwjw6RkQfOwkcWZav0JpxMZDbRS4JPouQV1kSGdEnJHBRmNzd3Ylj4B/LsnA8AhpH0ihG/lcJDl+WZBl/4cUn8+tCIIJW0jlS20AStue8GPmfSQ2QdK2jVqv9OipBmRGtKifQ7zJilUoEth4urcneiImPmbpHI29DSR17WqWSSicP2SEy8cRLcMxZZ2dBNqCr1SpiU/YxSaScay3BlCX3wHs6nY4KPvh7GpmJelfrsrKObrcL98DspemM/yMtaVg54le2ll0FXUocURkZtU8aDbxI6ZQb0IhN2biGAJxOpwhwoJS4BiZpseOl+Xwe9zzb7TYXw2/JXLgeAiiKQ3AHTaEP4r7vRwp3xYhm1vE9hbQs3OOHNI/hpn3n/osSHNbx8PAAu5D17XiVC48Aseu6Ru7k+6MSXPpzyJkkqYisYOERZHWmbuP7016HMa24C7UOiqAJmqCpy1oMUXTk93daqF3jbk7LDDTqkfw+mdq27cRBp2Udmr/Ky9hPU5h8Kb27L+xm5EsonfLUvbMDcQ1k1kHQBE0RNEFTyYLmb8FTBx3ZF2qk5Ow0awJd0PIt6mQyMRi0nJ1mUa5bsMgjhxaLxePjI6pBXHZjnnQgX7B5nrdarWQbkNZoibR+5BktpkY0EHc6neyfqSRar9e48pvNxiTExWKxHEh/qMR6HbJxlGkc82iCJmiKoAmaImiCJmiKoAmaImiCJmiKoAmaImiCJmiKoAmaOqVPAQYAFGXs/LCgqnAAAAAASUVORK5CYII="},nlFm:function(t,e){},oU3P:function(t,e){},pUAJ:function(t,e){},pUZd:function(t,e){},qdUU:function(t,e){},ro75:function(t,e){},teB4:function(t,e){},wwKk:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAIAAAAVCAYAAABsZT8HAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAaSURBVBhXY7h+/fp/BiBgAhEgMPgZUMDAAACe+wOrgyQ+QQAAAABJRU5ErkJggg=="},yP89:function(t,e){},ymSd:function(t,e){},"yp/z":function(t,e){},zrA5:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.7d8188417b8cdb22c95c.js.map