webpackJsonp([1],{"+Qam":function(t,e){},"/rKP":function(t,e){},"0a7q":function(t,e){},"0uSW":function(t,e){},"3fT9":function(t,e){},"6/fj":function(t,e){},"7VeV":function(t,e,a){t.exports=a.p+"static/img/idCard.fa0a1c9.png"},"86XM":function(t,e){},Abk7:function(t,e){},BWN0:function(t,e){},DKQr:function(t,e){},Dc5I:function(t,e){},Dgmc:function(t,e){},FLne:function(t,e){},HJks:function(t,e){},HuU7:function(t,e){},IQcM:function(t,e){},LKCf:function(t,e){},LeJp:function(t,e){},MUpc:function(t,e){},MjJ8:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("MVMM"),n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var o=a("vSla")({name:"App"},n,!1,function(t){a("86XM")},null,null).exports,i=a("zO6J"),s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"box"},[a("el-menu",{staticClass:"sidebar-menu",attrs:{"default-active":t.activeIndex},on:{open:t.menuOpen,close:t.menuOpen}},[a("el-menu-item",{staticClass:"text",attrs:{index:"project"},on:{click:function(e){t.handleSelect("project")}}},[t._v("项目管理")]),t._v(" "),a("el-menu-item",{staticClass:"text",attrs:{index:"distribution"},on:{click:function(e){t.handleSelect("distribution")}}},[t._v("分销管理")]),t._v(" "),a("el-menu-item",{staticClass:"text",attrs:{index:"commission"},on:{click:function(e){t.handleSelect("commission")}}},[t._v("项目佣金管理")]),t._v(" "),a("el-menu-item",{staticClass:"text",attrs:{index:"distri_commission"},on:{click:function(e){t.handleSelect("distri_commission")}}},[t._v("分销佣金管理")]),t._v(" "),a("el-submenu",{attrs:{index:""}},[a("template",{slot:"title"},[a("span",{staticClass:"delent"},[t._v("经纪人管理")])]),t._v(" "),a("el-menu-item",{staticClass:"people",attrs:{index:"agent"},on:{click:function(e){t.handleSelect("agent")}}},[t._v("在职经纪人")]),t._v(" "),a("el-menu-item",{staticClass:"people",attrs:{index:"examinePeople"},on:{click:function(e){t.handleSelect("examinePeople")}}},[t._v("审核经纪人")]),t._v(" "),a("el-menu-item",{staticClass:"people",attrs:{index:"quitPeople"},on:{click:function(e){t.handleSelect("quitPeople")}}},[t._v("离职经纪人")])],2)],1)],1)},staticRenderFns:[]};var l={data:function(){return{}},components:{VueSideBar:a("vSla")({data:function(){return{activeIndex:""}},created:function(){this.activeIndex=this.$route.name},methods:{handleSelect:function(t){this.$router.push({name:t})},menuOpen:function(t){this.handleSelect(t)}}},s,!1,function(t){a("MUpc")},"data-v-4f9364b5",null).exports}},c={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("vue-side-bar"),this._v(" "),e("router-view")],1)},staticRenderFns:[]};var p=a("vSla")(l,c,!1,function(t){a("nbzS")},"data-v-e9063eac",null).exports,u=a("lC5x"),m=a.n(u),d=a("J0Oq"),_=a.n(d),v={data:function(){return{submitForm:{account:"",password:""}}},mounted:function(){},methods:{login:function(){var t=this;return _()(m.a.mark(function e(){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(""!=t.submitForm.account){e.next=3;break}return t.$message({type:"error",message:"请输入账号"}),e.abrupt("return");case 3:if(""!=t.submitForm.password){e.next=6;break}return t.$message({type:"error",message:"请输入密码"}),e.abrupt("return");case 6:if(!(t.submitForm.password.length>20)){e.next=9;break}return t.$message({type:"error",message:"密码长度必须小于20个字符"}),e.abrupt("return");case 9:if(!(t.submitForm.account.length>20)){e.next=12;break}return t.$message({type:"error",message:"账号长度必须小于20个字符"}),e.abrupt("return");case 12:return localStorage.setItem("token",""),e.next=15,t.api.gitCode(t.submitForm);case 15:200==(a=e.sent).code?(t.$router.push("project"),localStorage.setItem("token",a.data.token)):t.$message({type:"error",message:a.msg});case 17:case"end":return e.stop()}},e,t)}))()}}},f={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"title"},[a("div",[t._v("欢迎使用！")]),t._v(" "),a("div",{staticClass:"input-row"},[a("el-input",{staticClass:"input",attrs:{placeholder:"请输入账号"},model:{value:t.submitForm.account,callback:function(e){t.$set(t.submitForm,"account",e)},expression:"submitForm.account"}})],1),t._v(" "),a("div",{staticClass:"input-row"},[a("el-input",{staticClass:"input",attrs:{type:"password",placeholder:"请输入密码"},model:{value:t.submitForm.password,callback:function(e){t.$set(t.submitForm,"password",e)},expression:"submitForm.password"}})],1),t._v(" "),a("el-button",{staticClass:"button",attrs:{type:"primary",round:""},on:{click:t.login}},[t._v("登陆")]),t._v(" "),t._m(0)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"bottom-text"},[e("span",{staticClass:"text"},[this._v("忘记密码")]),this._v(" "),e("img",{staticClass:"img",attrs:{src:a("wwKk")}}),this._v(" "),e("span",{staticClass:"text"},[this._v("注册")])])}]};var b=a("vSla")(v,f,!1,function(t){a("FLne")},"data-v-3f8d7a0c",null).exports,h={data:function(){return{searchObj:{search:"",tag_search:""},tableData:[],operationType:0}},mounted:function(){this.getProjectList()},methods:{search:function(t){this.searchObj.tag_search=t,this.getProjectList()},getProjectList:function(){var t=this;return _()(m.a.mark(function e(){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.api.getProjectList(t.searchObj);case 2:200==(a=e.sent).code&&(t.tableData=a.data);case 4:case"end":return e.stop()}},e,t)}))()},projectState:function(t){return 0==t?"弃用":1==t?"正常":2==t?"已转新房":3==t?"已转二手房":void 0},authenticationState:function(t){return 1==t?"未认证":2==t?"已认证":void 0},scopeState:function(t){return 1==t?"自行申请":2==t?"平台分配":void 0},auditingState:function(t){return 0==t?"待审核":1==t?"通过":2==t?"未通过":void 0},showAdd:function(t,e){var a=this;return _()(m.a.mark(function r(){return m.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:0==t?a.$router.push({name:"addProject",params:{operationType:t}}):1==t?a.$router.push({name:"addProject",params:{operationType:t,project_id:e.project_id}}):2==t?a.$router.push({name:"addProject",params:{operationType:t,project_id:e.project_id}}):3==t&&a.$router.push({name:"reCreateProject",params:{operationType:t,project_id:e.project_id}});case 1:case"end":return r.stop()}},r,a)}))()}}},g={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"box project"},[a("div",{staticClass:"title"},[a("span",{staticClass:"left"},[a("div",{staticClass:"text1"},[t._v("当前位置：项目管理")]),t._v(" "),a("div",[a("el-button",{staticClass:"tip",attrs:{type:"text"},on:{click:function(e){t.search(0)}}},[t._v("全部")]),t._v(" "),a("el-button",{staticClass:"tip",attrs:{type:"text"},on:{click:function(e){t.search(1)}}},[t._v("待审核")]),t._v(" "),a("el-button",{staticClass:"tip",attrs:{type:"text"},on:{click:function(e){t.search(2)}}},[t._v("审核不通过")]),t._v(" "),a("el-button",{staticClass:"tip",attrs:{type:"text"},on:{click:function(e){t.search(3)}}},[t._v("未认证")]),t._v(" "),a("el-button",{staticClass:"tip",attrs:{type:"text"},on:{click:function(e){t.search(4)}}},[t._v("已认证")]),t._v(" "),a("el-button",{staticClass:"tip",attrs:{type:"text"},on:{click:function(e){t.search(5)}}},[t._v("已转出")])],1)]),t._v(" "),a("el-input",{staticClass:"query",model:{value:t.searchObj.search,callback:function(e){t.$set(t.searchObj,"search",e)},expression:"searchObj.search"}}),t._v(" "),a("el-button",{attrs:{icon:"el-icon-search",circle:""},on:{click:t.getProjectList}}),t._v(" "),a("span",{staticClass:"right"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.showAdd(0)}}},[t._v("新增")])],1)],1),t._v(" "),[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{prop:"",label:"序号",align:"center",width:"70px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"project_code",label:"项目编号",align:"center",width:"100px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"project_name",label:"项目名称",align:"center",width:"120px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"state",label:"项目状态",align:"center",width:"90px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.projectState(e.row.state)))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"city",label:"区域",align:"center",width:"90px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"developer_name",label:"开发商",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"company_relation",label:"与项目关系",align:"center",width:"110px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"subordinate_company",label:"所属单位",align:"center",width:"120px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"source",label:"来源",align:"center",width:"80px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.scopeState(e.row.source)))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"authentication_state",label:"认证状态",align:"center",width:"90px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.authenticationState(e.row.authentication_state)))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"auditing_state",label:"审核状态",align:"center",width:"90px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.auditingState(e.row.auditing_state)))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"auditing_time",label:"审核时间",align:"center",width:"120px"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"180px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.showAdd(2,e.row)}}},[t._v("查看")]),t._v(" "),1==e.row.auditing_state?a("el-button",{attrs:{type:"text"},on:{click:function(a){t.showAdd(1,e.row)}}},[t._v("修改")]):t._e(),t._v(" "),2==e.row.auditing_state?a("el-button",{attrs:{type:"text"},on:{click:function(a){t.showAdd(3,e.row)}}},[t._v("重新申请")]):t._e()]}}])})],1)]],2)},staticRenderFns:[]};var y=a("vSla")(h,g,!1,function(t){a("rRoo"),a("TqNU")},"data-v-fa8988d0",null).exports,x=a("HzJ8"),C=a.n(x),j=a("4YfN"),w=a.n(j),k=a("aA9S"),F=a.n(k),$={props:["province","city","district","disabled"],computed:{province_id:function(){return this.getCityList(),this.province},city_id:function(){return this.getdistrictList(),this.city},district_id:function(){return this.district}},data:function(){return{provinceOptions:[],cityOptions:[],districtOptions:[]}},mounted:function(){this.getProvinceList()},methods:{getProvinceList:function(){var t=this;return _()(m.a.mark(function e(){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.api.getProvinceList();case 2:200==(a=e.sent).code&&(t.provinceOptions=a.data);case 4:case"end":return e.stop()}},e,t)}))()},getCityList:function(){var t=this;return _()(m.a.mark(function e(){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.province){e.next=3;break}return t.cityOptions=[],e.abrupt("return");case 3:return e.next=5,t.api.getCityList({provinceCode:t.province});case 5:200==(a=e.sent).code&&(t.cityOptions=a.data);case 7:case"end":return e.stop()}},e,t)}))()},getdistrictList:function(){var t=this;return _()(m.a.mark(function e(){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.city){e.next=3;break}return t.districtOptions=[],e.abrupt("return");case 3:return e.next=5,t.api.getDistrictList({cityCode:t.city});case 5:200==(a=e.sent).code&&(t.districtOptions=a.data);case 7:case"end":return e.stop()}},e,t)}))()},changeProvince:function(t){this.$emit("update:province",t),this.$emit("update:city",""),this.$emit("update:district","")},changeCity:function(t){this.$emit("update:city",t),this.$emit("update:district","")},changedistrict:function(t){this.$emit("update:district",t);var e="",a="",r="",n=!0,o=!1,i=void 0;try{for(var s,l=C()(this.provinceOptions);!(n=(s=l.next()).done);n=!0){var c=s.value;c.code==this.province_id&&(e=c.name)}}catch(t){o=!0,i=t}finally{try{!n&&l.return&&l.return()}finally{if(o)throw i}}var p=!0,u=!1,m=void 0;try{for(var d,_=C()(this.cityOptions);!(p=(d=_.next()).done);p=!0){var v=d.value;v.code==this.city_id&&(a=v.name)}}catch(t){u=!0,m=t}finally{try{!p&&_.return&&_.return()}finally{if(u)throw m}}var f=!0,b=!1,h=void 0;try{for(var g,y=C()(this.districtOptions);!(f=(g=y.next()).done);f=!0){var x=g.value;x.code==t&&(r=x.name)}}catch(t){b=!0,h=t}finally{try{!f&&y.return&&y.return()}finally{if(b)throw h}}var j=e+a+r;this.$emit("changeDistrict",j)}}},P={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-select",{staticClass:"select-1",attrs:{clearable:"",value:t.province_id,placeholder:"请选择省份",disabled:t.disabled},on:{change:t.changeProvince}},t._l(t.provinceOptions,function(t){return a("el-option",{key:t.code,attrs:{label:t.name,value:t.code}})})),t._v(" "),a("el-select",{staticClass:"select-1",attrs:{clearable:"",value:t.city_id,placeholder:"请选择城市",disabled:t.disabled},on:{change:t.changeCity}},t._l(t.cityOptions,function(t){return a("el-option",{key:t.code,attrs:{label:t.name,value:t.code}})})),t._v(" "),a("el-select",{staticClass:"select-1",attrs:{clearable:"",value:t.district_id,placeholder:"请选择区/县",disabled:t.disabled},on:{change:t.changedistrict}},t._l(t.districtOptions,function(t){return a("el-option",{key:t.code,attrs:{label:t.name,value:t.code}})}))],1)},staticRenderFns:[]};var A=a("vSla")($,P,!1,function(t){a("Dgmc")},"data-v-5a7ef157",null).exports,S={data:function(){return{rules:{project_name:[{required:!0,message:"请输入项目名称",change:"change"},{max:20,message:"最大长度为20个字符",trigger:"change"}],property_type:[{type:"array",required:!0,message:"请选择物业类型",change:"change"}],statement_company:[{required:!0,message:"请输入结佣单位",change:"change"},{max:20,message:"最大长度为20个字符",trigger:"change"}],province:[{required:!0,message:"请选择具体地址",change:"change"}],absolute_address:[{required:!0,message:"请选择具体地址",change:"change"}],developer_name:[{required:!0,message:"请输入开发商名字",change:"change"},{max:20,message:"最大长度为20个字符",trigger:"change"}],project_hold_name:[{max:4,message:"最大长度为4个字符",trigger:"change"},{required:!0,message:"请输入项目负责人",change:"change"}],project_hold_phone:[{required:!0,message:"电话号码必须填写",change:"change"},{pattern:/^1[34578]\d{9}$/,message:"请输入正确的电话号码",change:"change"}],company_relation:[{required:!0,message:"请输入公司与项目关系",change:"change"}]},userFormRulesOrigin:{name:[{required:!0,message:"请输入管理员",change:"change"},{max:4,message:"最大长度为4个字符",trigger:"change"}],account:[{required:!0,message:"请输入账号",change:"change"},{min:4,max:16,message:"长度在 4 到 16 个字符",trigger:"change"}],password:[{required:!0,message:"请输入密码",change:"change"},{min:6,max:16,message:"长度在 6 到 16 个字符",trigger:"change"}],phone:[{required:!0,message:"电话号码必须填写",change:"change"},{pattern:/^1[34578]\d{9}$/,message:"请输入正确的电话号码",change:"change"}]},form:{district:"",province:"",city:"",statement_company:"",project_hold_phone:"",latitude:"",longitude:"",project_name:"",absolute_address:"",property_type:[],developer_name:"",project_hold_name:"",company_relation:"",remark:"",project_id:"",project_agreement:[],project_user:[]},map:null,sendata:{},gridData:[],historicalRecords:[],UserShow:[],Enclosure:[],dialogFormVisibleAccounts:!1,showMap:!1,isUserEdit:!1,refundShow:!1,isEditProjectList:!1,paymentRecordTable:!1,auditOptions:[],projectUserForm:{name:"",account:"",password:"",phone:"",state:""},auditing_info:{auditing_name:"",auditing_time:"",auditing_remark:"",auditing_state:""},paymentRecord:[],refund:[],userObj:{},fileObject:{},operationType:0,project:[],typeOptions:[],project_history:[],projectHistory:{company_id:"",s_time:"",e_time:"",project_hold_phone:"",project_hold_name:"",company_relation:"",project_id:"",company_name:""},authentication_info:{business_log:[]},businessLogForm:{deposit:"",authentication_state:"",no_price:"",business_log:[{payee:"",drawee:"",contact_name:"",contact_phone:"",create_name:"",create_time:"",price:"",type:""}]},projectAgreement:{file_name:"",url:"",create_name:"",create_time:""}}},computed:{userFormRules:function(){if(""==this.projectUserForm.password&&1==this.operationType&&1==this.isUserEdit){var t=F()({},this.userFormRulesOrigin);return this.isAccountValid=!1,t.password=void 0,t}if(1==this.isUserEdit||0==this.isUserEdit){var e=F()({},this.userFormRulesOrigin);return this.isAccountValid=!0,e}}},mounted:function(){var t=this;this.operationType=this.$route.params.operationType,void 0!==this.operationType?(this.form.project_id=this.$route.params.project_id,this.form.project_id?this.getProjectInfo():this.$nextTick(function(){t.initMap()}),this.getType()):this.$router.push({name:"project"})},methods:{requestRefund:function(){var t=this;return _()(m.a.mark(function e(){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.$router.push({name:"requestRefund",params:{operationType:t.$route.params.operationType,project_id:t.$route.params.project_id,allow:t.authentication_info.allow}});case 1:case"end":return e.stop()}},e,t)}))()},seeRequestRefund:function(t){this.$router.push({name:"payRecord",params:{operationType:this.$route.params.operationType,project_id:this.$route.params.project_id,id:t.id,allow:this.authentication_info.allow}})},isDisable:function(){return 0!=this.operationType},getProjectInfo:function(){var t=this;return _()(m.a.mark(function e(){var a,r,n,o,i,s,l,c;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.api.getProjectInfo({project_id:t.form.project_id});case 2:if(200!=(a=e.sent).code){e.next=32;break}for((r=w()({},a.data.project)).property_type=[],r.project_user=a.data.project_admin,r.project_agreement=a.data.project_agreement,t.authentication_info=a.data.authentication_info,t.auditing_info=a.data.auditing_info,t.project_history=a.data.project_history,n=!0,o=!1,i=void 0,e.prev=14,s=C()(a.data.project.property_type);!(n=(l=s.next()).done);n=!0)c=l.value,r.property_type.push(c.property_tag_id);e.next=22;break;case 18:e.prev=18,e.t0=e.catch(14),o=!0,i=e.t0;case 22:e.prev=22,e.prev=23,!n&&s.return&&s.return();case 25:if(e.prev=25,!o){e.next=28;break}throw i;case 28:return e.finish(25);case 29:return e.finish(22);case 30:F()(t.form,r),t.$nextTick(function(){t.initMap(r)});case 32:case"end":return e.stop()}},e,t,[[14,18,22,30],[23,,25,29]])}))()},submit:function(){var t,e=this;this.$refs.ruleForm.validate((t=_()(m.a.mark(function t(a){var r;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!a){t.next=23;break}if(1!=e.operationType){t.next=17;break}return(r={}).project_id=e.form.project_id,r.property_type=e.form.property_type,r.developer_name=e.form.developer_name,r.company_relation=e.form.company_relation,r.project_hold_name=e.form.project_hold_name,r.project_hold_phone=e.form.project_hold_phone,r.statement_company=e.form.statement_company,r.remark=e.form.remark,t.next=13,e.api.getUpdateProject(r);case 13:200==t.sent.code&&(e.$message({type:"success",message:"保存成功"}),setTimeout(function(){e.$router.push({name:"project"})},2e3)),t.next=21;break;case 17:return t.next=19,e.api.getCreateProject(e.form);case 19:200==t.sent.code&&(e.$message({type:"success",message:"保存成功"}),setTimeout(function(){e.$router.push({name:"project"})},2e3));case 21:t.next=24;break;case 23:return t.abrupt("return",!1);case 24:case"end":return t.stop()}},t,e)})),function(e){return t.apply(this,arguments)}))},cancel:function(){this.$router.push({name:"project"})},submitUser:function(){var t=this;return _()(m.a.mark(function e(){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.$refs.projectUserForm.validate(function(){var e=_()(m.a.mark(function e(a){var r,n,o;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=20;break}if(1!=t.operationType){e.next=15;break}if(!t.isUserEdit){e.next=10;break}return t.projectUserForm.project_id=t.form.project_id,(r=F()({},t.projectUserForm)).index=void 0,e.next=8,t.api.updateProjectAdmin(r);case 8:e.next=15;break;case 10:return t.projectUserForm.project_id=t.form.project_id,(n=F()({},t.projectUserForm)).index=void 0,e.next=15,t.api.addProjectAdmin(n);case 15:o=F()({},t.projectUserForm),t.isUserEdit?F()(t.form.project_user[o.index],o):t.form.project_user.push(o),t.cancelUser(),e.next=21;break;case 20:return e.abrupt("return",!1);case 21:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}},e,t)}))()},removeUser:function(t){this.form.project_user.splice(t,1)},cancelUser:function(){this.dialogFormVisibleAccounts=!1;var t=this.$options.data().projectUserForm;F()(this.projectUserForm,t)},showUser:function(){this.isUserEdit=!1,this.dialogFormVisibleAccounts=!0},editUser:function(t,e){this.isUserEdit=!0,this.dialogFormVisibleAccounts=!0,F()(this.projectUserForm,t),this.projectUserForm.index=e},enabledDisable:function(t){var e=this;return _()(m.a.mark(function a(){var r;return m.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return(r={}).id=t.id,1==t.state?r.state=0:0==t.state&&(r.state=1),a.next=5,e.api.updateAdminState(r);case 5:200==a.sent.code&&e.getProjectInfo();case 7:case"end":return a.stop()}},a,e)}))()},showState:function(t){return 1==t?"禁用":0==t?"启用":void 0},StateBtn:function(t){return 0==t?"禁用":1==t?"启用":void 0},auditingState:function(t){return 0==t?"待审核":1==t?"通过":2==t?"未通过":void 0},authenticationType:function(t){return 1==t?"缴纳":2==t?"退款":void 0},projectState:function(t){return 0==t?"禁用":1==t?"管理中":2==t?"已转新房":3==t?"已转二手房":void 0},showUploadFile:function(){document.querySelector(".uploadBtn").click()},fileUpload:function(t){var e=this;return _()(m.a.mark(function a(){var r,n,o,i,s;return m.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(e.fileObject=t,r=!1,(e.fileObject.name.indexOf(".docx")>-1||e.fileObject.name.indexOf(".doc")>-1)&&(r=!0),r){a.next=6;break}return e.$message({type:"error",message:"文件上传格式有误，请上传docx或者doc格式"}),a.abrupt("return");case 6:return n=e.fileObject.raw,(o=new FormData).append("url",n),a.next=11,e.api.uploadProjectAgreement(o);case 11:200==(i=a.sent).code&&((s={}).create_time=i.data.create_time,s.create_name=i.data.create_name,s.url=i.data.img_url,s.file_name=t.name,e.form.project_agreement=[],e.form.project_agreement.push(s)),e.getProjectList();case 14:case"end":return a.stop()}},a,e)}))()},showMapDetails:function(){document.querySelector(".map").classList.toggle("active")},auditStatus:function(){},initMap:function(t){var e=this;if(this.map||(this.map=new BMap.Map("map")),this.map.addControl(new BMap.NavigationControl),this.map.enableScrollWheelZoom(!0),t){var a=new BMap.Point(t.longitude,t.latitude);this.map.centerAndZoom(a,15),this.map.clearOverlays(),this.map.addOverlay(new BMap.Marker(a))}else{a=new BMap.Point(116.404,39.915);this.map.centerAndZoom(a,15)}this.map.addEventListener("click",function(t){e.map.clearOverlays();var a=t.point.lng,r=t.point.lat;e.form.longitude=a,e.form.latitude=r,(new BMap.Geocoder).getLocation(new BMap.Point(a,r),function(t){t&&(e.form.absolute_address=t.address,e.map.addOverlay(new BMap.Marker(new BMap.Point(a,r))))})})},changeDistrict:function(t){var e=this;(new BMap.Geocoder).getPoint(t,function(t){t&&e.map.centerAndZoom(t,16)})},sumbitRefund:function(){this.refundShow=!0},cancelRefund:function(){this.refundShow=!1},getType:function(){var t=this;return _()(m.a.mark(function e(){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.api.getTags();case 2:200==(a=e.sent).code&&(t.typeOptions=a.data);case 4:case"end":return e.stop()}},e,t)}))()}},components:{CitySelector:A}},T={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"AddProject"},[a("div",{staticClass:"title-top"},[a("span",[t._v("申请项目信息")]),t._v(" "),a("span",{staticClass:"title-btn"},[0==t.operationType||1==t.operationType?a("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("保存")]):t._e(),t._v(" "),a("el-button",{on:{click:t.cancel}},[t._v("取消")])],1)]),t._v(" "),a("el-form",{ref:"ruleForm",staticClass:"form",attrs:{model:t.form,rules:t.rules}},[a("el-form-item",{staticClass:"input",attrs:{label:"项目名称",prop:"project_name"}},[a("el-input",{attrs:{"auto-complete":"off",disabled:t.isDisable(),placeholder:"请输入项目名称"},model:{value:t.form.project_name,callback:function(e){t.$set(t.form,"project_name",e)},expression:"form.project_name"}})],1),t._v(" "),a("el-form-item",{staticClass:"select",attrs:{label:"项目地址",prop:"province"}},[a("city-selector",{attrs:{disabled:t.isDisable(),province:t.form.province,city:t.form.city,district:t.form.district},on:{"update:province":function(e){t.$set(t.form,"province",e)},"update:city":function(e){t.$set(t.form,"city",e)},"update:district":function(e){t.$set(t.form,"district",e)},changeDistrict:t.changeDistrict}})],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"",prop:"absolute_address"}},[a("el-input",{staticClass:"input-1",attrs:{"auto-complete":"off",disabled:t.isDisable(),placeholder:"请输入具体地址"},model:{value:t.form.absolute_address,callback:function(e){t.$set(t.form,"absolute_address",e)},expression:"form.absolute_address"}})],1),t._v(" "),a("el-button",{attrs:{type:"text",disabled:t.isDisable()},on:{click:t.showMapDetails}},[t._v("查看地图")]),t._v(" "),a("div",{staticClass:"map",attrs:{id:"map"}}),t._v(" "),a("div",{staticClass:"property_type"},[t._v("物业类型")]),t._v(" "),a("el-form-item",{attrs:{prop:"property_type"}},t._l(t.typeOptions,function(e){return a("el-checkbox",{key:e.param_id,attrs:{disabled:2===t.operationType,label:e.param_id},model:{value:t.form.property_type,callback:function(e){t.$set(t.form,"property_type",e)},expression:"form.property_type"}},[t._v(t._s(e.param))])})),t._v(" "),a("el-form-item",{staticClass:"input1",attrs:{label:"开发商",prop:"developer_name"}},[a("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入开发商名称",disabled:2===t.operationType},model:{value:t.form.developer_name,callback:function(e){t.$set(t.form,"developer_name",e)},expression:"form.developer_name"}})],1),t._v(" "),a("el-form-item",{staticClass:"select",attrs:{label:"与项目关系",prop:"company_relation"}},[a("el-radio-group",{attrs:{disabled:2===t.operationType},model:{value:t.form.company_relation,callback:function(e){t.$set(t.form,"company_relation",e)},expression:"form.company_relation"}},[a("el-radio",{attrs:{label:"开发商"}}),t._v(" "),a("el-radio",{attrs:{label:"代理"}}),t._v(" "),a("el-radio",{attrs:{label:"分销"}}),t._v(" "),a("el-radio",{attrs:{label:"渠道"}}),t._v(" "),a("el-radio",{attrs:{label:"其他"}})],1)],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"结佣单位",prop:"statement_company"}},[a("el-input",{attrs:{disabled:2===t.operationType,"auto-complete":"off",placeholder:"请输入结佣单位名称"},model:{value:t.form.statement_company,callback:function(e){t.$set(t.form,"statement_company",e)},expression:"form.statement_company"}})],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"项目负责人",prop:"project_hold_name"}},[a("el-input",{attrs:{disabled:2===t.operationType,"auto-complete":"off",placeholder:"请输入项目负责人姓名"},model:{value:t.form.project_hold_name,callback:function(e){t.$set(t.form,"project_hold_name",e)},expression:"form.project_hold_name"}})],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"联系电话",prop:"project_hold_phone"}},[a("el-input",{attrs:{disabled:2===t.operationType,"auto-complete":"off",placeholder:"请输入联系电话"},model:{value:t.form.project_hold_phone,callback:function(e){t.$set(t.form,"project_hold_phone",e)},expression:"form.project_hold_phone"}})],1),t._v(" "),a("el-form-item",{staticClass:"textarea",attrs:{label:"备注"}},[a("el-input",{attrs:{disabled:2===t.operationType,type:"textarea"},model:{value:t.form.remark,callback:function(e){t.$set(t.form,"remark",e)},expression:"form.remark"}})],1)],1),t._v(" "),a("div",{staticClass:"tableIn-btn"},[0==t.operationType||1==t.operationType?a("el-button",{attrs:{type:"primary"},on:{click:t.showUser}},[t._v("新增账号")]):t._e()],1),t._v(" "),a("el-table",{attrs:{data:t.form.project_user,border:""}},[1==t.operationType?a("el-table-column",{attrs:{property:"state",label:"当前状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(t.showState(e.row.state))+"\n      ")]}}])}):t._e(),t._v(" "),a("el-table-column",{attrs:{property:"account",label:"帐号",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"name",label:"管理员",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"phone",label:"电话号码",align:"center"}}),t._v(" "),0==t.operationType||1==t.operationType?a("el-table-column",{attrs:{property:"operation",label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.editUser(e.row,e.$index)}}},[t._v("修改")]),t._v(" "),0==t.operationType?a("el-button",{attrs:{type:"text"},on:{click:function(a){t.removeUser(e.$index)}}},[t._v("删除")]):t._e(),t._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){t.enabledDisable(e.row)}}},[t._v(t._s(t.StateBtn(e.row.state)))])]}}])}):t._e()],1),t._v(" "),a("div",[a("el-upload",{staticClass:"uploadFile",attrs:{"auto-upload":!1,action:"","on-change":t.fileUpload}},[a("el-button",{ref:"uploadBtn",staticClass:"uploadBtn",attrs:{size:"small",type:"primary","show-file-list":!1}},[t._v("点击上传")])],1)],1),t._v(" "),0==t.operationType?a("div",{staticClass:"tableIn-btn"},[a("el-button",{attrs:{type:"primary"},on:{click:t.showUploadFile}},[t._v("文件上传确定")])],1):t._e(),t._v(" "),a("el-table",{attrs:{data:t.form.project_agreement,border:""}},[a("el-table-column",{attrs:{property:"file_name",label:"文件名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"附件",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("a",{attrs:{target:"_blank",href:"http://120.27.21.136:2798/"+e.row.url}},[t._v("查看附件")])]}}])}),t._v(" "),a("el-table-column",{attrs:{property:"create_name",label:"上传人员",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"create_time",label:"上传时间",align:"center"}})],1),t._v(" "),1==t.auditing_info.auditing_state||2==t.auditing_info.auditing_state?a("div",[a("div",{staticClass:"num_set"},[t._v("审核项目信息")]),t._v(" "),a("el-form",{staticClass:"form",attrs:{model:t.form}},[a("el-form-item",{staticClass:"inputAud",attrs:{label:"审核人员"}},[a("el-input",{attrs:{"auto-complete":"off",disabled:t.isDisable()},model:{value:t.auditing_info.auditing_name,callback:function(e){t.$set(t.auditing_info,"auditing_name",e)},expression:"auditing_info.auditing_name"}})],1),t._v(" "),a("el-form-item",{staticClass:"inputAud",attrs:{label:"审核时间"}},[a("el-input",{attrs:{"auto-complete":"off",disabled:t.isDisable()},model:{value:t.auditing_info.auditing_time,callback:function(e){t.$set(t.auditing_info,"auditing_time",e)},expression:"auditing_info.auditing_time"}})],1),t._v(" "),a("el-form-item",{staticClass:"inputAud state",attrs:{label:"审核状态"}},[t._v("\n        "+t._s(t.auditingState(t.auditing_info.auditing_state))+"\n      ")]),t._v(" "),a("el-form-item",{staticClass:"textarea",attrs:{label:"备注"}},[a("el-input",{attrs:{type:"textarea",disabled:t.isDisable()},model:{value:t.auditing_info.auditing_remark,callback:function(e){t.$set(t.auditing_info,"auditing_remark",e)},expression:"auditing_info.auditing_remark"}})],1)],1),t._v(" "),1==t.auditing_info.auditing_state?a("div",[a("div",{staticClass:"num_set"},[t._v("认证信息")]),t._v(" "),a("el-form",{staticClass:"form",model:{value:t.authentication_info,callback:function(e){t.authentication_info=e},expression:"authentication_info"}},[a("el-form-item",{staticClass:"inputAud",attrs:{label:"保证金金额（￥）："}},[a("el-input",{attrs:{"auto-complete":"off",disabled:t.isDisable()},model:{value:t.authentication_info.deposit,callback:function(e){t.$set(t.authentication_info,"deposit",e)},expression:"authentication_info.deposit"}})],1),t._v(" "),a("el-form-item",{staticClass:"inputAud",attrs:{label:"未结佣金总额（￥）："}},[a("el-input",{attrs:{"auto-complete":"off",disabled:t.isDisable()},model:{value:t.authentication_info.no_price,callback:function(e){t.$set(t.authentication_info,"no_price",e)},expression:"authentication_info.no_price"}})],1),t._v(" "),a("el-form-item",{staticClass:"inputAud",attrs:{label:"可退金额（￥）："}},[a("el-input",{attrs:{"auto-complete":"off",disabled:t.isDisable()},model:{value:t.authentication_info.allow,callback:function(e){t.$set(t.authentication_info,"allow",e)},expression:"authentication_info.allow"}})],1),t._v(" "),a("el-form-item",{staticClass:"inputAud state",attrs:{label:"项目状态"}},[t._v("\n          "+t._s(t.projectState(t.authentication_info.authentication_state))+"\n        ")]),t._v(" "),a("el-form-item",{staticClass:"request"},[t.authentication_info.deposit>0?a("el-button",{attrs:{type:"primary",disabled:2===t.operationType},on:{click:function(e){t.requestRefund()}}},[t._v("申请退款")]):t._e()],1),t._v(" "),a("div",{staticClass:"num_details"},[t._v("保证金详情")]),t._v(" "),a("el-table",{attrs:{data:t.authentication_info.business_log,border:""}},[a("el-table-column",{attrs:{property:"id",label:"序号",align:"center",width:"70px"}}),t._v(" "),a("el-table-column",{attrs:{property:"drawee",label:"付款户名",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"payee",label:"收款户名",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"price",label:"金额（￥）",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"contact_name",label:"联系人",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"contact_phone",label:"联系电话",align:"center",width:"120px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"type",label:"类型",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.authenticationType(e.row.type)))]}}])}),t._v(" "),a("el-table-column",{attrs:{property:"create_name",label:"交易人",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"create_time",label:"交易时间",align:"center",width:"150px"}}),t._v(" "),a("el-table-column",{attrs:{property:"operation",label:"操作",align:"center",width:"80px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.seeRequestRefund(e.row)}}},[t._v("查看")])]}}])})],1)],1)],1):t._e(),t._v(" "),1==t.auditing_info.auditing_state?a("div",[a("div",{staticClass:"num_set"},[t._v("项目历史")]),t._v(" "),a("el-table",{attrs:{data:t.project_history,border:""}},[a("el-table-column",{attrs:{property:"nub",label:"序号",align:"center",width:"70px"}}),t._v(" "),a("el-table-column",{attrs:{property:"company_name",label:"公司名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"company_relation",label:"与项目关系",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"s_time",label:"开始时间",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"e_time",label:"结束时间",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"project_hold_name",label:"负责人",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"project_hold_phone",label:"联系方式",align:"center"}})],1)],1):t._e()],1):t._e(),t._v(" "),a("el-dialog",{staticClass:"tableUser",attrs:{title:"新建账号",visible:t.dialogFormVisibleAccounts},on:{"update:visible":function(e){t.dialogFormVisibleAccounts=e},close:t.cancelUser}},[a("el-form",{ref:"projectUserForm",attrs:{model:t.projectUserForm,rules:t.userFormRules}},[a("el-form-item",{staticClass:"input",attrs:{label:"设定帐号",prop:"account"}},[a("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入帐号"},model:{value:t.projectUserForm.account,callback:function(e){t.$set(t.projectUserForm,"account",e)},expression:"projectUserForm.account"}})],1),t._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.isAccountValid,expression:"isAccountValid"}],staticClass:"input",attrs:{label:"设定密码",prop:"password"}},[a("el-input",{attrs:{"auto-complete":"off",type:"password",placeholder:"请输入密码"},model:{value:t.projectUserForm.password,callback:function(e){t.$set(t.projectUserForm,"password",e)},expression:"projectUserForm.password"}})],1),t._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!t.isAccountValid,expression:"!isAccountValid"}],staticClass:"input",attrs:{label:"设定密码"}},[a("el-input",{attrs:{"auto-complete":"off",type:"password",placeholder:"不设置为之前密码"},model:{value:t.projectUserForm.password,callback:function(e){t.$set(t.projectUserForm,"password",e)},expression:"projectUserForm.password"}})],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"管理员姓名",prop:"name"}},[a("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入管理员姓名"},model:{value:t.projectUserForm.name,callback:function(e){t.$set(t.projectUserForm,"name",e)},expression:"projectUserForm.name"}})],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"联系电话",prop:"phone"}},[a("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入联系电话"},model:{value:t.projectUserForm.phone,callback:function(e){t.$set(t.projectUserForm,"phone",e)},expression:"projectUserForm.phone"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.cancelUser}},[t._v("关 闭")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.submitUser}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var R=a("vSla")(S,T,!1,function(t){a("3fT9"),a("t/GX")},"data-v-6a31c201",null).exports,U={data:function(){return{rules:{project_name:[{required:!0,message:"请输入项目名称",change:"change"},{max:20,message:"最大长度为20个字符",trigger:"change"}],property_type:[{type:"array",required:!0,message:"请选择物业类型",change:"change"}],statement_company:[{required:!0,message:"请输入结佣单位",change:"change"},{max:20,message:"最大长度为20个字符",trigger:"change"}],province:[{required:!0,message:"请选择具体地址",change:"change"}],absolute_address:[{required:!0,message:"请选择具体地址",change:"change"}],developer_name:[{required:!0,message:"请输入开发商名字",change:"change"},{max:20,message:"最大长度为20个字符",trigger:"change"}],project_hold_name:[{max:4,message:"最大长度为4个字符",trigger:"change"},{required:!0,message:"请输入项目负责人",change:"change"}],project_hold_phone:[{required:!0,message:"电话号码必须填写",change:"change"},{pattern:/^1[34578]\d{9}$/,message:"请输入正确的电话号码",change:"change"}],company_relation:[{required:!0,message:"请输入公司与项目关系",change:"change"}],remark:[{required:!0,message:"请输入备注",change:"change"}]},userFormRules:{name:[{required:!0,message:"请输入管理员",change:"change"},{max:4,message:"最大长度为4个字符",trigger:"change"}],account:[{required:!0,message:"请输入账号",change:"change"},{min:4,max:16,message:"长度在 4 到 16 个字符",trigger:"change"}],password:[{required:!0,message:"请输入密码",change:"change"},{min:6,max:16,message:"长度在 6 到 16 个字符",trigger:"change"}],phone:[{required:!0,message:"电话号码必须填写",change:"change"},{pattern:/^1[34578]\d{9}$/,message:"请输入正确的电话号码",change:"change"}]},form:{district:"",province:"",city:"",statement_company:"",project_hold_phone:"",latitude:"",longitude:"",project_name:"",absolute_address:"",property_type:[],developer_name:"",project_hold_name:"",company_relation:"",remark:"",project_id:"",project_agreement:[],project_user:[]},map:null,sendata:{},gridData:[],historicalRecords:[],UserShow:[],Enclosure:[],dialogFormVisibleAccounts:!1,showMap:!1,isUserEdit:!1,refundShow:!1,isEditProjectList:!1,paymentRecordTable:!1,auditOptions:[],options:[{value:"选项1",label:"区域"}],value:"",projectUserForm:{name:"",account:"",password:"",phone:""},auditing_info:{auditing_name:"",auditing_time:"",auditing_remark:"",auditing_state:""},paymentRecord:[],refund:[],userObj:{},fileObject:{},operationType:0,addEditDelete:0,project:[],typeOptions:[],project_history:[],projectHistory:{company_id:"",s_time:"",e_time:"",project_hold_phone:"",project_hold_name:"",company_relation:"",project_id:"",company_name:""},authentication_info:{business_log:[]},businessLogForm:{deposit:"",authentication_state:"",no_price:"",business_log:[{payee:"",drawee:"",contact_name:"",contact_phone:"",create_name:"",create_time:"",price:"",type:""}]},projectAgreement:{file_name:"",url:"",create_name:"",create_time:""}}},mounted:function(){var t=this;this.operationType=this.$route.params.operationType,void 0!==this.operationType?(this.form.project_id=this.$route.params.project_id,this.form.project_id?this.getProjectInfo():this.$nextTick(function(){t.initMap()}),this.getType()):this.$router.push({name:"project"})},methods:{requestRefund:function(){var t=this;return _()(m.a.mark(function e(){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.$router.push({name:"requestRefund",params:{operationType:t.$route.params.operationType,project_id:t.$route.params.project_id,allow:t.authentication_info.allow}});case 1:case"end":return e.stop()}},e,t)}))()},seeRefund:function(t){var e="";1==t.type?e="payRecord":2==t.type&&(e="refundInfo"),this.$router.push({name:e,params:{operationType:this.$route.params.operationType,project_id:this.$route.params.project_id,id:t.id}})},isDisable:function(){return 3!=this.operationType},getProjectInfo:function(){var t=this;return _()(m.a.mark(function e(){var a,r,n,o,i,s,l,c;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.api.getProjectInfo({project_id:t.form.project_id});case 2:if(200!=(a=e.sent).code){e.next=32;break}for((r=w()({},a.data.project)).property_type=[],r.project_user=a.data.project_admin,r.project_agreement=a.data.project_agreement,t.authentication_info=a.data.authentication_info,t.auditing_info=a.data.auditing_info,t.project_history=a.data.project_history,n=!0,o=!1,i=void 0,e.prev=14,s=C()(a.data.project.property_type);!(n=(l=s.next()).done);n=!0)c=l.value,r.property_type.push(c.property_tag_id);e.next=22;break;case 18:e.prev=18,e.t0=e.catch(14),o=!0,i=e.t0;case 22:e.prev=22,e.prev=23,!n&&s.return&&s.return();case 25:if(e.prev=25,!o){e.next=28;break}throw i;case 28:return e.finish(25);case 29:return e.finish(22);case 30:F()(t.form,r),t.$nextTick(function(){t.initMap(r)});case 32:case"end":return e.stop()}},e,t,[[14,18,22,30],[23,,25,29]])}))()},submit:function(){var t=this;return _()(m.a.mark(function e(){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.$refs.ruleForm.validate(function(){var e=_()(m.a.mark(function e(a){var r;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=30;break}if(3!=t.operationType){e.next=24;break}return(r={}).project_id=t.form.project_id,r.project_name=t.form.project_name,r.province=t.form.province,r.city=t.form.city,r.district=t.form.district,r.absolute_address=t.form.absolute_address,r.longitude=t.form.longitude,r.latitude=t.form.latitude,r.property_type=t.form.property_type,r.developer_name=t.form.developer_name,r.company_relation=t.form.company_relation,r.project_hold_name=t.form.project_hold_name,r.project_hold_phone=t.form.project_hold_phone,r.remark=t.form.remark,r.statement_company=t.form.statement_company,e.next=20,t.api.reCreateProject(r);case 20:200==e.sent.code&&(t.$message({type:"success",message:"保存成功"}),setTimeout(function(){t.$router.push({name:"project"})},2e3)),e.next=28;break;case 24:return e.next=26,t.api.getCreateProject(t.form);case 26:200==e.sent.code&&(t.$message({type:"success",message:"保存成功"}),setTimeout(function(){t.$router.push({name:"project"})},2e3));case 28:e.next=31;break;case 30:return e.abrupt("return",!1);case 31:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}},e,t)}))()},cancel:function(){this.$router.push({name:"project"})},submitUser:function(){var t=this;return _()(m.a.mark(function e(){var a,r,n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(1!=t.operationType){e.next=15;break}if(!t.isUserEdit){e.next=10;break}return t.projectUserForm.project_id=t.form.project_id,(a=F()({},t.projectUserForm)).index=void 0,a.password=void 0,e.next=8,t.api.updateProjectAdmin(a);case 8:e.next=15;break;case 10:return t.projectUserForm.project_id=t.form.project_id,(r=F()({},t.projectUserForm)).index=void 0,e.next=15,t.api.addProjectAdmin(r);case 15:n=F()({},t.projectUserForm),t.isUserEdit?F()(t.form.project_user[n.index],n):t.form.project_user.push(n),t.cancelUser();case 18:case"end":return e.stop()}},e,t)}))()},removeUser:function(t){this.form.project_user.splice(t,1)},cancelUser:function(){this.dialogFormVisibleAccounts=!1;var t=this.$options.data().projectUserForm;F()(this.projectUserForm,t)},showUser:function(){this.isUserEdit=!1,this.dialogFormVisibleAccounts=!0},editUser:function(t,e){this.isUserEdit=!0,this.dialogFormVisibleAccounts=!0,F()(this.projectUserForm,t),this.projectUserForm.index=e},auditingState:function(t){return 0==t?"待审核":1==t?"通过":2==t?"未通过":void 0},authenticationType:function(t){return 1==t?"缴纳":2==t?"退款":void 0},projectState:function(t){return 0==t?"禁用":1==t?"管理中":2==t?"已转新房":3==t?"已转二手房":void 0},showUploadFile:function(){document.querySelector(".uploadBtn").click()},fileUpload:function(t){var e=this;return _()(m.a.mark(function a(){var r,n,o,i,s;return m.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(e.fileObject=t,r=!1,(e.fileObject.name.indexOf(".docx")>-1||e.fileObject.name.indexOf(".doc")>-1)&&(r=!0),r){a.next=6;break}return e.$message({type:"error",message:"文件上传格式有误，请上传docx或者doc格式"}),a.abrupt("return");case 6:return n=e.fileObject.raw,(o=new FormData).append("url",n),a.next=11,e.api.uploadProjectAgreement(o);case 11:200==(i=a.sent).code&&((s={}).create_time=i.data.create_time,s.create_name=i.data.create_name,s.url=i.data.img_url,s.file_name=t.name,e.form.project_agreement=[],e.form.project_agreement.push(s)),e.getProjectList();case 14:case"end":return a.stop()}},a,e)}))()},showMapDetails:function(){document.querySelector(".map").classList.toggle("active")},auditStatus:function(){},initMap:function(t){var e=this;if(this.map||(this.map=new BMap.Map("map")),this.map.addControl(new BMap.NavigationControl),this.map.enableScrollWheelZoom(!0),t){var a=new BMap.Point(t.longitude,t.latitude);this.map.centerAndZoom(a,15),this.map.clearOverlays(),this.map.addOverlay(new BMap.Marker(a))}else{a=new BMap.Point(116.404,39.915);this.map.centerAndZoom(a,15)}this.map.addEventListener("click",function(t){e.map.clearOverlays();var a=t.point.lng,r=t.point.lat;e.form.longitude=a,e.form.latitude=r,(new BMap.Geocoder).getLocation(new BMap.Point(a,r),function(t){t&&(e.form.absolute_address=t.address,e.map.addOverlay(new BMap.Marker(new BMap.Point(a,r))))})})},changeDistrict:function(t){var e=this;(new BMap.Geocoder).getPoint(t,function(t){t&&e.map.centerAndZoom(t,16)})},sumbitRefund:function(){this.refundShow=!0},cancelRefund:function(){this.refundShow=!1},getType:function(){var t=this;return _()(m.a.mark(function e(){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.api.getTags();case 2:200==(a=e.sent).code&&(t.typeOptions=a.data);case 4:case"end":return e.stop()}},e,t)}))()}},components:{CitySelector:A}},O={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"AddProject"},[a("div",{staticClass:"title-top"},[a("div",{staticClass:"title"},[t._v("重新申请项目信息")]),t._v(" "),a("span",{staticClass:"title-btn"},[a("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("保存")]),t._v(" "),a("el-button",{on:{click:t.cancel}},[t._v("取消")])],1)]),t._v(" "),a("el-form",{ref:"ruleForm",staticClass:"form",attrs:{model:t.form,rules:t.rules}},[a("el-form-item",{staticClass:"input",attrs:{label:"项目名称",prop:"project_name"}},[a("el-input",{attrs:{"auto-complete":"off",disabled:t.isDisable(),placeholder:"请输入项目名称"},model:{value:t.form.project_name,callback:function(e){t.$set(t.form,"project_name",e)},expression:"form.project_name"}})],1),t._v(" "),a("el-form-item",{staticClass:"select",attrs:{label:"项目地址",prop:"province"}},[a("city-selector",{attrs:{disabled:t.isDisable(),province:t.form.province,city:t.form.city,district:t.form.district},on:{"update:province":function(e){t.$set(t.form,"province",e)},"update:city":function(e){t.$set(t.form,"city",e)},"update:district":function(e){t.$set(t.form,"district",e)},changeDistrict:t.changeDistrict}})],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"",prop:"absolute_address"}},[a("el-input",{staticClass:"input-1",attrs:{disabled:t.isDisable(),"auto-complete":"off",placeholder:"请输入具体地址"},model:{value:t.form.absolute_address,callback:function(e){t.$set(t.form,"absolute_address",e)},expression:"form.absolute_address"}})],1),t._v(" "),a("el-button",{attrs:{type:"text",disabled:t.isDisable()},on:{click:t.showMapDetails}},[t._v("查看地图")]),t._v(" "),a("div",{staticClass:"map",attrs:{id:"map"}}),t._v(" "),a("div",{staticClass:"property_type"},[t._v("物业类型")]),t._v(" "),a("el-form-item",{attrs:{prop:"property_type"}},t._l(t.typeOptions,function(e){return a("el-checkbox",{key:e.param_id,attrs:{disabled:2===t.operationType,label:e.param_id},model:{value:t.form.property_type,callback:function(e){t.$set(t.form,"property_type",e)},expression:"form.property_type"}},[t._v(t._s(e.param))])})),t._v(" "),a("el-form-item",{staticClass:"input1",attrs:{label:"开发商",prop:"developer_name"}},[a("el-input",{attrs:{disabled:2==t.operationType,"auto-complete":"off",placeholder:"请输入开发商名称"},model:{value:t.form.developer_name,callback:function(e){t.$set(t.form,"developer_name",e)},expression:"form.developer_name"}})],1),t._v(" "),a("el-form-item",{staticClass:"select",attrs:{label:"与项目关系",prop:"company_relation"}},[a("el-radio-group",{attrs:{disabled:2==t.operationType},model:{value:t.form.company_relation,callback:function(e){t.$set(t.form,"company_relation",e)},expression:"form.company_relation"}},[a("el-radio",{attrs:{label:"开发商"}}),t._v(" "),a("el-radio",{attrs:{label:"代理"}}),t._v(" "),a("el-radio",{attrs:{label:"分销"}}),t._v(" "),a("el-radio",{attrs:{label:"渠道"}}),t._v(" "),a("el-radio",{attrs:{label:"其他"}})],1)],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"结佣单位",prop:"statement_company"}},[a("el-input",{attrs:{disabled:2==t.operationType,"auto-complete":"off",placeholder:"请输入结佣单位名称"},model:{value:t.form.statement_company,callback:function(e){t.$set(t.form,"statement_company",e)},expression:"form.statement_company"}})],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"项目负责人",prop:"project_hold_name"}},[a("el-input",{attrs:{disabled:2==t.operationType,"auto-complete":"off",placeholder:"请输入项目负责人姓名"},model:{value:t.form.project_hold_name,callback:function(e){t.$set(t.form,"project_hold_name",e)},expression:"form.project_hold_name"}})],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"联系电话",prop:"project_hold_phone"}},[a("el-input",{attrs:{disabled:2==t.operationType,"auto-complete":"off",placeholder:"请输入联系电话"},model:{value:t.form.project_hold_phone,callback:function(e){t.$set(t.form,"project_hold_phone",e)},expression:"form.project_hold_phone"}})],1),t._v(" "),a("el-form-item",{staticClass:"textarea",attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{disabled:2==t.operationType,type:"textarea"},model:{value:t.form.remark,callback:function(e){t.$set(t.form,"remark",e)},expression:"form.remark"}})],1)],1),t._v(" "),a("div",{staticClass:"tableIn-btn"},[3==t.operationType?a("el-button",{attrs:{type:"primary"},on:{click:t.showUser}},[t._v("新增账号")]):t._e()],1),t._v(" "),a("el-table",{attrs:{data:t.form.project_user,border:""}},[a("el-table-column",{attrs:{property:"account",label:"帐号",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"name",label:"对接人",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"phone",label:"电话号码",align:"center"}}),t._v(" "),1==t.operationType||3==t.operationType?a("el-table-column",{attrs:{property:"operation",label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.editUser(e.row,e.$index)}}},[t._v("修改")]),t._v(" "),1==t.operationType||3==t.operationType?a("el-button",{attrs:{type:"text"},on:{click:function(a){t.removeUser(e.$index)}}},[t._v("删除")]):t._e()]}}])}):t._e()],1),t._v(" "),a("div",[a("el-upload",{staticClass:"uploadFile",attrs:{"auto-upload":!1,action:"","on-change":t.fileUpload}},[a("el-button",{ref:"uploadBtn",staticClass:"uploadBtn",attrs:{size:"small",type:"primary","show-file-list":!1}},[t._v("点击上传")])],1)],1),t._v(" "),0==t.operationType||3==t.operationType?a("div",{staticClass:"tableIn-btn"},[a("el-button",{attrs:{type:"primary"},on:{click:t.showUploadFile}},[t._v("文件上传确定")])],1):t._e(),t._v(" "),a("el-table",{attrs:{data:t.form.project_agreement,border:""}},[a("el-table-column",{attrs:{property:"file_name",label:"文件名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"附件",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("a",{attrs:{target:"_blank",href:"http://120.27.21.136:2798/"+e.row.url}},[t._v("查看附件")])]}}])}),t._v(" "),a("el-table-column",{attrs:{property:"create_name",label:"上传人员",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"create_time",label:"上传时间",align:"center"}})],1),t._v(" "),a("div",[2==t.operationType?a("div",[a("div",{staticClass:"num_set"},[t._v("审核项目信息")]),t._v(" "),a("el-form",{staticClass:"form",attrs:{model:t.form,disabled:t.isDisable()}},[a("el-form-item",{staticClass:"inputAud",attrs:{label:"审核人员"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.auditing_info.auditing_name,callback:function(e){t.$set(t.auditing_info,"auditing_name",e)},expression:"auditing_info.auditing_name"}})],1),t._v(" "),a("el-form-item",{staticClass:"inputAud",attrs:{label:"审核时间"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.auditing_info.auditing_time,callback:function(e){t.$set(t.auditing_info,"auditing_time",e)},expression:"auditing_info.auditing_time"}})],1),t._v(" "),a("el-form-item",{staticClass:"inputAud state",attrs:{label:"审核状态"}},[t._v("\n          "+t._s(t.auditingState(t.auditing_info.auditing_state))+"\n        ")]),t._v(" "),a("el-form-item",{staticClass:"textarea",attrs:{label:"备注"}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.auditing_info.auditing_remark,callback:function(e){t.$set(t.auditing_info,"auditing_remark",e)},expression:"auditing_info.auditing_remark"}})],1)],1)],1):t._e(),t._v(" "),2==t.operationType?a("div",[a("div",{staticClass:"num_set"},[t._v("认证信息")]),t._v(" "),a("el-form",{staticClass:"form",model:{value:t.authentication_info,callback:function(e){t.authentication_info=e},expression:"authentication_info"}},[a("el-form-item",{staticClass:"inputAud",attrs:{label:"保证金金额（￥）："}},[a("el-input",{attrs:{"auto-complete":"off",disabled:t.isDisable()},model:{value:t.authentication_info.deposit,callback:function(e){t.$set(t.authentication_info,"deposit",e)},expression:"authentication_info.deposit"}})],1),t._v(" "),a("el-form-item",{staticClass:"inputAud",attrs:{label:"未结佣金总额（￥）："}},[a("el-input",{attrs:{"auto-complete":"off",disabled:t.isDisable()},model:{value:t.authentication_info.no_price,callback:function(e){t.$set(t.authentication_info,"no_price",e)},expression:"authentication_info.no_price"}})],1),t._v(" "),a("el-form-item",{staticClass:"inputAud",attrs:{label:"可退金额（￥）："}},[a("el-input",{attrs:{"auto-complete":"off",disabled:t.isDisable()},model:{value:t.authentication_info.allow,callback:function(e){t.$set(t.authentication_info,"allow",e)},expression:"authentication_info.allow"}})],1),t._v(" "),a("el-form-item",{staticClass:"inputAud state",attrs:{label:"项目状态"}},[t._v("\n          "+t._s(t.projectState(t.authentication_info.authentication_state))+"\n        ")]),t._v(" "),a("el-form-item",{staticClass:"request"},[t.authentication_info.deposit>0?a("el-button",{attrs:{type:"primary",disabled:2===t.operationType},on:{click:function(e){t.requestRefund()}}},[t._v("申请退款")]):t._e()],1),t._v(" "),a("div",{staticClass:"num_details"},[t._v("保证金详情")]),t._v(" "),a("el-table",{attrs:{data:t.authentication_info.business_log,border:""}},[a("el-table-column",{attrs:{property:"id",label:"序号",align:"center",width:"70px"}}),t._v(" "),a("el-table-column",{attrs:{property:"drawee",label:"付款户名",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"payee",label:"收款户名",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"price",label:"金额（￥）",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"contact_name",label:"联系人",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"contact_phone",label:"联系电话",align:"center",width:"120px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"type",label:"类型",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.authenticationType(e.row.type)))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"state",label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.auditingState(e.row.state)))]}}])}),t._v(" "),a("el-table-column",{attrs:{property:"create_name",label:"交易人",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"create_time",label:"交易时间",align:"center",width:"150px"}}),t._v(" "),1==t.operationType?a("el-table-column",{attrs:{property:"operation",label:"操作",align:"center",width:"80px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.seeRefund(e.row)}}},[t._v("查看")])]}}])}):t._e()],1)],1)],1):t._e(),t._v(" "),2==t.operationType?a("div",{attrs:{disabled:2===t.operationType}},[a("div",{staticClass:"num_set"},[t._v("项目历史")]),t._v(" "),a("el-table",{attrs:{data:t.project_history,border:""}},[a("el-table-column",{attrs:{property:"nub",label:"序号",align:"center",width:"70px"}}),t._v(" "),a("el-table-column",{attrs:{property:"company_name",label:"公司名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"company_relation",label:"与项目关系",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"s_time",label:"开始时间",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"e_time",label:"结束时间",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"project_hold_name",label:"负责人",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"project_hold_phone",label:"联系方式",align:"center"}})],1)],1):t._e()]),t._v(" "),a("el-dialog",{staticClass:"tableUser",attrs:{title:"新建账号",visible:t.dialogFormVisibleAccounts},on:{"update:visible":function(e){t.dialogFormVisibleAccounts=e},close:t.cancelUser}},[a("el-form",{ref:"projectUserForm",attrs:{model:t.projectUserForm,rules:t.userFormRules}},[a("el-form-item",{staticClass:"input",attrs:{label:"设定帐号",prop:"account"}},[a("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入帐号"},model:{value:t.projectUserForm.account,callback:function(e){t.$set(t.projectUserForm,"account",e)},expression:"projectUserForm.account"}})],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"设定密码",prop:"password"}},[a("el-input",{attrs:{"auto-complete":"off",type:"password",placeholder:"请输入密码"},model:{value:t.projectUserForm.password,callback:function(e){t.$set(t.projectUserForm,"password",e)},expression:"projectUserForm.password"}})],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"管理员",prop:"name"}},[a("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入管理员"},model:{value:t.projectUserForm.name,callback:function(e){t.$set(t.projectUserForm,"name",e)},expression:"projectUserForm.name"}})],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"联系电话",prop:"phone"}},[a("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入联系电话"},model:{value:t.projectUserForm.phone,callback:function(e){t.$set(t.projectUserForm,"phone",e)},expression:"projectUserForm.phone"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.cancelUser}},[t._v("关 闭")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.submitUser}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var q=a("vSla")(U,O,!1,function(t){a("fxDf"),a("wBLe")},"data-v-e7a6e85c",null).exports,D={data:function(){return{requestRefund:{project_id:"",price:"",refund_remarks:"",payee:"",payee_account:"",remark:"",payee_bank:""},allow:"",bankOptions:[],rules:{price:[{required:!0,message:"请输入退款金额",change:"change"},{pattern:/^[0-9]+(.[0-9]{1,2})?$/,message:"请输入正确的金额",change:"change"}],refund_remarks:[{required:!0,message:"请输入退款原因",change:"change"},{max:255,message:"最大长度为20个字符",trigger:"change"}],payee:[{required:!0,message:"请输入收款人姓名",change:"change"},{pattern:/[\u4E00-\u9FA5]{2,5}(?:·[\u4E00-\u9FA5]{2,5})*/,message:"最大长度为6个字符",trigger:"change"}],payee_account:[{required:!0,message:"请输入收款人账号",change:"change"},{pattern:/^([1-9]{1})(\d{14}|\d{18})$/,message:"请输入正确的银行卡号",change:"change"}],remark:[{required:!0,message:"请输入备注",change:"change"},{max:255,message:"最大长度为225个字符",trigger:"change"}],payee_bank:[{required:!0,message:"请选择收款银行",change:"change"},{max:20,message:"最大长度为20个字符",trigger:"change"}]}}},mounted:function(){this.getBankOptions();var t=this.$route.params;void 0===t.project_id&&this.$router.push({name:"project"}),F()(this.requestRefund,t.project_id),this.requestRefund.project_id=t.project_id,this.allow=t.allow},methods:{close:function(){this.$router.push({name:"addProject",params:this.$route.params})},submit:function(){var t=this;return _()(m.a.mark(function e(){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.$refs.requestRefund.validate(function(){var e=_()(m.a.mark(function e(a){var r;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=7;break}return e.next=3,t.api.getRefund(t.requestRefund);case 3:200==(r=e.sent).code?t.$router.push({name:"addProject",params:t.$route.params}):t.$message({type:"error",message:r.msg}),e.next=8;break;case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}},e,t)}))()},getBankOptions:function(t){var e=this;return _()(m.a.mark(function a(){var r,n;return m.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r="param_id="+t,a.next=3,e.api.getBack(r);case 3:200==(n=a.sent).code&&(e.bankOptions=n.data);case 5:case"end":return a.stop()}},a,e)}))()}}},I={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"requestRefund"},[a("div",{staticStyle:{"margin-bottom":"30px"}}),t._v(" "),a("div",[a("div",{staticClass:"text"},[t._v("\n          申请退款\n        ")]),t._v(" "),a("div",{staticClass:"btn"},[a("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("确定")]),t._v(" "),a("el-button",{on:{click:t.close}},[t._v("返回")])],1),t._v(" "),a("el-form",{ref:"requestRefund",staticClass:"table",attrs:{model:t.requestRefund,rules:t.rules}},[a("el-form-item",{staticClass:"input",attrs:{label:"可退金额"}},[a("div",[t._v("  "+t._s(t.allow)+" ")])]),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"本次退款金额",prop:"price"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.requestRefund.price,callback:function(e){t.$set(t.requestRefund,"price",e)},expression:"requestRefund.price"}})],1),t._v(" "),a("el-form-item",{staticClass:"input1",attrs:{label:"退款原因",prop:"refund_remarks"}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.requestRefund.refund_remarks,callback:function(e){t.$set(t.requestRefund,"refund_remarks",e)},expression:"requestRefund.refund_remarks"}})],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"收款银行",prop:"payee_bank"}},[a("el-select",{staticClass:"select-1",attrs:{placeholder:"请选择收款银行"},on:{change:t.getBankOptions},model:{value:t.requestRefund.payee_bank,callback:function(e){t.$set(t.requestRefund,"payee_bank",e)},expression:"requestRefund.payee_bank"}},t._l(t.bankOptions,function(t){return a("el-option",{key:t.param_id,attrs:{label:t.param,value:t.param}})}))],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"收款银行卡号",prop:"payee_account"}},[a("el-input",{staticClass:"input",model:{value:t.requestRefund.payee_account,callback:function(e){t.$set(t.requestRefund,"payee_account",e)},expression:"requestRefund.payee_account"}})],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"收款人",prop:"payee"}},[a("el-input",{staticClass:"input",model:{value:t.requestRefund.payee,callback:function(e){t.$set(t.requestRefund,"payee",e)},expression:"requestRefund.payee"}})],1),t._v(" "),a("el-form-item",{staticClass:"input1",attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.requestRefund.remark,callback:function(e){t.$set(t.requestRefund,"remark",e)},expression:"requestRefund.remark"}})],1)],1)],1)])},staticRenderFns:[]};var L=a("vSla")(D,I,!1,function(t){a("xaBm")},"data-v-1f940672",null).exports,E={data:function(){return{refund:{id:"",price:""}}},mounted:function(){var t=this.$route.params;this.operationType=t.operationType,void 0!==this.operationType?(this.refund.id=this.$route.params.id,this.refund.id&&this.getBusinessInfo()):this.$router.push({name:"project"})},methods:{getBusinessInfo:function(){var t=this;return _()(m.a.mark(function e(){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.api.getBusinessInfo({id:t.refund.id});case 2:200==(a=e.sent).code&&(t.refund=a.data);case 4:case"end":return e.stop()}},e,t)}))()},cancelRefund:function(){this.$router.push({name:"addProject",params:this.$route.params})}}},B={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"payRecord"},[a("div",{staticClass:"title"},[t._v("缴纳记录")]),t._v(" "),a("div",{staticClass:"box"},[a("el-form",{staticClass:"table",model:{value:t.refund,callback:function(e){t.refund=e},expression:"refund"}},[a("el-form-item",{staticClass:"input1"},[a("div",[t._v("缴纳金额（￥）")]),t._v(" "),a("div",{staticClass:"border"},[t._v(t._s(t.refund.price))])]),t._v(" "),a("el-form-item",{staticClass:"input"},[a("div",[t._v("付款银行")]),t._v(" "),a("div",{staticClass:"border"},[t._v(t._s(t.refund.drawee_bank))])]),t._v(" "),a("el-form-item",{staticClass:"input"},[a("div",[t._v("付款银行卡号")]),t._v(" "),a("div",{staticClass:"border"},[t._v(t._s(t.refund.drawee_account))])]),t._v(" "),a("el-form-item",{staticClass:"input"},[a("div",[t._v("付款户名")]),t._v(" "),a("div",{staticClass:"border"},[t._v(t._s(t.refund.drawee))])]),t._v(" "),a("el-form-item",{staticClass:"input3"},[a("div",[t._v("付款时间")]),t._v(" "),a("div",{staticClass:"border"},[t._v(t._s(t.refund.create_time))])]),t._v(" "),a("el-form-item",{staticClass:"input"},[a("div",[t._v("收款银行")]),t._v(" "),a("div",{staticClass:"border"},[t._v(t._s(t.refund.payee_bank))])]),t._v(" "),a("el-form-item",{staticClass:"input"},[a("div",[t._v("收款银行卡号")]),t._v(" "),a("div",{staticClass:"border"},[t._v(t._s(t.refund.payee_account))])]),t._v(" "),a("el-form-item",{staticClass:"input"},[a("div",[t._v("收款户名")]),t._v(" "),a("div",{staticClass:"border"},[t._v(t._s(t.refund.payee))])]),t._v(" "),a("el-form-item",{staticClass:"input"},[a("div",[t._v("交易人")]),t._v(" "),a("div",{staticClass:"border"},[t._v(t._s(t.refund.create_name))])]),t._v(" "),a("el-form-item",{staticClass:"input"},[a("div",[t._v("联系电话")]),t._v(" "),a("div",{staticClass:"border"},[t._v(t._s(t.refund.contact_phone))])]),t._v(" "),a("el-form-item",{staticClass:"input2"},[a("div",[t._v("备注")]),t._v(" "),a("div",{staticClass:"border"},[t._v(t._s(t.refund.remark))])]),t._v(" "),a("div",{staticClass:"num_set"},[t._v("附件")]),t._v(" "),a("el-table",{attrs:{data:t.refund.file,border:""}},[a("el-table-column",{attrs:{label:"文件名称",prop:"file_name",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"附件",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("a",{attrs:{target:"_blank",href:"http://120.27.21.136:2798/"+e.row.url}},[t._v("查看附件")])]}}])}),t._v(" "),a("el-table-column",{attrs:{property:"create_name",label:"上传人员",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"create_time",label:"上传时间",align:"center"}})],1)],1),t._v(" "),a("div",{staticClass:"cancel",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.cancelRefund}},[t._v("关 闭")])],1)],1)])},staticRenderFns:[]};var M=a("vSla")(E,B,!1,function(t){a("faAr")},null,null).exports,V={data:function(){return{refund:{id:""}}},mounted:function(){var t=this,e=this.$route.params;this.operationType=e.operationType,void 0!==this.operationType?(this.refund.id=this.$route.params.id,this.refund.id?this.getBusinessInfo():this.$nextTick(function(){t.initMap()})):this.$router.push({name:"project"})},methods:{getBusinessInfo:function(){var t=this;return _()(m.a.mark(function e(){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.api.getBusinessInfo({id:t.refund.id});case 2:200==(a=e.sent).code&&(t.refund=a.data);case 4:case"end":return e.stop()}},e,t)}))()},cancelRefund:function(){this.$router.push({name:"addProject",params:this.$route.params})}}},Q={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"payRecord"},[a("div",{staticClass:"title"},[t._v("退款信息")]),t._v(" "),a("div",{staticClass:"box"},[a("el-form",{staticClass:"table",model:{value:t.refund,callback:function(e){t.refund=e},expression:"refund"}},[a("el-form-item",{staticClass:"input1",attrs:{label:"退款金额（￥）"}},[a("div",{staticClass:"border"},[t._v(t._s(t.refund.price))])]),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"付款银行"}},[a("div",{staticClass:"border"},[t._v(t._s(t.refund.drawee_bank))])]),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"付款银行卡号"}},[a("div",{staticClass:"border"},[t._v(t._s(t.refund.drawee_account))])]),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"付款户名"}},[a("div",{staticClass:"border"},[t._v(t._s(t.refund.drawee))])]),t._v(" "),a("el-form-item",{staticClass:"input1",attrs:{label:"付款时间"}},[a("div",{staticClass:"border"},[t._v(t._s(t.refund.create_time))])]),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"收款银行"}},[a("div",{staticClass:"border"},[t._v(t._s(t.refund.payee_bank))])]),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"收款银行卡号"}},[a("div",{staticClass:"border"},[t._v(t._s(t.refund.payee_account))])]),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"收款户名"}},[a("div",{staticClass:"border"},[t._v(t._s(t.refund.payee))])]),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"交易人"}},[a("div",{staticClass:"border"},[t._v(t._s(t.refund.create_name))])]),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"联系电话"}},[a("div",{staticClass:"border"},[t._v(t._s(t.refund.contact_phone))])]),t._v(" "),a("el-form-item",{staticClass:"input2",attrs:{label:"备注"}},[a("div",{staticClass:"border"},[t._v(t._s(t.refund.remark))])]),t._v(" "),a("div",{staticClass:"num_set"},[t._v("附件")]),t._v(" "),a("el-table",{attrs:{data:t.refund.file,border:""}},[a("el-table-column",{attrs:{label:"文件名称",prop:"file_name",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"附件",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("a",{attrs:{target:"_blank",href:"http://120.27.21.136:2798/"+e.row.url}},[t._v("查看附件")])]}}])}),t._v(" "),a("el-table-column",{attrs:{property:"create_name",label:"上传人员",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"create_time",label:"上传时间",align:"center"}})],1)],1),t._v(" "),a("div",{staticClass:"cancel",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.cancelRefund}},[t._v("关 闭")])],1)],1)])},staticRenderFns:[]};var J=a("vSla")(V,Q,!1,function(t){a("BWN0")},"data-v-1dd871ff",null).exports,N={data:function(){return{rules:{remark:[{required:!0,message:"请输入离职原因",change:"change"}]},searchObj:{name:""},tableData:[],dialogFormVisible:!1,showInfo:!1,examinePeople:{name:"",role:"",account:"",department:"",position:"",img_url:"",entry_time:"",project_name:"",sex:"",tel:"",birth:"",tabsolute_addressel:"",slef_desc:"",bank_card:"",bank_name:"",card_url:"",id_card:""},form:{id:null,remark:""}}},mounted:function(){this.search()},methods:{getRole:function(t){return 1==t?"经纪人":2==t?"对接人":void 0},sumbit:function(){var t=this;return _()(m.a.mark(function e(){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.$refs.form.validate(function(){var e=_()(m.a.mark(function e(a){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=7;break}return e.next=3,t.api.quitPeople(t.form);case 3:200==e.sent.code&&(t.$message({type:"success",message:"离职成功"}),t.search(),t.cancel()),e.next=9;break;case 7:return t.cancel(),e.abrupt("return",!1);case 9:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}},e,t)}))()},showSee:function(t){var e=this;return _()(m.a.mark(function a(){var r;return m.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e.showInfo=!0,F()(e.examinePeople,t),e.examinePeople.agent_id=t.agent_id,a.next=5,e.api.getPayrollInfo(e.examinePeople);case 5:200==(r=a.sent).code&&(e.examinePeople=r.data);case 7:case"end":return a.stop()}},a,e)}))()},role:function(t){return 1==t?"新房经纪人":2==t?"项目对接人":void 0},sex:function(t){return 1==t?"男":2==t?"女":0==t?"未设置":void 0},showQuit:function(t){this.form.id=t.id,this.dialogFormVisible=!0},showCancel:function(){this.showInfo=!1},cancel:function(){F()(this.form,this.$options.data().form),this.dialogFormVisible=!1},search:function(){var t=this;return _()(m.a.mark(function e(){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.api.getPayrollList(t.searchObj);case 2:((a=e.sent).code=200)&&(t.tableData=a.data.data);case 4:case"end":return e.stop()}},e,t)}))()}}},K={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"agent"},[r("div",{staticClass:"title"},[t._m(0),t._v(" "),r("el-input",{staticClass:"query",model:{value:t.searchObj.name,callback:function(e){t.$set(t.searchObj,"name",e)},expression:"searchObj.name"}}),t._v(" "),r("el-button",{attrs:{icon:"el-icon-search",circle:""},on:{click:t.search}})],1),t._v(" "),[r("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[r("el-table-column",{attrs:{prop:"",label:"序号",align:"center",width:"80px"}}),t._v(" "),r("el-table-column",{attrs:{prop:"account",label:"云算号",align:"center",width:"110px"}}),t._v(" "),r("el-table-column",{attrs:{prop:"name",label:"名称",align:"center"}}),t._v(" "),r("el-table-column",{attrs:{prop:"tel",label:"联系方式",align:"center"}}),t._v(" "),r("el-table-column",{attrs:{prop:"project_name",label:"申请项目",align:"center"}}),t._v(" "),r("el-table-column",{attrs:{prop:"role",label:"角色",align:"center",width:"100px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.getRole(e.row.role)))]}}])}),t._v(" "),r("el-table-column",{attrs:{prop:"department",label:"所属部门",align:"center",width:"100px"}}),t._v(" "),r("el-table-column",{attrs:{prop:"position",label:"职位",align:"center"}}),t._v(" "),r("el-table-column",{attrs:{prop:"city_name",label:"城市",align:"center",width:"100px"}}),t._v(" "),r("el-table-column",{attrs:{prop:"district_name",label:"区域",align:"center",width:"100px"}}),t._v(" "),r("el-table-column",{attrs:{prop:"entry_time",label:"入职时间",align:"center"}}),t._v(" "),r("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-button",{attrs:{type:"text"},on:{click:function(a){t.showQuit(e.row)}}},[t._v("离职")]),t._v(" "),r("el-button",{attrs:{type:"text"},on:{click:function(a){t.showSee(e.row)}}},[t._v("查看")])]}}])})],1)],t._v(" "),r("el-dialog",{staticClass:"dialog",attrs:{title:"离职申请",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e},close:t.cancel}},[r("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules}},[r("el-form-item",{attrs:{label:"离职原因",prop:"remark"}},[r("el-input",{staticClass:"textarea",attrs:{type:"textarea"},model:{value:t.form.remark,callback:function(e){t.$set(t.form,"remark",e)},expression:"form.remark"}})],1)],1),t._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:t.cancel}},[t._v("取 消")]),t._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:t.sumbit}},[t._v("确 定")])],1)],1),t._v(" "),r("el-dialog",{staticClass:"dialog",attrs:{title:"查看详情",visible:t.showInfo},on:{"update:visible":function(e){t.showInfo=e}}},[r("div",{staticClass:"btn"},[r("el-button",{attrs:{type:"primary"},on:{click:t.showCancel}},[t._v("关闭")])],1),t._v(" "),r("div",{staticClass:"num_set"},[t._v("员工信息")]),t._v(" "),r("el-form",{model:{value:t.examinePeople,callback:function(e){t.examinePeople=e},expression:"examinePeople"}},[r("el-form-item",{staticClass:"input1"},[r("div",[t._v("姓名")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.name))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("角色")]),t._v(" "),r("div",{staticClass:"border"},[t._v("\n          "+t._s(t.role(t.examinePeople.role))+"\n        ")])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("云算号")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.account))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("所属部门")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.department))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("职位")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.position))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("工牌照片")]),t._v(" "),r("div",{staticClass:"border  img"},[r("img",{attrs:{src:a("QKcC")}})])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("入职时间")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.entry_time))])]),t._v(" "),r("div",{staticClass:"num_set"},[t._v("基础信息")]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("性别")]),t._v(" "),r("div",{staticClass:"border"},[t._v("\n          "+t._s(t.sex(t.examinePeople.sex))+"\n        ")])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("电话号码")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.tel))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("出生年月")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.birth))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("通讯地址")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.city_name+t.examinePeople.district_name+t.examinePeople.absolute_address))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("身份证")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.id_card))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("证件照片")]),t._v(" "),r("div",{staticClass:"border  img"},[r("img",{attrs:{src:a("7VeV")}})])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("绑定银行")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.bank_name))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("银行卡号")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.bank_card))])]),t._v(" "),r("el-form-item",{staticClass:"input2"},[r("div",[t._v("个人介绍")]),t._v(" "),r("div",{staticClass:"border height"},[t._v(t._s(t.examinePeople.slef_desc))])])],1)],1)],2)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"left"},[e("div",{staticClass:"text1"},[this._v("当前位置：在职经纪人")])])}]};var Z=a("vSla")(N,K,!1,function(t){a("IQcM"),a("HJks")},"data-v-4deaef80",null).exports,z={data:function(){return{tableData:[],companyType:0,personType:0}},mounted:function(){this.getProjectCommissionList()},methods:{companyPrice:function(t,e){0==e?this.$router.push({name:"companyPrice",params:{companyType:e,project_id:t.project_id}}):1==e?this.$router.push({name:"companyPrice",params:{companyType:e,project_id:t.project_id}}):2==e&&this.$router.push({name:"companyPrice",params:{companyType:e,project_id:t.project_id}})},personPrice:function(t,e){},getProjectCommissionList:function(){var t=this;return _()(m.a.mark(function e(){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.api.getProjectCommissionList();case 2:200==(a=e.sent).code&&(t.tableData=a.data.data);case 4:case"end":return e.stop()}},e,t)}))()}}},G={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"commission"},[a("div",{staticClass:"title"},[a("span"),t._v(" "),t._m(0),t._v(" "),a("el-input",{staticClass:"query"}),t._v(" "),a("el-button",{attrs:{icon:"el-icon-search",circle:""}})],1),t._v(" "),[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{prop:"",label:"序号",align:"center",width:"70px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"project_name",label:"项目名称",align:"center",width:"130px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"company_name",label:"所属单位",align:"center",width:"110px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"city_name",label:"区域",align:"center",width:"80px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"project_hold_name",label:"项目负责人",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"project_hold_phone",label:"联系方式",align:"center",width:"110px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"all_all_price",label:"全部累计金额",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"all_y_price",label:"全部已结金额",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"all_n_price",label:"全部未结金额",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"company_all_price",label:"公司累计金额",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.companyPrice(e.row,0)}}},[t._v(t._s(e.row.company_all_price))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"company_y_price",label:"公司已结金额",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.companyPrice(e.row,1)}}},[t._v(t._s(e.row.company_y_price))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"company_n_price",label:"公司未结金额",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.companyPrice(e.row,2)}}},[t._v(t._s(e.row.company_n_price))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"person_all_price",label:"全民经纪人累计金额",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.personPrice(e.row,0)}}},[t._v(t._s(e.row.person_all_price))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"person_y_price",label:"全民经纪人已结金额",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.personPrice(e.row,1)}}},[t._v(t._s(e.row.person_y_price))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"person_n_price",label:"全民经纪人未结金额",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.personPrice(e.row,2)}}},[t._v(t._s(e.row.person_n_price))])]}}])})],1)]],2)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"left"},[e("div",{staticClass:"text1"},[this._v("当前位置：佣金管理")])])}]};var H=a("vSla")(z,G,!1,function(t){a("t+dk"),a("i3JV")},"data-v-59218a3a",null).exports,W={data:function(){return{tableData:[],searchObj:{search:""},companyType:0,project_id:""}},mounted:function(){this.companyType=this.$route.params.companyType,this.project_id=this.$route.params.project_id,this.project_id&&this.getCompanyAll()},methods:{getCompanyAll:function(){var t=this;return _()(m.a.mark(function e(){var a,r;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!=t.companyType){e.next=7;break}return e.next=3,t.api.getCompanyAll({project_id:t.project_id,search:t.searchObj.search});case 3:200==(a=e.sent).code&&(t.tableData=a.data.data),e.next=12;break;case 7:if(1!=t.companyType){e.next=12;break}return e.next=10,t.api.getCompanyY({project_id:t.project_id});case 10:200==(r=e.sent).code&&(t.tableData=r.data.data);case 12:case"end":return e.stop()}},e,t)}))()},cancel:function(){this.$router.push({name:"commission"})},showAdd:function(t){var e=this;return _()(m.a.mark(function a(){return m.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:e.$router.push({name:"companyPriceInfo",params:{project_id:t.project_id,company_rule_id:t.company_rule_id}});case 1:case"end":return a.stop()}},a,e)}))()}}},X={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"companyType"},[a("div",{staticClass:"table"},[a("div",{staticClass:"title"},[a("span",{staticClass:"title-text"},[t._v("公司累计列表")]),t._v(" "),a("el-input",{staticClass:"query",attrs:{placeholder:"可查询项目名称"},model:{value:t.searchObj.search,callback:function(e){t.$set(t.searchObj,"search",e)},expression:"searchObj.search"}}),t._v(" "),a("el-button",{attrs:{icon:"el-icon-search",circle:""},on:{click:t.getCompanyAll}}),t._v(" "),a("el-button",{staticClass:"pos-btn",attrs:{type:"primary"},on:{click:t.cancel}},[t._v("关闭")])],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{prop:"",label:"序号",align:"center",width:"70px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"company_name",label:"公司名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"absolute_address",label:"公司地址",align:"center",width:"280px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"project_hold_name",label:"负责人",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"project_hold_phone",label:"联系电话",align:"center",width:"110px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"begin_time",label:"开始执行时间",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"end_time",label:"截至执行时间",align:"center"}}),t._v(" "),0==t.companyType?a("el-table-column",{attrs:{prop:"price",label:"累计金额",align:"center"}}):t._e(),t._v(" "),1==t.companyType?a("el-table-column",{attrs:{prop:"price",label:"已结金额",align:"center"}}):t._e(),t._v(" "),2==t.companyType?a("el-table-column",{attrs:{prop:"price",label:"未结金额",align:"center"}}):t._e(),t._v(" "),a("el-table-column",{attrs:{property:"operation",label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.showAdd(e.row)}}},[t._v("查看")])]}}])})],1)],1)])},staticRenderFns:[]};var Y=a("vSla")(W,X,!1,function(t){a("LKCf"),a("SPOD")},"data-v-1251a175",null).exports,tt={render:function(){var t=this.$createElement;return(this._self._c||t)("div",[this._v("12412")])},staticRenderFns:[]};var et=a("vSla")({data:function(){return{}}},tt,!1,function(t){a("ybhN")},"data-v-a0bcff9a",null).exports,at={data:function(){return{tableData:[],project_id:"",company_rule_id:"",searchObj:{search:""},sumbitForm:{total_price:"",count:""}}},mounted:function(){this.project_id=this.$route.params.project_id,this.company_rule_id=this.$route.params.company_rule_id,this.getCompanyAllInfo()},methods:{getCompanyAllInfo:function(){var t=this;return _()(m.a.mark(function e(){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.api.getCompanyAllInfo({project_id:t.project_id,company_rule_id:t.company_rule_id,search:t.searchObj.search});case 2:200==(a=e.sent).code&&(t.tableData=a.data.data,t.sumbitForm.total_price=a.data.data.total_price,t.sumbitForm.count=a.data.data.count);case 4:case"end":return e.stop()}},e,t)}))()},cancel:function(){this.$router.push({name:"companyPrice"})},brokerType:function(t){return 1==t?"成交":2==t?"到访":3==t?"推荐":void 0},state:function(t){return 1==t?"已经付款":2==t?"未付款":0==t?"付款失败":void 0}}},rt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"companyPriceInfo"},[a("div",{staticClass:"table"},[a("div",{staticClass:"title"},[a("span",{staticClass:"title-text"},[t._v("链家公司累计列表")]),t._v(" "),a("el-input",{staticClass:"query",attrs:{placeholder:"可查询推荐编号/经纪人名称"},model:{value:t.searchObj.search,callback:function(e){t.$set(t.searchObj,"search",e)},expression:"searchObj.search"}}),t._v(" "),a("el-button",{attrs:{icon:"el-icon-search",circle:""},on:{click:t.getCompanyAllInfo}}),t._v(" "),a("el-button",{staticClass:"pos-btn",attrs:{type:"primary"},on:{click:t.cancel}},[t._v("关闭")])],1),t._v(" "),a("div",{staticClass:"text"},[a("span",{staticClass:"price"},[t._v("累计金额:"+t._s(t.sumbitForm.total_price))]),t._v(" "),a("span",{staticClass:"price"},[t._v("累计笔数:"+t._s(t.sumbitForm.count)+"笔")])]),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{prop:"",label:"序号",align:"center",width:"70px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"client_id",label:"推荐编号",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"project_name",label:"项目名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"house_info",label:"房间号",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"经纪人名称",align:"center",width:"110px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"tel",label:"联系电话",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"broker_type",label:"佣金类型",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.brokerType(e.row.broker_type)))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"时间",align:"center",width:"160px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"broker_num",label:"佣金金额",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"commission_way",label:"计算规则",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"pay_state",label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.state(e.row.pay_state)))]}}])})],1)],1)])},staticRenderFns:[]};var nt=a("vSla")(at,rt,!1,function(t){a("HuU7"),a("0a7q")},"data-v-a751afe4",null).exports,ot={data:function(){return{tableData:[]}},mounted:function(){this.getDistributionList()},methods:{see:function(t){this.$router.push({name:"maidInfo"})},commissionApply:function(t){this.$router.push({name:"commissionApply"})},getDistributionList:function(){var t=this;return _()(m.a.mark(function e(){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.api.getDistributionList();case 2:200==(a=e.sent).code&&(t.tableData=a.data.data);case 4:case"end":return e.stop()}},e,t)}))()},state:function(t){return 1==t?"申请佣金":2==t?"查看佣金详情 ":3==t?"申请付款":4==t?"重新申请付款":void 0}}},it={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"distri_commission"},[a("div",{staticClass:"title"},[t._m(0),t._v(" "),a("el-input",{staticClass:"query"}),t._v(" "),a("el-button",{attrs:{icon:"el-icon-search",circle:""}})],1),t._v(" "),[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{label:"序号",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"project_name",label:"项目名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"begin_time",label:"开始执行时间",align:"center",width:"110px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"end_time",label:"截至执行时间",align:"center",width:"110px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"developer_name",label:"房产商",align:"center",width:"140px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"city",label:"区域",align:"center",width:"80px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"project_hold_name",label:"项目负责人",align:"center",width:"100px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"project_hold_phone",label:"联系方式",align:"center",width:"110px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"all_price",label:"累计金额",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"y_price",label:"已结金额",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"chargebacks_price",label:"扣款金额",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"n_price",label:"未结金额",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"state",label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.state(e.row.state)))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"notice",label:"提醒状态",align:"center",width:"100px"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"180px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.see(e.row)}}},[t._v("查看佣金记录")]),t._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){t.commissionApply(e.row)}}},[t._v("佣金申请")])]}}])})],1)]],2)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"left"},[e("div",{staticClass:"text1"},[this._v("当前位置：分销佣金管理")])])}]};var st=a("vSla")(ot,it,!1,function(t){a("iaxk"),a("xwKD")},"data-v-0ff04189",null).exports,lt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"maidInfo"},[a("div",{staticClass:"table"},[a("div",{staticClass:"title"},[a("div",{staticClass:"title-text"},[t._v("结佣申请列表")]),t._v(" "),a("el-button",{staticClass:"pos-btn",attrs:{type:"primary"},on:{click:t.cancel}},[t._v("关闭")])],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{label:"序号",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"project_name",label:"项目名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"begin_time",label:"开始执行时间",align:"center",width:"120px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"end_time",label:"截至执行时间",align:"center",width:"120px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"developer_name",label:"房产商",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"city",label:"区域",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"project_hold_name",label:"项目负责人",align:"center",width:"110px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"project_hold_phone",label:"联系方式",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"all_price",label:"累计金额",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"y_price",label:"已结金额",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"chargebacks_price",label:"扣款金额",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"n_price",label:"未结金额",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"notice",label:"提醒状态",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"state",label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.state(e.row)))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"230px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",[t._v("查看")]),t._v(" "),a("el-button",[t._v("修改佣金")]),t._v(" "),a("el-button",[t._v("付款申请")]),t._v(" "),a("el-button",[t._v("付款情况")]),t._v(" "),a("el-button",[t._v("删除")])]}}])})],1),t._v(" "),a("div",{staticClass:"title-text"},[t._v("付款申请列表")]),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{label:"序号",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"project_name",label:"项目名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"begin_time",label:"开始执行时间",align:"center",width:"120px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"end_time",label:"截至执行时间",align:"center",width:"120px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"developer_name",label:"房产商",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"city",label:"区域",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"project_hold_name",label:"项目负责人",align:"center",width:"110px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"project_hold_phone",label:"联系方式",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"all_price",label:"累计金额",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"y_price",label:"已结金额",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"chargebacks_price",label:"扣款金额",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"n_price",label:"未结金额",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"notice",label:"提醒状态",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"state",label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.state(e.row)))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"230px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",[t._v("查看")]),t._v(" "),a("el-button",[t._v("修改佣金")]),t._v(" "),a("el-button",[t._v("付款申请")]),t._v(" "),a("el-button",[t._v("付款情况")]),t._v(" "),a("el-button",[t._v("删除")])]}}])})],1)],1)])},staticRenderFns:[]};var ct=a("vSla")({data:function(){return{tableData:[]}},mounted:function(){},methods:{cancel:function(){this.$router.push({name:"distri_commission"})}}},lt,!1,function(t){a("LeJp")},"data-v-63e033cb",null).exports,pt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"maidInfo"},[a("div",{staticClass:"table"},[a("div",{staticClass:"title"},[a("div",{staticClass:"title-text"},[t._v("申请信息")]),t._v(" "),a("el-button",{staticClass:"pos-btn-1",attrs:{type:"primary"}},[t._v("确定")]),t._v(" "),a("el-button",{staticClass:"pos-btn",attrs:{type:"primary"},on:{click:t.cancel}},[t._v("关闭")])],1),t._v(" "),a("el-form",{staticClass:"form",model:{value:t.sumbitForm,callback:function(e){t.sumbitForm=e},expression:"sumbitForm"}},[a("el-form-item",{staticClass:"row",attrs:{label:"申请名称"}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off"},model:{value:t.sumbitForm.deposit,callback:function(e){t.$set(t.sumbitForm,"deposit",e)},expression:"sumbitForm.deposit"}})],1),t._v(" "),a("el-form-item",{staticClass:"row",attrs:{label:"申请笔数"}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off"},model:{value:t.sumbitForm.allow,callback:function(e){t.$set(t.sumbitForm,"allow",e)},expression:"sumbitForm.allow"}})],1),t._v(" "),a("br"),t._v(" "),a("el-form-item",{staticClass:"row",attrs:{label:"申请金额（￥）："}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off"},model:{value:t.sumbitForm.no_price,callback:function(e){t.$set(t.sumbitForm,"no_price",e)},expression:"sumbitForm.no_price"}})],1),t._v(" "),a("el-form-item",{staticClass:"row",attrs:{label:"扣款金额（￥）："}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off"},model:{value:t.sumbitForm.allow,callback:function(e){t.$set(t.sumbitForm,"allow",e)},expression:"sumbitForm.allow"}})],1),t._v(" "),a("el-form-item",{staticClass:"row",attrs:{label:"审核金额（￥）："}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off"},model:{value:t.sumbitForm.allow,callback:function(e){t.$set(t.sumbitForm,"allow",e)},expression:"sumbitForm.allow"}})],1),t._v(" "),a("el-form-item",{staticClass:"row",attrs:{label:"甲方联系人"}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off"},model:{value:t.sumbitForm.allow,callback:function(e){t.$set(t.sumbitForm,"allow",e)},expression:"sumbitForm.allow"}})],1),t._v(" "),a("el-form-item",{staticClass:"row",attrs:{label:"甲方联系电话"}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off"},model:{value:t.sumbitForm.allow,callback:function(e){t.$set(t.sumbitForm,"allow",e)},expression:"sumbitForm.allow"}})],1),t._v(" "),a("el-form-item",{staticClass:"row",attrs:{label:"乙方联系人"}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off"},model:{value:t.sumbitForm.allow,callback:function(e){t.$set(t.sumbitForm,"allow",e)},expression:"sumbitForm.allow"}})],1),t._v(" "),a("el-form-item",{staticClass:"row",attrs:{label:"乙方联系电话"}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off"},model:{value:t.sumbitForm.allow,callback:function(e){t.$set(t.sumbitForm,"allow",e)},expression:"sumbitForm.allow"}})],1),t._v(" "),a("el-form-item",{staticClass:"row",attrs:{label:"申请类型"}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off"},model:{value:t.sumbitForm.allow,callback:function(e){t.$set(t.sumbitForm,"allow",e)},expression:"sumbitForm.allow"}})],1),t._v(" "),a("el-form-item",{staticClass:"row",attrs:{label:"申请人员"}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off"},model:{value:t.sumbitForm.allow,callback:function(e){t.$set(t.sumbitForm,"allow",e)},expression:"sumbitForm.allow"}})],1),t._v(" "),a("el-form-item",{staticClass:"row",attrs:{label:"申请时间"}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off"},model:{value:t.sumbitForm.allow,callback:function(e){t.$set(t.sumbitForm,"allow",e)},expression:"sumbitForm.allow"}})],1)],1),t._v(" "),a("div",{staticClass:"title-text"},[t._v("申请结佣列表")]),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{label:"序号",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"project_name",label:"推荐编号",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"begin_time",label:"状态",align:"center",width:"120px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"end_time",label:"经纪人名称",align:"center",width:"120px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"developer_name",label:"佣金类型",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"city",label:"时间",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"project_hold_name",label:"佣金金额",align:"center",width:"110px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"project_hold_phone",label:"扣款金额",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"all_price",label:"审核金额",align:"center"}})],1)],1)])},staticRenderFns:[]};var ut=a("vSla")({data:function(){return{tableData:[],sumbitForm:{}}},mounted:function(){},methods:{cancel:function(){this.$router.push({name:"distri_commission"})}}},pt,!1,function(t){a("jWOf"),a("/rKP")},"data-v-69a568aa",null).exports,mt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"updateCommission"},[a("div",{staticClass:"table"},[a("div",{staticClass:"title"},[a("div",{staticClass:"title-text"}),t._v(" "),a("el-button",{staticClass:"pos-btn-1",attrs:{type:"primary"}},[t._v("确定")]),t._v(" "),a("el-button",{staticClass:"pos-btn",attrs:{type:"primary"},on:{click:t.cancel}},[t._v("关闭")])],1),t._v(" "),a("el-input",{staticClass:"query",attrs:{placeholder:"可查询推荐编号"},model:{value:t.searchObj.search,callback:function(e){t.$set(t.searchObj,"search",e)},expression:"searchObj.search"}}),t._v(" "),a("el-input",{staticClass:"query",attrs:{placeholder:"可查询经纪人姓名"},model:{value:t.searchObj.search,callback:function(e){t.$set(t.searchObj,"search",e)},expression:"searchObj.search"}}),t._v(" "),a("el-button",{attrs:{icon:"el-icon-search",circle:""}}),t._v(" "),a("div",{staticClass:"title-text"},[t._v("未结列表")]),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{label:"序号",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"project_name",label:"推荐编号",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"end_time",label:"经纪人名称",align:"center",width:"120px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"developer_name",label:"客户名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"city",label:"成交房号",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"project_hold_name",label:"物业类型",align:"center",width:"110px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"project_hold_phone",label:"合同总价",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"all_price",label:"已付金额",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"all_price",label:"付款方式",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"all_price",label:"佣金类型",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"all_price",label:"产生佣金时间",align:"center",width:"140px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"all_price",label:"佣金金额",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.showAdd(e.row)}}},[t._v("添加")])]}}])})],1)],1)])},staticRenderFns:[]};var dt=a("vSla")({data:function(){return{tableData:[],sumbitForm:{},searchObj:{search:""}}},mounted:function(){},methods:{showAdd:function(t){},cancel:function(){this.$router.push({name:"distri_commission"})}}},mt,!1,function(t){a("+Qam"),a("MjJ8")},"data-v-0dc2ea50",null).exports,_t={data:function(){return{searchObj:{tag_search:0,project_code:"",project_name:"",developer_name:"",source:""},tableData:[],project_id:"",options:[],value:"",operationType:0}},mounted:function(){this.getList()},methods:{search:function(t){this.searchObj.tag_search=t,this.getList()},getList:function(){var t=this;return _()(m.a.mark(function e(){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.api.getList(t.searchObj);case 2:200==(a=e.sent).code&&(t.tableData=a.data);case 4:case"end":return e.stop()}},e,t)}))()},startApply:function(){this.$router.push({name:"startApply"})},fastDistribution:function(t){this.$router.push({name:"fastDistribution",params:{project_id:t.project_id}})},showProject:function(t,e){},scopeState:function(t){return 1==t?"自行申请":2==t?"项目方选择":void 0},projectState:function(t){return 0==t?"管理中":"以终止"},auditingState:function(t){return 0==t?"停用":1==t?"通过":2==t?"审核中":void 0}}},vt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"box distribution"},[a("div",{staticClass:"title"},[a("span",{staticClass:"left"},[a("div",{staticClass:"text1"},[t._v("当前位置：项目分销")]),t._v(" "),a("div",[a("el-button",{staticClass:"tip",attrs:{type:"text"},on:{click:function(e){t.search(0)}}},[t._v("全部")]),t._v(" "),a("el-button",{staticClass:"tip",attrs:{type:"text"},on:{click:function(e){t.search(1)}}},[t._v("待审核")]),t._v(" "),a("el-button",{staticClass:"tip",attrs:{type:"text"},on:{click:function(e){t.search(2)}}},[t._v("已通过")]),t._v(" "),a("el-button",{staticClass:"tip",attrs:{type:"text"},on:{click:function(e){t.search(3)}}},[t._v("已终止")]),t._v(" "),a("span",{staticClass:"btn"},[a("el-button",{attrs:{type:"primary"},on:{click:t.getList}},[t._v("高级查询")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.startApply}},[t._v("发起申请")])],1)],1)])]),t._v(" "),a("div",{staticClass:"search"}),t._v(" "),[a("el-table",{staticClass:"mt-30",staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{prop:"",label:"序号",align:"center",width:"70px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"project_code",label:"项目编号",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"project_name",label:"项目名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"end_state",label:"项目状态",align:"center",width:"90px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.projectState(e.row.end_state)))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"city",label:"区域",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"absolute_address",label:"地址",align:"center",width:"240px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"subordinate_company",label:"项目所属单位",align:"center",width:"110px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"company_relation",label:"与项目关系",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"developer_name",label:"所属单位",align:"center",width:"150px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"source",label:"来源",align:"center",width:"80px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.scopeState(e.row.source)))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"state",label:"审核状态",align:"center",width:"90px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.auditingState(e.row.state)))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"is_distribution",label:"分配状态",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"operation",label:"操作",align:"center",width:"210px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.showProject(e.row,0)}}},[t._v("查看")]),t._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){t.showProject(e.row,1)}}},[t._v("修改")]),t._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){t.fastDistribution(e.row)}}},[t._v("分配到访确认人")])]}}])})],1)]],2)},staticRenderFns:[]};var ft=a("vSla")(_t,vt,!1,function(t){a("Abk7"),a("Zi5z")},"data-v-c72668be",null).exports,bt={data:function(){return{maintain:[],examine:[],project_id:"",id:"",agent_id:"",operationType:0}},mounted:function(){this.project_id=this.$route.params.project_id,this.project_id?this.getAgent():this.$router.push({name:"distribution"})},methods:{getAgent:function(){var t=this;return _()(m.a.mark(function e(){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.api.getAgent({project_id:t.project_id});case 2:200==(a=e.sent).code&&(t.maintain=a.data.y_info,t.examine=a.data.n_info);case 4:case"end":return e.stop()}},e,t)}))()},cancel:function(){this.$router.push({name:"distribution"})},showAdd:function(t,e){var a=this;return _()(m.a.mark(function r(){return m.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:console.log(e),0==t&&a.$router.push({name:"addPerson",params:{operationType:t,agent_id:e.agent_id}});case 2:case"end":return r.stop()}},r,a)}))()},state:function(t){return 0==t?"禁用":1==t?"正常":void 0},authenticationState:function(t){return 0==t?"待审核":2==t?"未通过 ":void 0},addShow:function(){this.$router.push({name:"addPerson",params:{project_id:this.project_id}})}}},ht={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"fastDistribution"},[a("div",{staticClass:"table"},[a("div",{staticClass:"title"},[a("div",{staticClass:"text"},[t._v("到访确认人维护信息")]),t._v(" "),a("span",{staticClass:"search"},[a("el-button",{staticClass:"addBtn",attrs:{type:"primary"},on:{click:t.addShow}},[t._v("新增")]),t._v(" "),a("el-button",{staticClass:"addBtn",attrs:{type:"primary"},on:{click:t.cancel}},[t._v("关闭")])],1)]),t._v(" "),a("el-table",{attrs:{data:t.maintain,border:""}},[a("el-table-column",{attrs:{prop:"nub",label:"序号",align:"center",width:"70px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"account",label:"云算号",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"tel",label:"联系方式",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"department",label:"所属部门",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"position",label:"职位",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"entry_time",label:"入职时间",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"分配时间",align:"center",width:"160px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"state",label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.state(e.row.state)))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"operation",label:"操作",align:"center",width:"140px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.showAdd(0,e.row)}}},[t._v("查看")])]}}])})],1)],1),t._v(" "),a("div",{staticClass:"table"},[t._m(0),t._v(" "),a("el-table",{attrs:{data:t.examine,border:""}},[a("el-table-column",{attrs:{prop:"nub",label:"序号",align:"center",width:"70px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"account",label:"云算号",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"tel",label:"联系方式",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"department",label:"所属部门",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"position",label:"职位",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"entry_time",label:"入职时间",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"state",label:"审核状态",align:"center",width:"90px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.authenticationState(e.row.state)))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"operation",label:"操作",align:"center",width:"120px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.showAdd(2,e.row)}}},[t._v("查看")]),t._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){t.showAdd(1,e.row)}}},[t._v("审核")])]}}])})],1)],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title"},[e("div",{staticClass:"text"},[this._v("到访确认人审核信息")])])}]};var gt=a("vSla")(bt,ht,!1,function(t){a("YX1v")},null,null).exports,yt={data:function(){return{submitForm:{tabsolute_addressel:"",birth:"",tel:"",sex:"",position:"",department:"",account:"",entry_time:"",name:"",project_id:"",id:"",agent_id:"",fp_name:"",fp_time:"",remark:""}}},mounted:function(){this.project_id=this.$route.params.project_id,this.id=this.$route.params.id,this.agent_id=this.$route.params.agent_id,void 0===this.$route.params.agentInfo?this.getAgentInfo():(this.agent_id=this.$route.params.agentInfo.id,this.submitForm=this.$route.params.agentInfo,this.getAgentInfo())},methods:{sumbit:function(){var t=this;return _()(m.a.mark(function e(){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.submitForm.project_id=t.project_id,t.submitForm.id=t.id,t.submitForm.agent_id=t.agent_id,e.next=5,t.api.agentAdd(t.submitForm);case 5:a=e.sent,console.log(t.submitForm),200==a.code&&t.$router.push({name:"fastDistribution",params:{submitForm:t.submitForm}});case 8:case"end":return e.stop()}},e,t)}))()},getAgentInfo:function(){var t=this;return _()(m.a.mark(function e(){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.api.getAgentInfo({agent_id:t.agent_id});case 2:200==(a=e.sent).code&&(t.submitForm=a.data);case 4:case"end":return e.stop()}},e,t)}))()},sex:function(t){return 1==t?"男":2==t?"女":0==t?"未设置":void 0},choice:function(){this.$router.push({name:"choicePeople",params:{project_id:this.project_id}})},close:function(){this.$router.push({name:"fastDistribution",params:this.$route.params})}}},xt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"addPerson"},[a("div",{staticClass:"box"},[a("span",{staticClass:"num_set"},[t._v("到访确认人信息")]),t._v(" "),a("span",{staticClass:"btn"},[a("el-button",{attrs:{type:"primary"},on:{click:t.sumbit}},[t._v("确定")]),t._v(" "),a("el-button",{staticClass:"btn-1",on:{click:t.close}},[t._v("返回")])],1),t._v(" "),a("el-form",{model:{value:t.submitForm,callback:function(e){t.submitForm=e},expression:"submitForm"}},[a("el-form-item",{staticClass:"input1"},[a("div",[t._v("到访确认人")]),t._v(" "),a("div",{staticClass:"border"},[t._v(t._s(t.submitForm?t.submitForm.name:""))])]),t._v(" "),a("span",[a("el-button",{staticClass:"button",attrs:{type:"primary"},on:{click:t.choice}},[t._v("选择")])],1),t._v(" "),a("div",{staticClass:"num_set"},[t._v("员工信息")]),t._v(" "),a("el-form",{model:{value:t.submitForm,callback:function(e){t.submitForm=e},expression:"submitForm"}},[a("el-form-item",{staticClass:"input1"},[a("div",[t._v("姓名")]),t._v(" "),a("div",{staticClass:"border"},[t._v(t._s(t.submitForm?t.submitForm.name:""))])]),t._v(" "),a("el-form-item",{staticClass:"input1"},[a("div",[t._v("入职时间")]),t._v(" "),a("div",{staticClass:"border"},[t._v(t._s(t.submitForm?t.submitForm.entry_time:""))])]),t._v(" "),a("el-form-item",{staticClass:"input1"},[a("div",[t._v("云算号")]),t._v(" "),a("div",{staticClass:"border"},[t._v(t._s(t.submitForm?t.submitForm.account:""))])]),t._v(" "),a("el-form-item",{staticClass:"input1"},[a("div",[t._v("所属部门")]),t._v(" "),a("div",{staticClass:"border"},[t._v(t._s(t.submitForm?t.submitForm.department:""))])]),t._v(" "),a("el-form-item",{staticClass:"input1"},[a("div",[t._v("职位")]),t._v(" "),a("div",{staticClass:"border"},[t._v(t._s(t.submitForm?t.submitForm.position:""))])]),t._v(" "),a("div",{staticClass:"num_set"},[t._v("基础信息")]),t._v(" "),a("el-form-item",{staticClass:"input1"},[a("div",[t._v("性别")]),t._v(" "),a("div",{staticClass:"border"},[t._v("\n            "+t._s(t.sex(t.submitForm?t.submitForm.sex:""))+"\n          ")])]),t._v(" "),a("el-form-item",{staticClass:"input1"},[a("div",[t._v("电话号码")]),t._v(" "),a("div",{staticClass:"border"},[t._v(t._s(t.submitForm?t.submitForm.tel:""))])]),t._v(" "),a("el-form-item",{staticClass:"input1"},[a("div",[t._v("出生年月")]),t._v(" "),a("div",{staticClass:"border"},[t._v(t._s(t.submitForm?t.submitForm.birth:""))])]),t._v(" "),a("el-form-item",{staticClass:"input1"},[a("div",[t._v("通讯地址")]),t._v(" "),a("div",{staticClass:"border width"},[t._v(t._s(t.submitForm?t.submitForm.tabsolute_addressel:""))])]),t._v(" "),a("div",{staticClass:"num_set"},[t._v("分配信息")]),t._v(" "),a("el-form-item",{staticClass:"input1"},[a("div",[t._v("分配人")]),t._v(" "),a("div",{staticClass:"border"},[t._v("\n            "+t._s(t.sex(t.submitForm?t.submitForm.fp_name:""))+"\n          ")])]),t._v(" "),a("el-form-item",{staticClass:"input1"},[a("div",[t._v("分配时间")]),t._v(" "),a("div",{staticClass:"border"},[t._v(t._s(t.submitForm?t.submitForm.fp_time:""))])]),t._v(" "),a("el-form-item",{staticClass:"input1-br"},[a("div",[t._v("备注")]),t._v(" "),a("div",{staticClass:"border width-1"},[t._v(t._s(t.submitForm?t.submitForm.remark:""))])])],1)],1)],1)])},staticRenderFns:[]};var Ct=a("vSla")(yt,xt,!1,function(t){a("utGJ")},"data-v-88d84d6a",null).exports,jt={data:function(){return{agentInfo:[],project_id:"",id:""}},mounted:function(){this.project_id=this.$route.params.project_id,this.search()},methods:{search:function(){var t=this;return _()(m.a.mark(function e(){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.api.agentList();case 2:200==(a=e.sent).code&&(t.agentInfo=a.data);case 4:case"end":return e.stop()}},e,t)}))()},submit:function(t){this.$router.push({name:"addPerson",params:{agentInfo:t,id:t.id,project_id:this.project_id}})},close:function(){this.$router.push({name:"addPerson",params:this.$route.params})}}},wt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"addPerson"},[a("div",{staticClass:"box"},[a("span",{staticClass:"num_set"},[t._v("选择经纪人")]),t._v(" "),a("div",[a("el-input",{staticClass:"query",on:{click:t.search}}),t._v(" "),a("el-button",{attrs:{icon:"el-icon-search",circle:""}}),t._v(" "),a("span",{staticClass:"btn"},[a("el-button",{staticClass:"btn-1",on:{click:t.close}},[t._v("返回")])],1)],1),t._v(" "),a("el-table",{attrs:{data:t.agentInfo,border:""}},[a("el-table-column",{attrs:{property:"id",label:"序号",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"account",label:"云算号",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"name",label:"经纪人名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"phone",label:"联系电话",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"120px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.submit(e.row)}}},[t._v("选择")])]}}])})],1)],1)])},staticRenderFns:[]};var kt=a("vSla")(jt,wt,!1,function(t){a("0uSW")},"data-v-dd2dfd66",null).exports,Ft={data:function(){return{searchObj:{search:"",province:"",city:"",district:""},sumbitForm:[],project_id:""}},mounted:function(){this.search()},methods:{search:function(){var t=this;return _()(m.a.mark(function e(){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.api.changeProjectList(t.searchObj);case 2:200==(a=e.sent).code&&(t.sumbitForm=a.data);case 4:case"end":return e.stop()}},e,t)}))()},sumbit:function(t){var e=this;return _()(m.a.mark(function a(){return m.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:console.log(t),e.$router.push({name:"projectInfo",params:{project_id:t.project_id}});case 2:case"end":return a.stop()}},a,e)}))()},close:function(){this.$router.push({name:"distribution",params:this.$route.params})}},components:{CitySelector:A}},$t={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"addPerson"},[a("div",{staticClass:"box"},[a("div",{staticClass:"relative"},[a("city-selector",{staticClass:"selectDis",attrs:{province:t.searchObj.province,city:t.searchObj.city,district:t.searchObj.district},on:{"update:province":function(e){t.$set(t.searchObj,"province",e)},"update:city":function(e){t.$set(t.searchObj,"city",e)},"update:district":function(e){t.$set(t.searchObj,"district",e)}}}),t._v(" "),a("el-input",{staticClass:"query",model:{value:t.searchObj.search,callback:function(e){t.$set(t.searchObj,"search",e)},expression:"searchObj.search"}}),t._v(" "),a("span",{staticClass:"pos-abs"},[a("el-button",{attrs:{icon:"el-icon-search",circle:""},on:{click:t.search}}),t._v(" "),a("el-button",{staticClass:"pos-right",attrs:{type:"primary"},on:{click:t.close}},[t._v("返回")])],1)],1)]),t._v(" "),a("el-table",{attrs:{data:t.sumbitForm,border:""}},[a("el-table-column",{attrs:{property:"id",label:"序号",align:"center",width:"70px"}}),t._v(" "),a("el-table-column",{attrs:{property:"project_name",label:"项目名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"absolute_address",label:"地址",align:"center",width:"320px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.province_name+e.row.city_name+e.row.district_name+e.row.absolute_address))])]}}])}),t._v(" "),a("el-table-column",{attrs:{property:"project_code",label:"项目编号",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"project_hold_name",label:"项目负责人",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"project_hold_phone",label:"联系方式",align:"center",width:"120px"}}),t._v(" "),a("el-table-column",{attrs:{property:"operation",label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{on:{click:function(a){t.sumbit(e.row)}}},[t._v("提交")])]}}])})],1)],1)},staticRenderFns:[]};var Pt=a("vSla")(Ft,$t,!1,function(t){a("DKQr"),a("Dc5I")},"data-v-35d8a582",null).exports,At={data:function(){return{submitForm:{province:"",city:"",district:"",project_id:"",auditProject:{},peopleInfo:[]},project_id:"",typeOptions:[]}},mounted:function(){this.$route.params.project_id?(this.project_id=this.$route.params.project_id,this.getProjectDetail(),this.getType()):this.$router.push({name:"startApply"})},methods:{getType:function(){var t=this;return _()(m.a.mark(function e(){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.api.getTags();case 2:200==(a=e.sent).code&&(t.typeOptions=a.data);case 4:case"end":return e.stop()}},e,t)}))()},state:function(t){return 1==t?"正常":0==t?"弃用":2==t?"已转新房":3==t?"已转二手房":void 0},getProjectDetail:function(){var t=this;return _()(m.a.mark(function e(){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return F()(t.submitForm,t.$route.params.projectInfo),e.next=3,t.api.applyProject({project_id:t.project_id});case 3:200==(a=e.sent).code&&F()(t.submitForm,a.data);case 5:case"end":return e.stop()}},e,t)}))()},search:function(){var t=this;return _()(m.a.mark(function e(){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.api.changeProjectList({project_id:t.submitForm.project_id});case 2:200==(a=e.sent).code&&(t.sumbitForm=a.data);case 4:case"end":return e.stop()}},e,t)}))()},submit:function(){var t=this;return _()(m.a.mark(function e(){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.api.changeProjectAdd({project_id:t.submitForm.project_id}),200==reuslt.code&&t.$router.push({name:"distribution"});case 2:case"end":return e.stop()}},e,t)}))()},cancel:function(){this.$router.push({name:"startApply"})}},components:{CitySelector:A}},St={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"projectInfo"},[a("div",{staticClass:"title-text"},[t._v("项目分销详情")]),t._v(" "),a("el-form",{staticClass:"form",attrs:{model:t.submitForm}},[a("div",[a("el-form-item",{staticClass:"input",attrs:{label:"项目编号"}},[a("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入项目编号"},model:{value:t.submitForm.project_code,callback:function(e){t.$set(t.submitForm,"project_code",e)},expression:"submitForm.project_code"}})],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"项目名称"}},[a("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入项目名称"},model:{value:t.submitForm.project_name,callback:function(e){t.$set(t.submitForm,"project_name",e)},expression:"submitForm.project_name"}})],1)],1),t._v(" "),a("div",{staticClass:"text"},[t._v("物业类型")]),t._v(" "),t._l(t.typeOptions,function(e){return a("el-checkbox",{key:e.param_id,attrs:{label:e.param_id},model:{value:t.submitForm.property_type,callback:function(e){t.$set(t.submitForm,"property_type",e)},expression:"submitForm.property_type"}},[t._v(t._s(e.param))])}),t._v(" "),a("div",{staticClass:"text"},[t._v("现住地址")]),t._v(" "),a("el-form-item",[a("city-selector",{attrs:{province:t.submitForm.province_name,city:t.submitForm.city_name,district:t.submitForm.district_name},on:{"update:province":function(e){t.$set(t.submitForm,"province_name",e)},"update:city":function(e){t.$set(t.submitForm,"city_name",e)},"update:district":function(e){t.$set(t.submitForm,"district_name",e)}}}),t._v(" "),a("el-input",{staticClass:"input1",model:{value:t.submitForm.absolute_address,callback:function(e){t.$set(t.submitForm,"absolute_address",e)},expression:"submitForm.absolute_address"}})],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"项目状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(t.state(t.submitForm.state)))]}}])}),a("br"),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"项目负责人"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.submitForm.project_hold_name,callback:function(e){t.$set(t.submitForm,"project_hold_name",e)},expression:"submitForm.project_hold_name"}})],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"联系电话"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.submitForm.project_hold_phone,callback:function(e){t.$set(t.submitForm,"project_hold_phone",e)},expression:"submitForm.project_hold_phone"}})],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"开发商"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.submitForm.developer_name,callback:function(e){t.$set(t.submitForm,"developer_name",e)},expression:"submitForm.developer_name"}})],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"结佣单位"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.submitForm.statement_company,callback:function(e){t.$set(t.submitForm,"statement_company",e)},expression:"submitForm.statement_company"}})],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"所属单位"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.submitForm.subordinate_company,callback:function(e){t.$set(t.submitForm,"subordinate_company",e)},expression:"submitForm.subordinate_company"}})],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"与项目关系"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.submitForm.company_relations,callback:function(e){t.$set(t.submitForm,"company_relations",e)},expression:"submitForm.company_relations"}})],1)],2),t._v(" "),a("div",{staticClass:"title-text"},[t._v("审核项目信息")]),t._v(" "),a("el-form",{attrs:{model:t.submitForm.auditProject}},[a("div",[a("el-form-item",{staticClass:"input",attrs:{label:"审核人员"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.submitForm.fp_name,callback:function(e){t.$set(t.submitForm,"fp_name",e)},expression:"submitForm.fp_name"}})],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"审核时间"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.submitForm.fp_time,callback:function(e){t.$set(t.submitForm,"fp_time",e)},expression:"submitForm.fp_time"}})],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"审核状态"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.submitForm.project_name,callback:function(e){t.$set(t.submitForm,"project_name",e)},expression:"submitForm.project_name"}})],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"备注"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.submitForm.remark,callback:function(e){t.$set(t.submitForm,"remark",e)},expression:"submitForm.remark"}})],1)],1)]),t._v(" "),a("div",{staticClass:"title-text"},[t._v("到访确认人信息")]),t._v(" "),a("el-table",{attrs:{data:t.submitForm.peopleInfo,border:""}},[a("el-table-column",{attrs:{property:"nub",label:"序号",align:"center",width:"70px"}}),t._v(" "),a("el-table-column",{attrs:{property:"company_name",label:"云算号",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"company_relation",label:"名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"s_time",label:"联系方式",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"e_time",label:"所属部门",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"project_hold_name",label:"职位",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"project_hold_phone",label:"入职时间",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"project_hold_phone",label:"申请时间",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"project_hold_phone",label:"审核状态",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"project_hold_phone",label:"分配时间",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"project_hold_phone",label:"工作状态",align:"center"}})],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.cancel}},[t._v("关 闭")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("确 定")])],1)],1)},staticRenderFns:[]};var Tt=a("vSla")(At,St,!1,function(t){a("Z5Pz")},"data-v-62dd1d35",null).exports,Rt={data:function(){return{tableData:[],searchObj:{tag_search:""},dialogFormVisible:!1,refuseInfo:!1,examinePeople:{name:"",role:"",account:"",department:"",position:"",img_url:"",entry_time:"",project_name:"",sex:"",tel:"",birth:"",absolute_address:"",city_name:"",district_name:"",agent_id:null,project_id:null,id:null,remark:""},submitForm:{},remark:"",operationType:0}},mounted:function(){this.getExList()},methods:{showCheck:function(t){this.refuseInfo=!0},check:function(t){var e=this;return _()(m.a.mark(function a(){var r;return m.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(e.submitForm.type=t,r=F()({},e.submitForm),0!=t){a.next=10;break}return r.remark=e.remark,a.next=6,e.api.exPeople(r);case 6:200==a.sent.code&&(e.getExList(),e.cancelRefuseInfo(),e.cancel()),a.next=11;break;case 10:e.$confirm("此操作将审核成功, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(_()(m.a.mark(function t(){return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.$message({type:"success",message:"审核成功!"}),t.next=3,e.api.exPeople(r);case 3:200==t.sent.code&&(e.getExList(),e.cancelRefuseInfo(),e.cancel());case 5:case"end":return t.stop()}},t,e)}))).catch(function(){e.$message({type:"info",message:"已取消审核"})});case 11:case"end":return a.stop()}},a,e)}))()},examine:function(t){var e=this;return _()(m.a.mark(function a(){return m.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e.operationType=0,e.dialogFormVisible=!0,e.examinePeople=t,a.next=5,e.api.getExInfo(e.examinePeople);case 5:200==a.sent.code&&(e.submitForm.project_id=t.project_id,e.submitForm.agent_id=t.agent_id,e.submitForm.id=t.id);case 7:case"end":return a.stop()}},a,e)}))()},showSee:function(t){var e=this;return _()(m.a.mark(function a(){var r;return m.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e.operationType=1,e.dialogFormVisible=!0,F()(e.examinePeople,t),a.next=5,e.api.getRefuseInfo(e.examinePeople);case 5:200==(r=a.sent).code&&(e.examinePeople=r.data);case 7:case"end":return a.stop()}},a,e)}))()},getRole:function(t){return 1==t?"经纪人":2==t?"对接人":void 0},auditingState:function(t){return 0==t?"未通过":2==t?"待审核":void 0},role:function(t){return 1==t?"新房经纪人":2==t?"项目对接人":void 0},sex:function(t){return 1==t?"男":2==t?"女":0==t?"未设置":void 0},cancel:function(){this.dialogFormVisible=!1},cancelRefuseInfo:function(){this.refuseInfo=!1,this.remark=""},getExList:function(){var t=this;return _()(m.a.mark(function e(){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.api.getExList();case 2:((a=e.sent).code=200)&&(t.tableData=a.data.data);case 4:case"end":return e.stop()}},e,t)}))()},search:function(t){this.searchObj.tag_search=t,this.getExList()}}},Ut={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"box examinePeople"},[r("div",{staticClass:"title"},[r("span",{staticClass:"left"},[r("div",{staticClass:"text1"},[t._v("当前位置：审核经纪人")]),t._v(" "),r("div",[r("el-button",{staticClass:"tip",attrs:{type:"text"},on:{click:function(e){t.search(1)}}},[t._v("全部")]),t._v(" "),r("el-button",{staticClass:"tip",attrs:{type:"text"},on:{click:function(e){t.search(2)}}},[t._v("待审核")]),t._v(" "),r("el-button",{staticClass:"tip",attrs:{type:"text"},on:{click:function(e){t.search(0)}}},[t._v("审核未通过")])],1)]),t._v(" "),r("el-input",{staticClass:"query"}),t._v(" "),r("el-button",{attrs:{icon:"el-icon-search",circle:""}})],1),t._v(" "),[r("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[r("el-table-column",{attrs:{prop:"",label:"序号",align:"center",width:"80px"}}),t._v(" "),r("el-table-column",{attrs:{prop:"account",label:"云算号",align:"center",width:"110px"}}),t._v(" "),r("el-table-column",{attrs:{prop:"name",label:"名称",align:"center"}}),t._v(" "),r("el-table-column",{attrs:{prop:"project_name",label:"申请项目",align:"center"}}),t._v(" "),r("el-table-column",{attrs:{prop:"role",label:"角色",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.getRole(e.row.role)))]}}])}),t._v(" "),r("el-table-column",{attrs:{prop:"department",label:"所属部门",align:"center"}}),t._v(" "),r("el-table-column",{attrs:{prop:"position",label:"职位",align:"center"}}),t._v(" "),r("el-table-column",{attrs:{prop:"city_name",label:"城市",align:"center"}}),t._v(" "),r("el-table-column",{attrs:{prop:"district_name",label:"区域",align:"center"}}),t._v(" "),r("el-table-column",{attrs:{prop:"tel",label:"联系方式",align:"center",width:"120px"}}),t._v(" "),r("el-table-column",{attrs:{prop:"state",label:"审核状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.auditingState(e.row.state)))]}}])}),t._v(" "),r("el-table-column",{attrs:{prop:"remark",label:"备注",align:"center",width:"200px"}}),t._v(" "),r("el-table-column",{attrs:{prop:"entry_time",label:"申请时间",align:"center"}}),t._v(" "),r("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[2==e.row.state?r("el-button",{attrs:{type:"text"},on:{click:function(a){t.examine(e.row)}}},[t._v("审核")]):t._e(),t._v(" "),0==e.row.state?r("el-button",{attrs:{type:"text"},on:{click:function(a){t.showSee(e.row)}}},[t._v("查看")]):t._e()]}}])})],1),t._v(" "),r("el-dialog",{staticClass:"dialog",attrs:{title:"审核",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e},close:t.cancel}},[r("div",{staticClass:"btn"},[0==t.operationType?r("el-button",{attrs:{type:"primary"},on:{click:function(e){t.check(1)}}},[t._v("审核通过")]):t._e(),t._v(" "),0==t.operationType?r("el-button",{attrs:{type:"primary"},on:{click:function(e){t.showCheck(0)}}},[t._v("审核不通过")]):t._e(),t._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:t.cancel}},[t._v("关闭")])],1),t._v(" "),r("div",{staticClass:"num_set"},[t._v("员工信息")]),t._v(" "),r("el-form",{model:{value:t.examinePeople,callback:function(e){t.examinePeople=e},expression:"examinePeople"}},[r("el-form-item",{staticClass:"input1"},[r("div",[t._v("姓名")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.name))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("角色")]),t._v(" "),r("div",{staticClass:"border"},[t._v("\n            "+t._s(t.role(t.examinePeople.role))+"\n          ")])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("云算号")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.account))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("所属部门")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.department))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("职位")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.position))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("工牌照片")]),t._v(" "),r("div",{staticClass:"border  img"},[r("img",{attrs:{src:a("QKcC")}})])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("申请时间")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.entry_time))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("申请项目")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.project_name))])]),t._v(" "),r("div",{staticClass:"num_set"},[t._v("基础信息")]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("性别")]),t._v(" "),r("div",{staticClass:"border"},[t._v("\n            "+t._s(t.sex(t.examinePeople.sex))+"\n          ")])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("电话号码")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.tel))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("出生年月")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.birth))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("通讯地址")]),t._v(" "),r("div",{staticClass:"border width"},[t._v(t._s(t.examinePeople.city_name+t.examinePeople.district_name+t.examinePeople.absolute_address))])]),t._v(" "),r("div",{staticClass:"num_set"},[t._v("审核信息")]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("审核状态")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.auditingState(t.examinePeople.state)))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("审核人员")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.auditing_name))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("审核时间")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.auditing_time))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("备注")]),t._v(" "),r("div",{staticClass:"border height"},[t._v(t._s(t.examinePeople.remark))])])],1)],1),t._v(" "),r("el-dialog",{staticClass:"dialog",attrs:{title:"拒绝",visible:t.refuseInfo},on:{"update:visible":function(e){t.refuseInfo=e},close:t.cancelRefuseInfo}},[r("el-form",[r("el-form-item",{attrs:{label:"审核不通过原因"}},[r("el-input",{staticClass:"textarea",attrs:{type:"textarea"},model:{value:t.remark,callback:function(e){t.remark=e},expression:"remark"}})],1)],1),t._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:t.cancelRefuseInfo}},[t._v("取 消")]),t._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:function(e){t.check(0)}}},[t._v("确 定")])],1)],1)]],2)},staticRenderFns:[]};var Ot=a("vSla")(Rt,Ut,!1,function(t){a("zCff"),a("jl6q")},"data-v-9a37e8c2",null).exports,qt={data:function(){return{tableData:[],dialogFormVisible:!1,examinePeople:{name:"",role:"",account:"",department:"",position:"",img_url:"",entry_time:"",project_name:"",sex:"",tel:"",birth:"",absolute_address:"",slef_desc:"",bank_card:"",bank_name:"",card_url:"",id_card:"",quit:{his_id:"",auth_id:"",create_time:"",type:"",remark:""}}}},mounted:function(){this.getQuitList()},methods:{getRole:function(t){return 1==t?"经纪人":2==t?"对接人":void 0},showSee:function(t){var e=this;return _()(m.a.mark(function a(){var r;return m.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e.dialogFormVisible=!0,F()(e.examinePeople,t),e.examinePeople.agent_id=t.agent_id,a.next=5,e.api.getQuitInfo(e.examinePeople);case 5:200==(r=a.sent).code&&(e.examinePeople=r.data);case 7:case"end":return a.stop()}},a,e)}))()},auditingState:function(t){return 0==t?"未通过":2==t?"待审核":void 0},role:function(t){return 1==t?"新房经纪人":2==t?"项目对接人":void 0},sex:function(t){return 1==t?"男":2==t?"女":0==t?"未设置":void 0},cancel:function(){this.dialogFormVisible=!1},getQuitList:function(){var t=this;return _()(m.a.mark(function e(){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.api.getQuitList();case 2:((a=e.sent).code=200)&&(t.tableData=a.data.data);case 4:case"end":return e.stop()}},e,t)}))()}}},Dt={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"quitPeople"},[r("div",{staticClass:"title"},[t._m(0),t._v(" "),r("el-input",{staticClass:"query"}),t._v(" "),r("el-button",{attrs:{icon:"el-icon-search",circle:""}})],1),t._v(" "),[r("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[r("el-table-column",{attrs:{prop:"",label:"序号",align:"center",width:"80px"}}),t._v(" "),r("el-table-column",{attrs:{prop:"account",label:"云算号",align:"center",width:"110px"}}),t._v(" "),r("el-table-column",{attrs:{prop:"name",label:"名称",align:"center"}}),t._v(" "),r("el-table-column",{attrs:{prop:"tel",label:"联系方式",align:"center",width:"120px"}}),t._v(" "),r("el-table-column",{attrs:{prop:"project_name",label:"申请项目",align:"center"}}),t._v(" "),r("el-table-column",{attrs:{prop:"role",label:"角色",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.getRole(e.row.role)))]}}])}),t._v(" "),r("el-table-column",{attrs:{prop:"department",label:"所属部门",align:"center"}}),t._v(" "),r("el-table-column",{attrs:{prop:"position",label:"职位",align:"center"}}),t._v(" "),r("el-table-column",{attrs:{prop:"city",label:"城市",align:"center"}}),t._v(" "),r("el-table-column",{attrs:{prop:"district",label:"区域",align:"center"}}),t._v(" "),r("el-table-column",{attrs:{prop:"entry_time",label:"入职时间",align:"center",width:"100px"}}),t._v(" "),r("el-table-column",{attrs:{prop:"create_time",label:"离职时间",align:"center",width:"100px"}}),t._v(" "),r("el-table-column",{attrs:{prop:"remark",label:"离职原因",align:"center",width:"200px"}}),t._v(" "),r("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-button",{attrs:{type:"text"},on:{click:function(a){t.showSee(e.row)}}},[t._v("查看")])]}}])})],1),t._v(" "),r("el-dialog",{staticClass:"dialog",attrs:{title:"查看",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e},close:t.cancel}},[r("div",{staticClass:"btn"},[r("el-button",{attrs:{type:"primary"},on:{click:t.cancel}},[t._v("关闭")])],1),t._v(" "),r("div",{staticClass:"num_set"},[t._v("员工信息")]),t._v(" "),r("el-form",{model:{value:t.examinePeople,callback:function(e){t.examinePeople=e},expression:"examinePeople"}},[r("el-form-item",{staticClass:"input1"},[r("div",[t._v("姓名")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.name))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("角色")]),t._v(" "),r("div",{staticClass:"border"},[t._v("\n            "+t._s(t.role(t.examinePeople.role))+"\n          ")])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("云算号")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.account))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("所属部门")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.department))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("职位")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.position))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("工牌照片")]),t._v(" "),r("div",{staticClass:"border  img"},[r("img",{attrs:{src:a("QKcC")}})])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("入职时间")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.entry_time))])]),t._v(" "),r("div",{staticClass:"num_set"},[t._v("基础信息")]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("性别")]),t._v(" "),r("div",{staticClass:"border"},[t._v("\n            "+t._s(t.sex(t.examinePeople.sex))+"\n          ")])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("电话号码")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.tel))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("出生年月")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.birth))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("通讯地址")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.city_name+t.examinePeople.district_name+t.examinePeople.absolute_address))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("身份证")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.id_card))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("证件照片")]),t._v(" "),r("div",{staticClass:"border  img"},[r("img",{attrs:{src:a("7VeV")}})])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("绑定银行")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.bank_name))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("银行卡号")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.bank_card))])]),t._v(" "),r("el-form-item",{staticClass:"input2"},[r("div",[t._v("个人介绍")]),t._v(" "),r("div",{staticClass:"border height"},[t._v(t._s(t.examinePeople.slef_desc))])]),t._v(" "),r("div",{staticClass:"num_set"},[t._v("离职信息")]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("离职时间")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.quit?t.examinePeople.quit.create_time:""))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("离职类型")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.quit?t.examinePeople.quit.type:""))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("备注")]),t._v(" "),r("div",{staticClass:"border height"},[t._v(t._s(t.examinePeople.quit?t.examinePeople.quit.remark:""))])])],1)],1)]],2)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"left"},[e("div",{staticClass:"text1"},[this._v("当前位置：离职经纪人")])])}]};var It=a("vSla")(qt,Dt,!1,function(t){a("6/fj"),a("RsWv")},"data-v-2fd58cbe",null).exports;r.default.use(i.a);var Lt=new i.a({base:"/admin/conpany/admin_conpany_show",routes:[{path:"/",name:"login",component:b},{path:"/project",component:p,children:[{path:"",name:"project",component:y},{path:"/addProject",name:"addProject",component:R},{path:"/reCreateProject",name:"reCreateProject",component:q},{path:"/requestRefund",name:"requestRefund",component:L},{path:"/payRecord",name:"payRecord",component:M},{path:"/refundInfo",name:"refundInfo",component:J}]},{path:"/agent",component:p,children:[{path:"",name:"agent",component:Z},{path:"/examinePeople",name:"examinePeople",component:Ot},{path:"/quitPeople",name:"quitPeople",component:It}]},{path:"/commission",component:p,children:[{path:"",name:"commission",component:H},{path:"companyPrice",name:"companyPrice",component:Y},{path:"personPrice",name:"personPrice",component:et},{path:"companyPriceInfo",name:"companyPriceInfo",component:nt}]},{path:"/distri_commission",component:p,children:[{path:"",name:"distri_commission",component:st},{path:"maidInfo",name:"maidInfo",component:ct},{path:"commissionApply",name:"commissionApply",component:ut},{path:"updateCommission",name:"updateCommission",component:dt}]},{path:"/distribution",component:p,children:[{path:"",name:"distribution",component:ft},{path:"/fastDistribution",name:"fastDistribution",component:gt},{path:"/addPerson",name:"addPerson",component:Ct},{path:"/choicePeople",name:"choicePeople",component:kt},{path:"/startApply",name:"startApply",component:Pt},{path:"/projectInfo",name:"projectInfo",component:Tt}]}]}),Et=a("uNf3"),Bt=a.n(Et),Mt=a("aozt"),Vt=a.n(Mt),Qt=a("6iV/"),Jt=a.n(Qt),Nt="http://120.27.21.136:2798",Kt=function(t){return function(e){return e?Vt.a.post(Nt+"/"+t,Jt.a.stringify(e)):Vt.a.post(Nt+"/"+t)}},Zt=function(t){return function(e){return e?Vt.a.get(Nt+"/"+t,{params:e}):Vt.a.get(Nt+"/"+t)}};Vt.a.interceptors.response.use(function(t){return t.data}),Vt.a.interceptors.request.use(function(t){var e=localStorage.getItem("token");return""!=e&&(t.headers["ACCESS-ROLE"]="company",t.headers["ACCESS-TOKEN"]=e),t});var zt={gitCode:Kt("company/user/login"),updateAdminState:Zt("company/project/updateAdminState"),getProvinceList:Zt("getProvinceList"),getCityList:Zt("getCityList"),getDistrictList:Zt("getDistrictList"),getCreateProject:Kt("company/project/createProject"),getProjectList:Zt("company/project/getProjectList"),uploadProjectAgreement:function(t){return function(t,e){return Vt.a.post(Nt+"/"+t,e,{headers:{"Content-Type":"multipart/form-data"}})}("company/project/uploadProjectAgreement",t)},getUpdateProjectAdmin:Zt("company/project/updateProjectAdmin"),updateProjectAdmin:Kt("company/project/updateProjectAdmin"),addProjectAdmin:Kt("company/project/addProjectAdmin"),getProjectInfo:Zt("company/project/getProjectInfo"),getTags:Zt("company/project/getProperty_tags"),getUpdateProject:Kt("company/project/updateProject"),reCreateProject:Kt("company/project/reCreateProject"),getBack:Zt("company/project/getBack"),getBusinessInfo:Zt("company/project/getBusinessInfo"),getRefund:Kt("company/project/refund"),getList:Zt("company/distribution/getList"),applyProject:Zt("company/distribution/applyProject"),getAgent:Zt("company/distribution/getAgent"),getAgentInfo:Zt("company/distribution/getAgentInfo"),endAgent:Zt("company/distribution/endAgent"),exAgent:Kt("company/distribution/exAgent"),agentList:Zt("company/distribution/addAgent"),agentAdd:Kt("company/distribution/addAgent"),changeProjectList:Zt("company/distribution/changeProject"),changeProjectAdd:Kt("company/distribution/changeProject"),exPeople:Kt("company/CompanyAgent/ex"),quitPeople:Kt("company/CompanyAgent/quit"),getExList:Zt("company/CompanyAgent/getExList"),getQuitList:Zt("company/CompanyAgent/getQuitList"),getPayrollList:Zt("company/CompanyAgent/getPayrollList"),getExInfo:Zt("company/CompanyAgent/getExInfo"),getQuitInfo:Zt("company/CompanyAgent/getQuitInfo"),getPayrollInfo:Zt("company/CompanyAgent/getPayrollInfo"),getRefuseInfo:Zt("company/CompanyAgent/getRefuseInfo"),getProjectCommissionList:Zt("company/projectCommission/getList"),getCompanyY:Zt("company/projectCommission/getCompanyY"),getCompanyAllInfo:Zt("company/projectCommission/getCompanyAllInfo"),getCompanyAll:Zt("company/projectCommission/getCompanyAll"),getDistributionList:Zt("company/DistributionCommission/getList")};a("Xcu2");r.default.use(Bt.a),r.default.config.productionTip=!1,r.default.prototype.api=zt,new r.default({el:"#app",router:Lt,components:{App:o},template:"<App/>"})},QKcC:function(t,e,a){t.exports=a.p+"static/img/head.0218365.png"},RsWv:function(t,e){},SPOD:function(t,e){},TqNU:function(t,e){},Xcu2:function(t,e){},YX1v:function(t,e){},Z5Pz:function(t,e){},Zi5z:function(t,e){},faAr:function(t,e){},fxDf:function(t,e){},i3JV:function(t,e){},iaxk:function(t,e){},jWOf:function(t,e){},jl6q:function(t,e){},nbzS:function(t,e){},rRoo:function(t,e){},"t+dk":function(t,e){},"t/GX":function(t,e){},utGJ:function(t,e){},wBLe:function(t,e){},wwKk:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAIAAAAVCAYAAABsZT8HAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAaSURBVBhXY7h+/fp/BiBgAhEgMPgZUMDAAACe+wOrgyQ+QQAAAABJRU5ErkJggg=="},xaBm:function(t,e){},xwKD:function(t,e){},ybhN:function(t,e){},zCff:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.45fd6b6b9741a21122bf.js.map