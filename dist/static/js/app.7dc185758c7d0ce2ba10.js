webpackJsonp([1],{"+65L":function(e,t){},"0Hcs":function(e,t){},"1azo":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAjCAYAAAAe2bNZAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkVCQTlBQUE2N0I0QTExRTg5MDlBRDdGMTRBNkUxQkJCIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkVCQTlBQUE3N0I0QTExRTg5MDlBRDdGMTRBNkUxQkJCIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RUJBOUFBQTQ3QjRBMTFFODkwOUFEN0YxNEE2RTFCQkIiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RUJBOUFBQTU3QjRBMTFFODkwOUFEN0YxNEE2RTFCQkIiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5T3d8dAAACM0lEQVR42uyXP0hVURzHPZVU6qA4lA9STAWxxaVwKLGIBw7pkETQ4BItDb6SBF2UBoeI/iw56KuhRsXBTVMcjBwKlEIlkAoEzaFeEFpg3j4/+AkS8e65517zDffAhy/v3XN+93t+59zfudd4npeXK+1AXg612ExsJmg7FGbwxf6NfOQhzL3sKRja78wcg5twLReWSTL7Hb79VzMsyQmo+OvvbfD+0bcMTu6JGQI3IsuQtozbJf0Zdz1SMwQ8i0zAFvRbxk2r+UHGt0diRpYGGdOfSZ6YKZug9HuPNMFbeEqchigycxeKIcUNZoKknP4rSIfeIx3KDLOpQa7CPIEHXJ4Oxr1CXkAd8ZrBuGbmMhyBez7jjY+nx6o3NMtOZs6ojmfp8xOOQmGW7LxBMnAaal2PgxL4CptZ+qyDPL4ffbLzDqpB6tRrFzNGZ26yzFqK3nOL7bOpxdF5z8jAw/A7gkp/UON5rmY+6VKVhjzZ5R6n9PxacjUzoddbQ2blHBwHKZiLrmYmdTapkGZuq46wx345mWHgqtaIalLd67hEl5AWGCXedNjj4AFInegj8JWARuqRZ/AFbtmMMX4fcQRNIHIuVUI33GeWWz5j5KR+ogXxgk1WrMxo8CpkGGS2H+CRnuaZXd2kDJyHTmjQa20YmbTNprH9vMVQEXJH33l3Hvc1fduTllD9ocb7MPI5yNKaoN/a+o6TBHn7K99VVWXDz0pJwMSCy4Y38Yd/bCY2E1H7I8AA0TioSb/ixJEAAAAASUVORK5CYII="},"2znN":function(e,t){},"3IX8":function(e,t){},"3g8w":function(e,t){},"4sLS":function(e,t){},"55+Z":function(e,t){},"5Vzw":function(e,t){},"6AtQ":function(e,t){},"6OuE":function(e,t){},"7IYT":function(e,t){},"7VeV":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAABkCAIAAADCEmNlAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjJGQzUwNzZEN0FCRTExRTg5NDZGRkY0QkNEMDQ2NzVEIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjJGQzUwNzZFN0FCRTExRTg5NDZGRkY0QkNEMDQ2NzVEIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MkZDNTA3NkI3QUJFMTFFODk0NkZGRjRCQ0QwNDY3NUQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MkZDNTA3NkM3QUJFMTFFODk0NkZGRjRCQ0QwNDY3NUQiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5PPAoIAAADjklEQVR42uyda8/pQBSFldKqe+L6/38cQhG0dSnOSpucc+LSl3cuZaz1QYSYdB579l6z22KFYVig1KtIBARN0BRBEzRBUwRN0BRBEzRBUwRN0BRBEzRBUwRN0BRBEzRBUwRtjGwpo0RRtFqt9vv95XKxLMsMNOlcHMdpt9vValVwNEv8uo71eu37Pp5UKpVisYjjMwM0KJ/P58PhgOfdbrfRaOQZ0cfjEZTBdzAYuK5r3pLf7XbT6XQ+nyOobfv3uERz9GazwWOv1zOSMoR5YXZ/Z5ob6HRlmUo5FdI0HlGB8ncdxuRl2juCpgj6SvBqH79heWfBgMLpo5QBNGwoKluz2SyXywQt3wX/H8sgvt1u4dg8z2PqkBbLk8nkNmPgldlsdjqdTIhoRA0cvty+B0wktmftdvv5Y3jkO8Eaoa0zqFWBxjSwbFWM/Dzo7OqnuTaqAm3bNiqP9GFfKmLZrQmRxsUbgUZlF2x3iSuO4+wMrrNzoAq0lShf0FEUZb+rMxRMdh2lUinj3UqlQnsnrWw+WlX4Dmq1GkHLEbzgIwPXarU0bw4N73XU6/U7cy4WNYez+aC9RFcvdjodzd6u8A3du9uip7+j9BWg05NtVw5a/2GY3L3b7XabzebWTS8WC7yILRU2LNrMvq1ukip6HVj1P9axtM0ShuGjA7hcLmEiZBVkcOAWvz4mN9BBEKzXa+nDOo6TARpkl8vl81/wIVEhOYuPCql0R64qR6voKBUyO0Hb7XY8Hv9uGeFT+KyKyFAe0TCwWOZycZ/P50eGAfVtNpsJju/7PoJa0dZcFehyIm11b7VayRqn3+/T3j2M9OxG3Us5RNEJARNAo6DJOgGIcW59N0H/K7yy7DDGUVXGzdhkj0Yj2GdB3PDXsI8fVgw1y0n01suuQBE0QVNvk6OPiT7xDi2URNRD6WcGFF4SJmu3pl+dTuf566FyTh35Xoz8hgevKqJd143j+ENTh4p+qSrQtUSsgXQdBE3QFEETNCUL9PfcnCw4U1HQxvwMys+kxE4IiIJOvX0QBAYjTmcnuIsRBd1oNBDUvu9n3Gv20ekC88LsMMe7VwC/sPTFf+oniqLJZJKmEf2XwypVHMdp9AyHQ8HLxiwp/5WV3m+NoT66l3Q3L3ueJ+XecYt/SkYfTdAUQRM0QVMETdAUQRM0QVMETdAUQRM0QVMETdAUQRM0QVMETdDUa/ojwAD4ln+r49K+JQAAAABJRU5ErkJggg=="},"7bqc":function(e,t){},"7xh0":function(e,t){},"86XM":function(e,t){},"9Z3L":function(e,t){},"9pXq":function(e,t){},BDso:function(e,t){},C0hH:function(e,t){},CRDJ:function(e,t){},DnyK:function(e,t){},EBzG:function(e,t){},"Gcs+":function(e,t){},"Ge+x":function(e,t){},"H+1K":function(e,t){},HHfJ:function(e,t){},HRm1:function(e,t){},JGoV:function(e,t){},JRHJ:function(e,t){},Jby3:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("MVMM"),n={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var i=a("vSla")({name:"App"},n,!1,function(e){a("86XM")},null,null).exports,s=a("zO6J"),o={data:function(){return{activeIndex:"",company_name:"",name:""}},created:function(){this.activeIndex=this.$route.name},mounted:function(){this.name=localStorage.getItem("name"),this.company_name=localStorage.getItem("company_name")},methods:{cancel:function(){this.$router.push({name:"login"})},handleSelect:function(e){this.$router.push({name:e})},menuOpen:function(e){this.handleSelect(e)}}},l={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"box"},[r("div",{staticClass:"title"},[e._m(0),e._v(" "),r("span",{staticClass:"top-name"},[e._v(e._s(e.company_name)+"\n    ")]),e._v(" "),r("span",{staticClass:"top-one"},[e._v("个人名称: "+e._s(e.name)+"\n    ")]),e._v(" "),r("span",{on:{click:e.cancel}},[r("el-button",{staticClass:"top-text",attrs:{type:"text"}},[r("img",{staticClass:"top-img",attrs:{src:a("1azo")}}),e._v("退出")])],1)]),e._v(" "),r("el-menu",{staticClass:"sidebar-menu",attrs:{"default-active":e.activeIndex},on:{open:e.menuOpen,close:e.menuOpen}},[r("el-menu-item",{staticClass:"text",attrs:{index:"project"},on:{click:function(t){e.handleSelect("project")}}},[r("i",{staticClass:"icon-project"}),e._v("项目管理")]),e._v(" "),r("el-menu-item",{staticClass:"text",attrs:{index:"distribution"},on:{click:function(t){e.handleSelect("distribution")}}},[r("i",{staticClass:"icon-distribution"}),e._v("分销管理")]),e._v(" "),r("el-menu-item",{staticClass:"text",attrs:{index:"peopleProject"},on:{click:function(t){e.handleSelect("peopleProject")}}},[r("i",{staticClass:"icon-peopleProject"}),e._v("全民项目管理")]),e._v(" "),r("el-menu-item",{staticClass:"text",attrs:{index:"commission"},on:{click:function(t){e.handleSelect("commission")}}},[r("i",{staticClass:"icon-commission"}),e._v("项目佣金管理")]),e._v(" "),r("el-menu-item",{staticClass:"text",attrs:{index:"distri_commission"},on:{click:function(t){e.handleSelect("distri_commission")}}},[r("i",{staticClass:"icon-distri_commission"}),e._v("分销佣金管理")]),e._v(" "),r("el-submenu",{attrs:{index:""}},[r("template",{slot:"title"},[r("span",{staticClass:"delent"},[r("i",{staticClass:"icon-agent"}),e._v("经纪人管理")])]),e._v(" "),r("el-menu-item",{staticClass:"people",attrs:{index:"agent"},on:{click:function(t){e.handleSelect("agent")}}},[e._v("在职经纪人")]),e._v(" "),r("el-menu-item",{staticClass:"people",attrs:{index:"examinePeople"},on:{click:function(t){e.handleSelect("examinePeople")}}},[e._v("审核经纪人")]),e._v(" "),r("el-menu-item",{staticClass:"people",attrs:{index:"quitPeople"},on:{click:function(t){e.handleSelect("quitPeople")}}},[e._v("离职经纪人")])],2)],1)],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("span",{staticClass:"tou"},[t("img",{staticClass:"img",attrs:{src:a("iQH9")}})])}]};var c={data:function(){return{}},components:{VueSideBar:a("vSla")(o,l,!1,function(e){a("WxBh"),a("7xh0")},"data-v-7fb27ba4",null).exports}},p={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("vue-side-bar"),this._v(" "),t("div",{staticClass:"wrapper"},[t("div",{staticClass:"wrapper-inner"},[t("router-view")],1)])],1)},staticRenderFns:[]};var u=a("vSla")(c,p,!1,function(e){a("EBzG")},"data-v-35966d99",null).exports,m=a("lC5x"),d=a.n(m),_=a("J0Oq"),b=a.n(_),v={data:function(){return{submitForm:{account:"",password:""}}},mounted:function(){var e=this;window.onkeydown=function(t){"13"==t.keyCode&&e.login()}},methods:{login:function(){var e=this;return b()(d.a.mark(function t(){var a;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(""!=e.submitForm.account){t.next=3;break}return e.$message({type:"error",message:"请输入账号"}),t.abrupt("return");case 3:if(""!=e.submitForm.password){t.next=6;break}return e.$message({type:"error",message:"请输入密码"}),t.abrupt("return");case 6:if(!(e.submitForm.password.length>20)){t.next=9;break}return e.$message({type:"error",message:"密码长度必须小于20个字符"}),t.abrupt("return");case 9:if(!(e.submitForm.account.length>20)){t.next=12;break}return e.$message({type:"error",message:"账号长度必须小于20个字符"}),t.abrupt("return");case 12:return localStorage.setItem("token",""),t.next=15,e.api.gitCode(e.submitForm);case 15:200==(a=t.sent).code&&(e.$router.push({name:"project"}),localStorage.setItem("name",a.data.name),localStorage.setItem("company_name",a.data.company_name),localStorage.setItem("token",a.data.token));case 17:case"end":return t.stop()}},t,e)}))()}}},f={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login"},[a("div",{staticClass:"title"},[e._m(0),e._v(" "),a("div",{staticClass:"input-row"},[a("el-input",{staticClass:"input",attrs:{placeholder:"请输入账号"},model:{value:e.submitForm.account,callback:function(t){e.$set(e.submitForm,"account",t)},expression:"submitForm.account"}})],1),e._v(" "),a("div",{staticClass:"input-row"},[a("el-input",{staticClass:"input",attrs:{type:"password",placeholder:"请输入密码"},model:{value:e.submitForm.password,callback:function(t){e.$set(e.submitForm,"password",t)},expression:"submitForm.password"}})],1),e._v(" "),a("el-button",{staticClass:"button",attrs:{type:"primary",round:""},on:{click:e.login}},[e._v("登陆")]),e._v(" "),e._m(1),e._v(" "),a("div",{staticClass:"bottom-info"},[e._v("技术支持由云算科技有限公司提供 www.ccsoft.com.cn 全国热线：400-0809-202")])],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"input-row"},[t("img",{staticClass:"input-img",attrs:{src:a("caCr")}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"bottom-text"},[t("span",{staticClass:"text1"},[this._v("忘记密码?注册")]),this._v(" "),t("span",{staticClass:"text2"},[this._v("用户手册")])])}]};var h=a("vSla")(v,f,!1,function(e){a("uEAy"),a("rPJS")},"data-v-f44e39ca",null).exports,g={data:function(){return{searchObj:{search:"",tag_search:"",page:1},tipActiveIndex:0,pageSize:0,name:"",company_name:"",total:0,tableData:[],operationType:0}},mounted:function(){this.getProjectList()},methods:{getIndex:function(e){return e.$index+1+(this.searchObj.page-1)*this.pageSize},clickTip:function(e){this.tipActiveIndex=e,this.searchObj.tag_search=e,this.search()},search:function(){this.searchObj.page=1,this.getProjectList()},getProjectList:function(){var e=this;return b()(d.a.mark(function t(){var a;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.api.getProjectList(e.searchObj);case 2:200==(a=t.sent).code&&(e.tableData=a.data.data,e.total=a.data.total,e.pageSize=a.data.per_page);case 4:case"end":return t.stop()}},t,e)}))()},projectState:function(e){return 0==e?"未管理":1==e?"管理中":2==e?"已转新房":3==e?"已转二手房":void 0},authenticationState:function(e){return 0==e?"未认证":1==e?"已认证":void 0},scopeState:function(e){return 1==e?"自行申请":2==e?"平台分配":void 0},auditingState:function(e){return 0==e?"拒绝":1==e?"通过":2==e?"待审核":void 0},pageChange:function(e){this.searchObj.page=e,this.getProjectList()},showAdd:function(e,t){var a=this;return b()(d.a.mark(function r(){return d.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:0==e?a.$router.push({name:"addProject",params:{operationType:e}}):1==e?a.$router.push({name:"addProject",params:{operationType:e,project_id:t.project_id}}):2==e?(console.log(t),a.$router.push({name:"addProject",params:{operationType:e,project_id:t.project_id}})):3==e&&a.$router.push({name:"reCreateProject",params:{operationType:e,project_id:t.project_id}});case 1:case"end":return r.stop()}},r,a)}))()}}},y={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"box project"},[a("div",{staticClass:"title"},[a("div",{staticClass:"left"},[a("div",{staticClass:"tab-block"},[a("div",{staticClass:"text1"},[e._v("当前位置：项目管理")]),e._v(" "),a("div",{staticClass:"tab-block-inner"},[a("el-input",{staticClass:"query",attrs:{placeholder:"可按项目编号/项目名称进行查询"},model:{value:e.searchObj.search,callback:function(t){e.$set(e.searchObj,"search",t)},expression:"searchObj.search"}}),e._v(" "),a("el-button",{attrs:{icon:"el-icon-search",circle:""},on:{click:e.search}}),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.showAdd(0)}}},[e._v("新增")])],1)]),e._v(" "),a("div",[a("el-button",{staticClass:"tip",class:0==e.tipActiveIndex?"active":"",attrs:{type:"text"},on:{click:function(t){e.clickTip(0)}}},[e._v("全部")]),e._v(" "),a("el-button",{staticClass:"tip",class:1==e.tipActiveIndex?"active":"",attrs:{type:"text"},on:{click:function(t){e.clickTip(1)}}},[e._v("待审核")]),e._v(" "),a("el-button",{staticClass:"tip",class:2==e.tipActiveIndex?"active":"",attrs:{type:"text"},on:{click:function(t){e.clickTip(2)}}},[e._v("审核不通过")]),e._v(" "),a("el-button",{staticClass:"tip",class:3==e.tipActiveIndex?"active":"",attrs:{type:"text"},on:{click:function(t){e.clickTip(3)}}},[e._v("未认证")]),e._v(" "),a("el-button",{staticClass:"tip",class:4==e.tipActiveIndex?"active":"",attrs:{type:"text"},on:{click:function(t){e.clickTip(4)}}},[e._v("已认证")]),e._v(" "),a("el-button",{staticClass:"tip",class:5==e.tipActiveIndex?"active":"",attrs:{type:"text"},on:{click:function(t){e.clickTip(5)}}},[e._v("已转出")])],1)])]),e._v(" "),[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{prop:"",label:"序号",align:"center",width:"70px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.getIndex(t)))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"project_code",label:"项目编号",align:"center",width:"90px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"project_name",label:"项目名称",align:"center",width:"140px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"state",label:"项目状态",align:"center",width:"90px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.projectState(t.row.state)))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"city",label:"区域",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"developer_name",label:"开发商",align:"center",width:"150px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"company_relation",label:"与项目关系",align:"center",width:"150px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"subordinate_company",label:"所属单位",align:"center",width:"200px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"source",label:"来源",align:"center",width:"80px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.scopeState(t.row.source)))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"auth_state",label:"认证状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.authenticationState(t.row.auth_state)))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"check_state",label:"审核状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.auditingState(t.row.check_state)))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"130px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){e.showAdd(2,t.row)}}},[e._v("查看")]),e._v(" "),1==t.row.check_state||2==t.row.check_state?a("el-button",{attrs:{type:"text"},on:{click:function(a){e.showAdd(1,t.row)}}},[e._v("修改")]):e._e(),e._v(" "),0==t.row.check_state?a("el-button",{attrs:{type:"text"},on:{click:function(a){e.showAdd(3,t.row)}}},[e._v("重新申请")]):e._e()]}}])})],1),e._v(" "),a("el-pagination",{staticClass:"page",attrs:{background:"",layout:"prev, pager, next","page-size":e.pageSize,"current-page":e.searchObj.page,total:e.total},on:{"current-change":e.pageChange}})]],2)},staticRenderFns:[]};var x=a("vSla")(g,y,!1,function(e){a("W5cg"),a("ymSd")},"data-v-9488d5fa",null).exports,k={data:function(){return{searchObj:{search:"",page:1},tableData:[],pageSize:0,total:0}},mounted:function(){this.getList()},methods:{getList:function(){var e=this;return b()(d.a.mark(function t(){var a;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.api.getPeopleList(e.searchObj);case 2:200==(a=t.sent).code&&(e.tableData=a.data.data,e.pageSize=a.data.per_page,e.total=a.data.total);case 4:case"end":return t.stop()}},t,e)}))()},showProject:function(e){this.$router.push({name:"peopleProjectInfo",params:{project_id:e.project_id,rule_id:e.rule_id}})},fastDistribution:function(e){this.$router.push({name:"peopleFastDistribution",params:{project_id:e.project_id}})},getIndex:function(e){return e.$index+1+(this.searchObj.page-1)*this.pageSize},search:function(){this.searchObj.page=1,this.getList()},pageChange:function(e){this.searchObj.page=e,this.getList()}}},C={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"peopleProject"},[a("div",[a("div",{staticClass:"title"},[a("div",{staticClass:"left"},[a("div",{staticClass:"tab-block"},[a("div",{staticClass:"text1"},[e._v("当前位置：全民项目管理")]),e._v(" "),a("div",{staticClass:"tab-block-inner"},[a("el-input",{staticClass:"query",attrs:{placeholder:"可按项目编号/项目名称进行查询"},model:{value:e.searchObj.search,callback:function(t){e.$set(e.searchObj,"search",t)},expression:"searchObj.search"}}),e._v(" "),a("el-button",{attrs:{icon:"el-icon-search",circle:""},on:{click:e.getList}})],1)])])]),e._v(" "),a("el-table",{staticClass:"mt-30",staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{prop:"",label:"序号",align:"center",width:"70px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.getIndex(t)))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"project_code",label:"项目编号",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"project_name",label:"项目名称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"city",label:"区域",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"is_distribution",label:"分配状态",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"operation",label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){e.showProject(t.row)}}},[e._v("查看")]),e._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){e.fastDistribution(t.row)}}},[e._v("分配到访确认人")])]}}])})],1),e._v(" "),a("el-pagination",{staticClass:"page",attrs:{background:"",layout:"prev, pager, next","page-size":e.pageSize,"current-page":e.searchObj.page,total:e.total},on:{"current-change":e.pageChange}})],1)])},staticRenderFns:[]};var w=a("vSla")(k,C,!1,function(e){a("sai0"),a("2znN")},"data-v-7e3b4056",null).exports,j={data:function(){return{page:1,pageSize:0,total:0,pageSize1:0,total1:0,maintain:[],examine:[],project_id:"",agent_id:"",operationType:0}},mounted:function(){this.project_id=this.$route.params.project_id,this.project_id?this.getAgent():this.$router.push({name:"peopleProject"})},methods:{remove:function(e){var t=this;this.$confirm("此操作将结束到访确认人的权利, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(b()(d.a.mark(function a(){return d.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.api.endAgent({agent_id:e.agent_id});case 2:200==a.sent.code&&(t.$message({type:"success",message:"结束成功!"}),t.getAgent());case 4:case"end":return a.stop()}},a,t)}))).catch(function(){t.$message({type:"info",message:"已取消结束到访确认人的权利"})})},getAgent:function(){var e=this;return b()(d.a.mark(function t(){var a;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.api.getAgent({project_id:e.project_id});case 2:200==(a=t.sent).code&&(e.maintain=a.data.y_info.data,e.examine=a.data.n_info.data,e.total=a.data.y_info.total,e.pageSize=a.data.y_info.per_page,e.total1=a.data.n_info.total,e.pageSize1=a.data.n_info.per_page);case 4:case"end":return t.stop()}},t,e)}))()},getIndex:function(e){return e.$index+1+(this.page-1)*this.pageSize},pageChange:function(e){this.page=e,this.getAgent()},cancel:function(){this.$router.push({name:"peopleProject"})},showAdd:function(e,t){var a=this;return b()(d.a.mark(function r(){return d.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:0==e?a.$router.push({name:"peopleAddPerson",params:{project_id:a.project_id,operationType:e,agent_id:t.agent_id}}):1==e?a.$router.push({name:"peopleAddPerson",params:{agent_id:t.agent_id,operationType:e,project_id:t.project_id,ex_id:t.ex_id}}):2==e&&a.$router.push({name:"peopleAddPerson",params:{agent_id:t.agent_id,operationType:e}});case 1:case"end":return r.stop()}},r,a)}))()},state:function(e){return 0==e?"禁用":1==e?"正常":void 0},authenticationState:function(e){return 2==e?"待审核":0==e?"未通过 ":1==e?"审核通过 ":void 0},addShow:function(){this.$router.push({name:"peopleAddPerson",params:{project_id:this.project_id}})}}},F={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"fastDistribution"},[a("div",{staticClass:"table"},[a("div",{staticClass:"title"},[a("div",{staticClass:"text"},[e._v("到访确认人维护信息")]),e._v(" "),a("span",{staticClass:"search"},[a("el-button",{staticClass:"addBtn",attrs:{type:"primary"},on:{click:e.addShow}},[e._v("新增")]),e._v(" "),a("el-button",{staticClass:"addBtn",attrs:{type:"primary"},on:{click:e.cancel}},[e._v("关闭")])],1)]),e._v(" "),a("el-table",{attrs:{data:e.maintain,border:""}},[a("el-table-column",{attrs:{prop:"nub",label:"序号",align:"center",width:"70px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.getIndex(t)))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"account",label:"云算号",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"名称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"tel",label:"联系方式",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"department",label:"所属部门",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"position",label:"职位",align:"center",width:"120px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"entry_time",label:"入职时间",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"分配时间",align:"center",width:"160px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"state",label:"状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.state(t.row.state)))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"operation",label:"操作",align:"center",width:"140px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){e.showAdd(0,t.row)}}},[e._v("查看")]),e._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){e.remove(t.row)}}},[e._v("结束")])]}}])})],1),e._v(" "),a("el-pagination",{staticClass:"page",attrs:{background:"",layout:"prev, pager, next","page-size":e.pageSize,"current-page":e.page,total:e.total},on:{"current-change":e.pageChange}})],1)])},staticRenderFns:[]};var A=a("vSla")(j,F,!1,function(e){a("CRDJ"),a("pUAJ")},"data-v-12c38c64",null).exports,$=a("aA9S"),I=a.n($),S={data:function(){return{submitForm:{entry_time:"",tabsolute_addressel:"",birth:"",tel:"",sex:"",position:"",department:"",account:"",name:"",project_id:"",agent_id:"",fp_name:"",fp_time:"",remark:"",ex_id:"",type:0},remark:"",refuseInfo:!1,operationType:0}},mounted:function(){this.operationType=this.$route.params.operationType,this.ex_id=this.$route.params.ex_id,this.type=this.$route.params.type,this.project_id=this.$route.params.project_id,this.agent_id=this.$route.params.agent_id,(this.agent_id||this.$route.params.agentInfo)&&(void 0===this.$route.params.agentInfo?this.getAgentInfo():(this.agent_id=this.$route.params.agentInfo.agent_id,this.getAgentInfo()))},methods:{exAgent:function(e){var t=this;return b()(d.a.mark(function a(){var r;return d.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(t.submitForm.type=e,(r=I()({},t.submitForm)).agent_id=t.agent_id,r.ex_id=t.ex_id,r.project_id=t.project_id,r.type=e,r.remark=t.remark,0!=e){a.next=15;break}return t.refuseInfo=!0,a.next=11,t.api.exAgent(r);case 11:200==a.sent.code&&(t.close(),t.cancelRefuseInfo(),t.getAgentInfo()),a.next=16;break;case 15:t.$confirm("此操作将审核成功, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(b()(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.api.exAgent(r);case 2:200==e.sent.code&&(t.$message({type:"success",message:"审核成功!"}),t.close(),t.cancelRefuseInfo(),t.getAgentInfo());case 4:case"end":return e.stop()}},e,t)}))).catch(function(){t.$message({type:"info",message:"已取消审核"})});case 16:case"end":return a.stop()}},a,t)}))()},cancelRefuseInfo:function(){this.refuseInfo=!1,this.remark=""},sumbit:function(){var e=this;return b()(d.a.mark(function t(){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.submitForm.project_id=e.project_id,e.submitForm.agent_id=e.agent_id,t.next=4,e.api.agentAdd(e.submitForm);case 4:200==t.sent.code&&(e.$message({type:"success",message:"选择到访确认人成功!"}),e.$route.params.backUrl?e.$router.push({name:e.$route.params.backUrl,params:e.$route.params}):e.$router.push({name:"peopleFastDistribution",params:{submitForm:e.submitForm}}));case 6:case"end":return t.stop()}},t,e)}))()},isDisable:function(){return 1!=this.operationType&&(0!=this.operationType&&2!=this.operationType)},getAgentInfo:function(){var e=this;return b()(d.a.mark(function t(){var a;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.api.getAgentInfo({agent_id:e.agent_id});case 2:200==(a=t.sent).code&&I()(e.submitForm,a.data);case 4:case"end":return t.stop()}},t,e)}))()},sex:function(e){return 1==e?"男":2==e?"女":0==e?"未设置":void 0},choice:function(){this.$router.push({name:"peopleChoicePeople",params:{project_id:this.project_id}})},close:function(){this.$router.push({name:"peopleFastDistribution",params:this.$route.params})}}},T={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"addPerson"},[a("div",{staticClass:"box"},[a("span",{staticClass:"num_set"},[e._v("到访确认人信息")]),e._v(" "),a("span",{staticClass:"btn"},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:0!=e.operationType,expression:"operationType!=0"}],attrs:{type:"primary"},on:{click:e.sumbit}},[e._v("确定")]),e._v(" "),1==e.operationType?a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.exAgent(1)}}},[e._v("审核通过")]):e._e(),e._v(" "),1==e.operationType?a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.exAgent(0)}}},[e._v("审核不通过")]):e._e(),e._v(" "),a("el-button",{staticClass:"btn-1",on:{click:e.close}},[e._v("返回")])],1),e._v(" "),a("el-form",{model:{value:e.submitForm,callback:function(t){e.submitForm=t},expression:"submitForm"}},[a("el-form-item",{staticClass:"input1"},[a("div",[e._v("到访确认人")]),e._v(" "),a("div",{staticClass:"border"},[e._v(e._s(e.submitForm.name))])]),e._v(" "),a("span",[0!=e.operationType?a("el-button",{staticClass:"button",attrs:{type:"primary"},on:{click:e.choice}},[e._v("选择")]):e._e()],1),e._v(" "),a("div",{staticClass:"num_set"},[e._v("员工信息")]),e._v(" "),a("el-form",{model:{value:e.submitForm,callback:function(t){e.submitForm=t},expression:"submitForm"}},[a("el-form-item",{staticClass:"input1"},[a("div",[e._v("姓名")]),e._v(" "),a("div",{staticClass:"border"},[e._v(e._s(e.submitForm.name))])]),e._v(" "),a("el-form-item",{staticClass:"input1"},[a("div",[e._v("入职时间")]),e._v(" "),a("div",{staticClass:"border"},[e._v(e._s(e.submitForm.entry_time))])]),e._v(" "),a("el-form-item",{staticClass:"input1"},[a("div",[e._v("云算号")]),e._v(" "),a("div",{staticClass:"border"},[e._v(e._s(e.submitForm.account))])]),e._v(" "),a("el-form-item",{staticClass:"input1"},[a("div",[e._v("所属部门")]),e._v(" "),a("div",{staticClass:"border"},[e._v(e._s(e.submitForm.department))])]),e._v(" "),a("el-form-item",{staticClass:"input1"},[a("div",[e._v("职位")]),e._v(" "),a("div",{staticClass:"border"},[e._v(e._s(e.submitForm.position))])]),e._v(" "),a("div",{staticClass:"num_set"},[e._v("基础信息")]),e._v(" "),a("el-form-item",{staticClass:"input1"},[a("div",[e._v("性别")]),e._v(" "),a("div",{staticClass:"border"},[e._v("\n            "+e._s(e.sex(e.submitForm.sex))+"\n          ")])]),e._v(" "),a("el-form-item",{staticClass:"input1"},[a("div",[e._v("电话号码")]),e._v(" "),a("div",{staticClass:"border"},[e._v(e._s(e.submitForm.tel))])]),e._v(" "),a("el-form-item",{staticClass:"input1"},[a("div",[e._v("出生年月")]),e._v(" "),a("div",{staticClass:"border"},[e._v(e._s(e.submitForm.birth))])]),e._v(" "),a("el-form-item",{staticClass:"input1"},[a("div",[e._v("通讯地址")]),e._v(" "),a("div",{staticClass:"border width"},[e._v(e._s(e.submitForm.province+e.submitForm.district+e.submitForm.city+e.submitForm.absolute_address))])]),e._v(" "),0==e.operationType?a("div",[a("div",{staticClass:"num_set"},[e._v("分配信息")]),e._v(" "),a("el-form-item",{staticClass:"input1"},[a("div",[e._v("分配人")]),e._v(" "),a("div",{staticClass:"border"},[e._v(e._s(e.submitForm.fp_name))])]),e._v(" "),a("el-form-item",{staticClass:"input1"},[a("div",[e._v("分配时间")]),e._v(" "),a("div",{staticClass:"border"},[e._v(e._s(e.submitForm.fp_time))])]),e._v(" "),a("el-form-item",{staticClass:"input1-br"},[a("div",[e._v("备注")]),e._v(" "),a("div",{staticClass:"border width-1"},[e._v(e._s(e.submitForm.remark))])])],1):e._e()],1)],1),e._v(" "),a("el-dialog",{staticClass:"dialog",attrs:{title:"拒绝",visible:e.refuseInfo},on:{"update:visible":function(t){e.refuseInfo=t},close:e.cancelRefuseInfo}},[a("el-form",[a("el-form-item",{attrs:{label:"审核不通过原因"}},[a("el-input",{staticClass:"textarea",attrs:{type:"textarea"},model:{value:e.remark,callback:function(t){e.remark=t},expression:"remark"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancelRefuseInfo}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.exAgent(0)}}},[e._v("确 定")])],1)],1)],1)])},staticRenderFns:[]};var R=a("vSla")(S,T,!1,function(e){a("HRm1")},"data-v-f039b4a6",null).exports,O={data:function(){return{agentInfo:[],project_id:"",agent_id:"",searchObj:{search:"",page:1},pageSize:0,total:0}},mounted:function(){this.project_id=this.$route.params.project_id,this.agentList()},methods:{getIndex:function(e){return e.$index+1},agentList:function(){var e=this;return b()(d.a.mark(function t(){var a;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.api.agentList(e.searchObj);case 2:200==(a=t.sent).code&&(e.agentInfo=a.data);case 4:case"end":return t.stop()}},t,e)}))()},submit:function(e){this.$router.push({name:"peopleAddPerson",params:{agentInfo:e,agent_id:e.agent_id,project_id:this.project_id}})},close:function(){this.$router.push({name:"peopleAddPerson",params:this.$route.params})}}},P={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"addPerson"},[a("div",{staticClass:"box"},[a("div",{staticClass:"title"},[a("span",{staticClass:"num_set"},[e._v("选择经纪人")]),e._v(" "),a("span",{staticClass:"search-block"},[a("el-input",{staticClass:"query",attrs:{placeholder:"可按云算号/经纪人姓名进行查询"},model:{value:e.searchObj.search,callback:function(t){e.$set(e.searchObj,"search",t)},expression:"searchObj.search"}}),e._v(" "),a("el-button",{attrs:{icon:"el-icon-search",circle:""},on:{click:e.agentList}}),e._v(" "),a("span",{staticClass:"btn"},[a("el-button",{on:{click:e.close}},[e._v("返回")])],1)],1)]),e._v(" "),a("el-table",{attrs:{data:e.agentInfo,border:""}},[a("el-table-column",{attrs:{label:"序号",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.getIndex(t)))]}}])}),e._v(" "),a("el-table-column",{attrs:{property:"account",label:"云算号",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{property:"name",label:"经纪人名称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{property:"tel",label:"联系电话",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"120px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){e.submit(t.row)}}},[e._v("选择")])]}}])})],1)],1)])},staticRenderFns:[]};var D=a("vSla")(O,P,!1,function(e){a("jsfx"),a("nlFm")},"data-v-bf4de158",null).exports,B=a("HzJ8"),E=a.n(B),U={props:["province","city","district","disabled"],computed:{province_id:function(){return this.getCityList(),this.province},city_id:function(){return this.getdistrictList(),this.city},district_id:function(){return this.district}},data:function(){return{provinceOptions:[],cityOptions:[],districtOptions:[]}},mounted:function(){this.getProvinceList()},methods:{getProvinceList:function(){var e=this;return b()(d.a.mark(function t(){var a;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.api.getProvinceList();case 2:200==(a=t.sent).code&&(e.provinceOptions=a.data);case 4:case"end":return t.stop()}},t,e)}))()},getCityList:function(){var e=this;return b()(d.a.mark(function t(){var a;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.province){t.next=3;break}return e.cityOptions=[],t.abrupt("return");case 3:return t.next=5,e.api.getCityList({provinceCode:e.province});case 5:200==(a=t.sent).code&&(e.cityOptions=a.data);case 7:case"end":return t.stop()}},t,e)}))()},getdistrictList:function(){var e=this;return b()(d.a.mark(function t(){var a;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.city){t.next=3;break}return e.districtOptions=[],t.abrupt("return");case 3:return t.next=5,e.api.getDistrictList({cityCode:e.city});case 5:200==(a=t.sent).code&&(e.districtOptions=a.data);case 7:case"end":return t.stop()}},t,e)}))()},changeProvince:function(e){this.$emit("update:province",e),this.$emit("update:city",""),this.$emit("update:district","")},changeCity:function(e){this.$emit("update:city",e),this.$emit("update:district","")},changedistrict:function(e){this.$emit("update:district",e);var t="",a="",r="",n=!0,i=!1,s=void 0;try{for(var o,l=E()(this.provinceOptions);!(n=(o=l.next()).done);n=!0){var c=o.value;c.code==this.province_id&&(t=c.name)}}catch(e){i=!0,s=e}finally{try{!n&&l.return&&l.return()}finally{if(i)throw s}}var p=!0,u=!1,m=void 0;try{for(var d,_=E()(this.cityOptions);!(p=(d=_.next()).done);p=!0){var b=d.value;b.code==this.city_id&&(a=b.name)}}catch(e){u=!0,m=e}finally{try{!p&&_.return&&_.return()}finally{if(u)throw m}}var v=!0,f=!1,h=void 0;try{for(var g,y=E()(this.districtOptions);!(v=(g=y.next()).done);v=!0){var x=g.value;x.code==e&&(r=x.name)}}catch(e){f=!0,h=e}finally{try{!v&&y.return&&y.return()}finally{if(f)throw h}}var k="";k=t.indexOf("市")>-1?t+r:t+a+r,this.$emit("changeDistrict",k)}}},L={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-select",{staticClass:"select-1",attrs:{clearable:"",value:e.province_id,placeholder:"请选择省份",disabled:e.disabled},on:{change:e.changeProvince}},e._l(e.provinceOptions,function(e){return a("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})})),e._v(" "),a("el-select",{staticClass:"select-1",attrs:{clearable:"",value:e.city_id,placeholder:"请选择城市",disabled:e.disabled},on:{change:e.changeCity}},e._l(e.cityOptions,function(e){return a("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})})),e._v(" "),a("el-select",{staticClass:"select-1",attrs:{clearable:"",value:e.district_id,placeholder:"请选择区/县",disabled:e.disabled},on:{change:e.changedistrict}},e._l(e.districtOptions,function(e){return a("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})}))],1)},staticRenderFns:[]};var z=a("vSla")(U,L,!1,function(e){a("TgyJ")},"data-v-e9c9e734",null).exports,M={data:function(){return{submitForm:{province:"",city:"",district:"",project_id:"",rule_id:"",auditProject:{},property_tags:[],state:""},peopleInfo:[],project_id:"",rule_id:"",typeOptions:[],gridData:[]}},mounted:function(){this.project_id=this.$route.params.project_id,this.rule_id=this.$route.params.rule_id,this.$route.params.project_id?(this.getProjectDetail(),this.getType()):this.$router.push({name:"peopleProject"})},methods:{getProjectDetail:function(){var e=this;return b()(d.a.mark(function t(){var a,r,n,i,s,o,l,c,p,u;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(a={}).project_id=e.project_id,a.rule_id=e.rule_id,t.next=5,e.api.getPeopleRole(a);case 5:if(200!=(r=t.sent).code){t.next=33;break}for(I()(e.submitForm,r.data.project),n=r.data.project.property_tags,i=[],s=!0,o=!1,l=void 0,t.prev=13,c=E()(n);!(s=(p=c.next()).done);s=!0)u=p.value,i.push(u.property_tag_id);t.next=21;break;case 17:t.prev=17,t.t0=t.catch(13),o=!0,l=t.t0;case 21:t.prev=21,t.prev=22,!s&&c.return&&c.return();case 24:if(t.prev=24,!o){t.next=27;break}throw l;case 27:return t.finish(24);case 28:return t.finish(21);case 29:console.log(e.submitForm.property_tags),e.submitForm.property_tags=i,e.gridData.push(r.data.broker),e.peopleInfo=r.data.agent;case 33:case"end":return t.stop()}},t,e,[[13,17,21,29],[22,,24,28]])}))()},getType:function(){var e=this;return b()(d.a.mark(function t(){var a;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.api.getTags();case 2:200==(a=t.sent).code&&(e.typeOptions=a.data);case 4:case"end":return t.stop()}},t,e)}))()},getIndex:function(e){return e.$index+1},seeShow:function(e){this.$router.push({name:"peopleRuleOfMaid",params:{project_id:this.$route.params.project_id,rule_id:e.rule_id}})},cancel:function(){this.$router.push({name:"peopleProject"})}},components:{CitySelector:z}},N={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"projectInfo"},[a("div",{staticClass:"title-text"},[e._v("项目分销详情\n    "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancel}},[e._v("关 闭")])],1)]),e._v(" "),a("el-form",{staticClass:"form",attrs:{model:e.submitForm,disabled:"disabled"}},[a("div",[a("el-form-item",{staticClass:"input",attrs:{label:"项目编号"}},[a("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入项目编号"},model:{value:e.submitForm.project_code,callback:function(t){e.$set(e.submitForm,"project_code",t)},expression:"submitForm.project_code"}})],1),e._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"项目名称"}},[a("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入项目名称"},model:{value:e.submitForm.project_name,callback:function(t){e.$set(e.submitForm,"project_name",t)},expression:"submitForm.project_name"}})],1)],1),e._v(" "),a("div",{staticClass:"text"},[e._v("物业类型")]),e._v(" "),a("el-form-item",{attrs:{prop:"property_tags"}},e._l(e.typeOptions,function(t){return a("el-checkbox",{key:t.param_id,attrs:{label:t.param_id},model:{value:e.submitForm.property_tags,callback:function(t){e.$set(e.submitForm,"property_tags",t)},expression:"submitForm.property_tags"}},[e._v(e._s(t.param))])})),e._v(" "),a("div",{staticClass:"text"},[e._v("现住地址")]),e._v(" "),a("el-form-item",[a("city-selector",{attrs:{province:e.submitForm.province,city:e.submitForm.city,district:e.submitForm.district},on:{"update:province":function(t){e.$set(e.submitForm,"province",t)},"update:city":function(t){e.$set(e.submitForm,"city",t)},"update:district":function(t){e.$set(e.submitForm,"district",t)}}}),e._v(" "),a("el-input",{staticClass:"input1",model:{value:e.submitForm.absolute_address,callback:function(t){e.$set(e.submitForm,"absolute_address",t)},expression:"submitForm.absolute_address"}})],1),e._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"项目负责人"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.submitForm.project_hold_name,callback:function(t){e.$set(e.submitForm,"project_hold_name",t)},expression:"submitForm.project_hold_name"}})],1),e._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"联系电话"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.submitForm.project_hold_phone,callback:function(t){e.$set(e.submitForm,"project_hold_phone",t)},expression:"submitForm.project_hold_phone"}})],1),e._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"开发商"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.submitForm.developer_name,callback:function(t){e.$set(e.submitForm,"developer_name",t)},expression:"submitForm.developer_name"}})],1),e._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"结佣单位"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.submitForm.statement_company,callback:function(t){e.$set(e.submitForm,"statement_company",t)},expression:"submitForm.statement_company"}})],1),e._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"所属单位"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.submitForm.subordinate_company,callback:function(t){e.$set(e.submitForm,"subordinate_company",t)},expression:"submitForm.subordinate_company"}})],1),e._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"与项目关系"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.submitForm.company_relation,callback:function(t){e.$set(e.submitForm,"company_relation",t)},expression:"submitForm.company_relation"}})],1)],1),e._v(" "),a("div",[a("div",{staticClass:"title-text"},[e._v("到访确认人信息")]),e._v(" "),a("el-table",{attrs:{data:e.peopleInfo,border:""}},[a("el-table-column",{attrs:{label:"序号",align:"center",width:"70px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.getIndex(t)))]}}])}),e._v(" "),a("el-table-column",{attrs:{property:"account",label:"云算号",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{property:"name",label:"名称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{property:"tel",label:"联系方式",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{property:"department",label:"所属部门",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{property:"position",label:"职位",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{property:"entry_time",label:"入职时间",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{property:"create_time",label:"分配时间",align:"center"}})],1)],1),e._v(" "),a("div",[a("div",{staticClass:"title-text"},[e._v("结佣规则")]),e._v(" "),a("el-table",{attrs:{data:e.gridData,border:""}},[a("el-table-column",{attrs:{prop:"rule_name",label:"规则名称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"plan_start",label:"计划开始执行时间",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"plan_end",label:"计划结束执行时间",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){e.seeShow(t.row)}}},[e._v("查看")])]}}])})],1)],1)],1)},staticRenderFns:[]};var J=a("vSla")(M,N,!1,function(e){a("JGoV"),a("7bqc")},"data-v-5701aacb",null).exports,q={data:function(){return{sumbitForm:{project_docker:"",project_docker_tel:"",sell_docker:"",sell_docker_tel:"",compact_begin:"",compact_end:"",act_start:""},refund:[],dealCommission:[],visitCommission:[],recCommission:[],project_id:"",rule_id:""}},mounted:function(){this.project_id=this.$route.params.project_id,this.rule_id=this.$route.params.rule_id,this.$route.params.rule_id||this.$router.push({name:"peopleProject"}),this.getBrokerAgreement()},methods:{getRuleContract:function(){var e=this;return b()(d.a.mark(function t(){var a;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.api.getRuleContract({rule_id:e.rule_id});case 2:200==(a=t.sent).code&&I()(e.sumbitForm,a.data);case 4:case"end":return t.stop()}},t,e)}))()},fileUpload:function(e){var t=this;return b()(d.a.mark(function a(){var r,n,i,s,o;return d.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(t.fileObject=e,r=!1,(t.fileObject.name.indexOf(".docx")>-1||t.fileObject.name.indexOf(".doc")>-1)&&(r=!0),r){a.next=6;break}return t.$message({type:"error",message:"文件上传格式有误，请上传docx或者doc格式"}),a.abrupt("return");case 6:if(!(e.size/1024/1024>5)){a.next=10;break}return t.$message({type:"error",message:"文件大于5m，请重新上传"}),a.abrupt("return");case 10:return n=t.fileObject.raw,(i=new FormData).append("url",n),a.next=15,t.api.uploadBrokerCommission(i);case 15:200==(s=a.sent).code&&((o={}).uploader=s.data.uploader,o.url=s.data.img_url,o.create_time=s.data.create_time,o.file_name=e.name,t.refund=[],t.refund.push(o),console.log(o),t.addBrokerAgreement());case 17:case"end":return a.stop()}},a,t)}))()},addBrokerAgreement:function(){var e=this;return b()(d.a.mark(function t(){var a;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(a={}).file_name=e.refund[0].file_name,a.file_url=e.refund[0].url,a.uploader=e.refund[0].uploader,a.rule_id=e.rule_id,t.next=7,e.api.addBrokerAgreement(a);case 7:t.sent.code;case 9:case"end":return t.stop()}},t,e)}))()},getPeopleRuleInfo:function(){var e=this;return b()(d.a.mark(function t(){var a;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.api.getPeopleRuleInfo({rule_id:e.rule_id});case 2:200==(a=t.sent).code&&(e.dealCommission=a.data.deal,e.visitCommission=a.data.visit,e.recCommission=a.data.recommend);case 4:case"end":return t.stop()}},t,e)}))()},getBrokerAgreement:function(){var e=this;return b()(d.a.mark(function t(){var a;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.api.getBrokerAgreement({rule_id:e.rule_id});case 2:200==(a=t.sent).code&&(e.refund=a.data),e.getRuleContract(),e.getPeopleRuleInfo();case 6:case"end":return t.stop()}},t,e)}))()},remove:function(e){this.refund.splice(e,1)},getIndex:function(e){return e.$index+1},sumbit:function(){var e,t=this;this.$refs.sumbitForm.validate((e=b()(d.a.mark(function e(a){var r;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=10;break}return(r=I()({},t.sumbitForm)).project_id=t.project_id,r.rule_id=t.rule_id,e.next=6,t.api.addRule(r);case 6:200==e.sent.code&&(t.$message({type:"success",message:"提交成功!"}),t.$router.push({name:"peopleProject"})),e.next=11;break;case 10:return e.abrupt("return",!1);case 11:case"end":return e.stop()}},e,t)})),function(t){return e.apply(this,arguments)}))},addShow:function(){},cancel:function(){this.$router.push({name:"peopleProjectInfo",params:this.$route.params})}}},Q={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ruleOfMaid"},[a("div",{staticClass:"ruleOfMaid-box"},[a("div",{staticClass:"title"},[a("span",{staticClass:"btn"},[a("el-button",{attrs:{type:"primary"},on:{click:e.cancel}},[e._v("关闭")])],1)]),e._v(" "),a("div",{staticClass:"infoform"},[a("div",{staticClass:"text"},[e._v("规则信息")]),e._v(" "),a("el-form",{attrs:{model:e.sumbitForm,disabled:"disabled"}},[a("el-form-item",{staticClass:"input",attrs:{label:"规则名称"}},[a("el-input",{model:{value:e.sumbitForm.rule_name,callback:function(t){e.$set(e.sumbitForm,"rule_name",t)},expression:"sumbitForm.rule_name"}})],1),e._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"合同开始日期"}},[a("el-input",{model:{value:e.sumbitForm.plan_start,callback:function(t){e.$set(e.sumbitForm,"plan_start",t)},expression:"sumbitForm.plan_start"}})],1),e._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"合同截至日期"}},[a("el-input",{model:{value:e.sumbitForm.plan_end,callback:function(t){e.$set(e.sumbitForm,"plan_end",t)},expression:"sumbitForm.plan_end"}})],1),e._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"实际开始日期"}},[a("el-input",{model:{value:e.sumbitForm.act_start,callback:function(t){e.$set(e.sumbitForm,"act_start",t)},expression:"sumbitForm.act_start"}})],1),e._v(" "),a("el-form-item",{staticClass:"input1",attrs:{label:"佣金规则"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.sumbitForm.commission_describe,callback:function(t){e.$set(e.sumbitForm,"commission_describe",t)},expression:"sumbitForm.commission_describe"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"info"},[e._m(0),e._v(" "),a("el-table",{attrs:{data:e.dealCommission,border:""}},[a("el-table-column",{attrs:{label:"序号",align:"center",width:"70px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.getIndex(t)))]}}])}),e._v(" "),a("el-table-column",{attrs:{property:"property_type",label:"物业类型",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{property:"money_type",label:"单位",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{property:"commission_way",label:"提成公式",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{property:"param",label:"参数",align:"center"}})],1)],1),e._v(" "),a("div",{staticClass:"info"},[e._m(1),e._v(" "),a("el-table",{attrs:{data:e.visitCommission,border:""}},[a("el-table-column",{attrs:{label:"序号",align:"center",width:"70px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.getIndex(t)))]}}])}),e._v(" "),a("el-table-column",{attrs:{property:"money_type",label:"单位",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{property:"param",label:"奖励金额（元/套）",align:"center"}})],1)],1),e._v(" "),a("div",{staticClass:"info"},[e._m(2),e._v(" "),a("el-table",{attrs:{data:e.recCommission,border:""}},[a("el-table-column",{attrs:{label:"序号",align:"center",width:"70px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.getIndex(t)))]}}])}),e._v(" "),a("el-table-column",{attrs:{property:"money_type",label:"单位",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{property:"param",label:"奖励金额（元/套）",align:"center"}})],1)],1)])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"title"},[t("div",{staticClass:"text"},[this._v("成交佣金（推荐的客户在该项目购置房源后产生的佣金）")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"title"},[t("div",{staticClass:"text"},[this._v("到访佣金（客户到访后且售楼处确认后产生的佣金")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"title"},[t("div",{staticClass:"text"},[this._v("推荐佣金（经纪人将客户推荐给项目后的佣金）")])])}]};var Z=a("vSla")(q,Q,!1,function(e){a("+65L"),a("Gcs+")},"data-v-1ab1581b",null).exports,G=a("4YfN"),V=a.n(G),W={data:function(){return{rules:{project_name:[{required:!0,message:"请输入项目名称,长度为2-20个字符",change:"change",max:20,min:2}],property_type:[{type:"array",required:!0,message:"请选择物业类型",change:"change"}],statement_company:[{required:!0,message:"请输入结佣单位,长度为2-20个字符",change:"change",max:20,min:2}],province:[{required:!0,message:"请选择具体地址",change:"change"}],absolute_address:[{required:!0,message:"请输入具体地址",change:"change"}],developer_name:[{required:!0,message:"请输入开发商名称,长度为2-20个字符",change:"change",max:20,min:2}],project_hold_name:[{required:!0,message:"请输入负责人姓名,长度为2-5个字符，必须是中文",change:"change",pattern:/[\u4E00-\u9FA5]{2,5}(?:·[\u4E00-\u9FA5]{2,5})*/}],project_hold_phone:[{required:!0,message:"请输入正确的电话号码格式",change:"change",pattern:/^1[34578]\d{9}$/}],company_relation:[{required:!0,message:"请选择公司与项目关系",change:"change"}]},userFormRulesOrigin:{name:[{pattern:/[\u4E00-\u9FA5]{2,5}(?:·[\u4E00-\u9FA5]{2,5})*/,required:!0,message:"请输入管理员姓名，长度为2-5个字符，必须是中文",change:"change"}],account:[{pattern:/^1[34578]\d{9}$/,required:!0,message:"请输入账号，由手机号码构成",change:"change"}],password:[{required:!0,message:"请输入密码，长度在 6-16 个字符",change:"change",min:6,max:16}]},form:{district:"",province:"",city:"",statement_company:"",project_hold_phone:"",latitude:"",longitude:"",project_name:"",absolute_address:"",property_type:[],developer_name:"",project_hold_name:"",company_relation:"",remark:"",project_id:"",check_state:"",project_agreement:[],project_user:[]},map:null,sendata:{},gridData:[],historicalRecords:[],UserShow:[],Enclosure:[],dialogFormVisibleAccounts:!1,showMap:!1,isUserEdit:!1,refundShow:!1,isEditProjectList:!1,paymentRecordTable:!1,auditOptions:[],projectUserForm:{name:"",account:"",password:"",phone:"",state:1},auditing_info:{auditing_name:"",auditing_time:"",auditing_remark:"",auditing_state:""},paymentRecord:[],refund:[],userObj:{},fileObject:{},operationType:0,project:[],typeOptions:[],haveTypeOptions:[],project_history:[],projectHistory:{company_id:"",s_time:"",e_time:"",project_hold_phone:"",project_hold_name:"",company_relation:"",project_id:"",company_name:""},authentication_info:{business_log:[]},businessLogForm:{deposit:"",authentication_state:"",no_price:"",business_log:[{payee:"",drawee:"",contact_name:"",contact_phone:"",create_name:"",create_time:"",price:"",type:""}]},projectAgreement:{file_name:"",url:"",create_name:"",create_time:""},userIndex:0}},computed:{userFormRules:function(){if(""==this.projectUserForm.password&&1==this.operationType&&1==this.isUserEdit){var e=I()({},this.userFormRulesOrigin);return this.isAccountValid=!1,e.password=void 0,e}if(1==this.isUserEdit||0==this.isUserEdit){var t=I()({},this.userFormRulesOrigin);return this.isAccountValid=!0,t}}},mounted:function(){var e=this;this.operationType=this.$route.params.operationType,void 0!==this.operationType?(this.form.project_id=this.$route.params.project_id,this.form.project_id?this.getProjectInfo():this.$nextTick(function(){e.initMap()}),this.getType()):this.$router.push({name:"project"})},methods:{getIndex:function(e){return e.$index+1},requestRefund:function(){var e=this;return b()(d.a.mark(function t(){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.$router.push({name:"requestRefund",params:{operationType:e.$route.params.operationType,project_id:e.$route.params.project_id,allow:e.authentication_info.allow}});case 1:case"end":return t.stop()}},t,e)}))()},seeRequestRefund:function(e){this.$router.push({name:"payRecord",params:{operationType:this.$route.params.operationType,project_id:this.$route.params.project_id,id:e.id,allow:this.authentication_info.allow}})},isDisable:function(){return 0!=this.operationType},isPropertyTypeDisabled:function(e){return 2==this.operationType||0!=this.operationType&&(1==this.operationType&&1==this.form.check_state?this.haveTypeOptions.includes(e.param_id):void 0)},getProjectInfo:function(){var e=this;return b()(d.a.mark(function t(){var a,r,n,i,s,o,l,c;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.api.getProjectInfo({project_id:e.form.project_id});case 2:if(200!=(a=t.sent).code){t.next=33;break}for((r=V()({},a.data.project)).property_type=[],r.project_user=a.data.project_admin,r.project_agreement=a.data.project_agreement,e.authentication_info=a.data.authentication_info,e.auditing_info=a.data.auditing_info,e.project_history=a.data.project_history,e.haveTypeOptions=[],n=!0,i=!1,s=void 0,t.prev=15,o=E()(a.data.project.property_type);!(n=(l=o.next()).done);n=!0)c=l.value,r.property_type.push(c.property_tag_id),e.haveTypeOptions.push(c.property_tag_id);t.next=23;break;case 19:t.prev=19,t.t0=t.catch(15),i=!0,s=t.t0;case 23:t.prev=23,t.prev=24,!n&&o.return&&o.return();case 26:if(t.prev=26,!i){t.next=29;break}throw s;case 29:return t.finish(26);case 30:return t.finish(23);case 31:I()(e.form,r),e.$nextTick(function(){e.initMap(r)});case 33:case"end":return t.stop()}},t,e,[[15,19,23,31],[24,,26,30]])}))()},submit:function(){var e,t=this;this.$refs.ruleForm.validate((e=b()(d.a.mark(function e(a){var r;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=22;break}if(1!=t.operationType){e.next=16;break}return(r={}).project_id=t.form.project_id,r.property_type=t.form.property_type,r.developer_name=t.form.developer_name,r.company_relation=t.form.company_relation,r.project_hold_name=t.form.project_hold_name,r.project_hold_phone=t.form.project_hold_phone,r.statement_company=t.form.statement_company,e.next=12,t.api.getUpdateProject(r);case 12:200==e.sent.code&&(t.$message({type:"success",message:"修改成功"}),setTimeout(function(){t.$router.push({name:"project"})},2e3)),e.next=20;break;case 16:return e.next=18,t.api.getCreateProject(t.form);case 18:200==e.sent.code&&(t.$message({type:"success",message:"新增成功"}),setTimeout(function(){t.$router.push({name:"project"})},2e3));case 20:e.next=23;break;case 22:return e.abrupt("return",!1);case 23:case"end":return e.stop()}},e,t)})),function(t){return e.apply(this,arguments)}))},cancel:function(){this.$router.push({name:"project"})},submitUser:function(){var e=this;return b()(d.a.mark(function t(){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.$refs.projectUserForm.validate(function(){var t=b()(d.a.mark(function t(a){var r,n,i;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!a){t.next=26;break}if(1!=e.operationType){t.next=19;break}if(!e.isUserEdit){t.next=12;break}return e.projectUserForm.project_id=e.form.project_id,r=I()({},e.projectUserForm),t.next=7,e.api.updateProjectAdmin(r);case 7:if(200==t.sent.code){t.next=10;break}return t.abrupt("return");case 10:t.next=19;break;case 12:return e.projectUserForm.project_id=e.form.project_id,n=I()({},e.projectUserForm),t.next=16,e.api.addProjectAdmin(n);case 16:if(200==t.sent.code){t.next=19;break}return t.abrupt("return");case 19:if(i=I()({},e.projectUserForm),e.checkUserAccout(i)){t.next=22;break}return t.abrupt("return");case 22:e.isUserEdit?(e.$message({type:"success",message:"修改成功!"}),I()(e.form.project_user[e.userIndex],i)):(e.$message({type:"success",message:"新增成功!"}),e.form.project_user.push(i)),e.cancelUser(),t.next=27;break;case 26:return t.abrupt("return",!1);case 27:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}},t,e)}))()},removeUser:function(e){this.form.project_user.splice(e,1)},cancelUser:function(){this.dialogFormVisibleAccounts=!1;var e=this.$options.data().projectUserForm;I()(this.projectUserForm,e)},showUser:function(){this.isUserEdit=!1,this.projectUserForm.index=void 0,this.dialogFormVisibleAccounts=!0},editUser:function(e,t){this.isUserEdit=!0,this.dialogFormVisibleAccounts=!0,I()(this.projectUserForm,e),this.userIndex=t},checkUserAccout:function(e){for(var t=0;t<this.form.project_user.length;t++){var a=this.form.project_user[t];if(t!==this.userIndex&&a.account==e.account)return this.$message({type:"error",message:"该账号已存在"}),!1}return!0},enabledDisable:function(e){var t=this;return b()(d.a.mark(function a(){var r;return d.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return(r={}).id=e.id,1==e.state?r.state=0:0==e.state&&(r.state=1),a.next=5,t.api.updateAdminState(r);case 5:200==a.sent.code&&t.getProjectInfo();case 7:case"end":return a.stop()}},a,t)}))()},showState:function(e){return 1==e?"禁用":0==e?"启用":void 0},StateBtn:function(e){return 0==e?"禁用":1==e?"启用":void 0},auditingState:function(e){return 0==e?"拒绝":1==e?"通过":2==e?"待审核":void 0},authenticationType:function(e){return 1==e?"缴纳":2==e?"退款":void 0},projectState:function(e){return 0==e?"禁用":1==e?"管理中":2==e?"已转新房":3==e?"已转二手房":void 0},showUploadFile:function(){document.querySelector(".uploadBtn").click()},fileUpload:function(e){var t=this;return b()(d.a.mark(function a(){var r,n,i,s,o;return d.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(t.fileObject=e,r=!1,(t.fileObject.name.indexOf(".docx")>-1||t.fileObject.name.indexOf(".xlcx")>-1||t.fileObject.name.indexOf(".doc")>-1||t.fileObject.name.indexOf(".jpg")>-1||t.fileObject.name.indexOf(".zip")>-1||t.fileObject.name.indexOf(".rar")>-1||t.fileObject.name.indexOf(".csv")>-1||t.fileObject.name.indexOf(".png")>-1||t.fileObject.name.indexOf(".pdf")>-1)&&(r=!0),r){a.next=6;break}return t.$message({type:"error",message:"文件上传格式有误，请上传docx,doc,xlcx,jpg,zip,rar,csv,png,pdf格式"}),a.abrupt("return");case 6:if(!(e.size/1024/1024>5)){a.next=10;break}return t.$message({type:"error",message:"文件大于5m，请重新上传"}),a.abrupt("return");case 10:return n=t.fileObject.raw,console.log(n),(i=new FormData).append("url",n),a.next=16,t.api.uploadProjectAgreement(i);case 16:200==(s=a.sent).code&&((o={}).create_time=s.data.create_time,o.create_name=s.data.create_name,o.url=s.data.img_url,o.file_name=e.name,t.form.project_agreement=[],t.form.project_agreement.push(o));case 18:case"end":return a.stop()}},a,t)}))()},showMapDetails:function(){document.querySelector(".map").classList.toggle("")},auditStatus:function(){},initMap:function(e){var t=this;if(this.map||(this.map=new BMap.Map("map")),this.map.addControl(new BMap.NavigationControl),this.map.enableScrollWheelZoom(!0),e){var a=new BMap.Point(e.longitude,e.latitude);this.map.centerAndZoom(a,15),this.map.clearOverlays(),this.map.addOverlay(new BMap.Marker(a))}else{a=new BMap.Point(116.404,39.915);this.map.centerAndZoom(a,15)}if(1!=this.operationType&&2!=this.operationType){var r=new BMap.Autocomplete({input:"suggestId",location:this.map});r.addEventListener("onhighlight",function(e){var t,a="",r=e.fromitem.value,n="";e.fromitem.index>-1&&(n=r.province+r.city+r.district+r.street+r.business),a="FromItem<br />index = "+e.fromitem.index+"<br />value = "+n,n="",e.toitem.index>-1&&(n=(r=e.toitem.value).province+r.city+r.district+r.street+r.business),a+="<br />ToItem<br />index = "+e.toitem.index+"<br />value = "+n,(t="searchResultPanel",document.getElementById(t)).innerHTML=a}),r.addEventListener("onconfirm",function(e){console.log(e,e.item.value);var a=e.item.value,r=a.city+a.district+a.business;t.form.absolute_address=r,(new BMap.Geocoder).getPoint(r,function(e){if(e){var a=e.lng,r=e.lat;t.form.longitude=a,t.form.latitude=r,t.map.centerAndZoom(e,16),t.map.addOverlay(new BMap.Marker(e))}else alert("您选择地址没有解析到结果!")},a.city)})}},changeDistrict:function(e){var t=this;(new BMap.Geocoder).getPoint(e,function(e){e&&t.map.centerAndZoom(e,16)})},sumbitRefund:function(){this.refundShow=!0},cancelRefund:function(){this.refundShow=!1},getType:function(){var e=this;return b()(d.a.mark(function t(){var a;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.api.getTags();case 2:200==(a=t.sent).code&&(e.typeOptions=a.data);case 4:case"end":return t.stop()}},t,e)}))()}},components:{CitySelector:z}},Y={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"AddProject"},[a("div",{staticClass:"AddPorject-wrapper"},[a("div",{staticClass:"AddPorject-wrapper-inner"},[a("div",{staticClass:"title-top"},[a("span",[e._v("申请项目信息")]),e._v(" "),a("span",{staticClass:"title-btn"},[0==e.operationType||1==e.operationType?a("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("提交")]):e._e(),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取消")])],1)]),e._v(" "),a("el-form",{ref:"ruleForm",staticClass:"form",attrs:{model:e.form,rules:e.rules}},[a("el-form-item",{staticClass:"input",attrs:{label:"项目名称",prop:"project_name"}},[a("el-input",{attrs:{"auto-complete":"off",disabled:e.isDisable(),placeholder:"请输入项目名称"},model:{value:e.form.project_name,callback:function(t){e.$set(e.form,"project_name",t)},expression:"form.project_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"项目地址",prop:"province"}},[a("city-selector",{attrs:{disabled:e.isDisable(),province:e.form.province,city:e.form.city,district:e.form.district},on:{"update:province":function(t){e.$set(e.form,"province",t)},"update:city":function(t){e.$set(e.form,"city",t)},"update:district":function(t){e.$set(e.form,"district",t)},changeDistrict:e.changeDistrict}})],1),e._v(" "),a("el-form-item",{staticClass:"input",attrs:{prop:"absolute_address"}},[a("el-input",{staticClass:"input-1",attrs:{id:"suggestId","auto-complete":"off",disabled:e.isDisable(),placeholder:"请输入具体地址"},model:{value:e.form.absolute_address,callback:function(t){e.$set(e.form,"absolute_address",t)},expression:"form.absolute_address"}}),e._v(" "),a("div",{staticStyle:{border:"1px solid #C0C0C0",width:"150px",height:"auto",display:"none"},attrs:{id:"searchResultPanel"}})],1),e._v(" "),a("div",{staticClass:"map",attrs:{id:"map"}}),e._v(" "),a("div",{staticClass:"property_type"},[e._v("物业类型")]),e._v(" "),a("el-form-item",{attrs:{prop:"property_type"}},e._l(e.typeOptions,function(t){return a("el-checkbox",{key:t.param_id,attrs:{disabled:e.isPropertyTypeDisabled(t),label:t.param_id},model:{value:e.form.property_type,callback:function(t){e.$set(e.form,"property_type",t)},expression:"form.property_type"}},[e._v(e._s(t.param))])})),e._v(" "),a("el-form-item",{staticClass:"input1",attrs:{label:"开发商",prop:"developer_name"}},[a("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入开发商名称",disabled:2===e.operationType},model:{value:e.form.developer_name,callback:function(t){e.$set(e.form,"developer_name",t)},expression:"form.developer_name"}})],1),e._v(" "),a("el-form-item",{staticClass:"select",attrs:{label:"与项目关系",prop:"company_relation"}},[a("el-radio-group",{attrs:{disabled:2===e.operationType},model:{value:e.form.company_relation,callback:function(t){e.$set(e.form,"company_relation",t)},expression:"form.company_relation"}},[a("el-radio",{attrs:{label:"开发商"}}),e._v(" "),a("el-radio",{attrs:{label:"代理"}}),e._v(" "),a("el-radio",{attrs:{label:"分销"}}),e._v(" "),a("el-radio",{attrs:{label:"渠道"}}),e._v(" "),a("el-radio",{attrs:{label:"其他"}})],1)],1),e._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"结佣单位",prop:"statement_company"}},[a("el-input",{attrs:{disabled:2===e.operationType,"auto-complete":"off",placeholder:"请输入结佣单位名称"},model:{value:e.form.statement_company,callback:function(t){e.$set(e.form,"statement_company",t)},expression:"form.statement_company"}})],1),e._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"项目负责人",prop:"project_hold_name"}},[a("el-input",{attrs:{disabled:2===e.operationType,"auto-complete":"off",placeholder:"请输入项目负责人姓名"},model:{value:e.form.project_hold_name,callback:function(t){e.$set(e.form,"project_hold_name",t)},expression:"form.project_hold_name"}})],1),e._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"联系电话",prop:"project_hold_phone"}},[a("el-input",{attrs:{disabled:2===e.operationType,"auto-complete":"off",placeholder:"请输入联系电话"},model:{value:e.form.project_hold_phone,callback:function(t){e.$set(e.form,"project_hold_phone",t)},expression:"form.project_hold_phone"}})],1),e._v(" "),1==!e.operationType?a("el-form-item",{staticClass:"textarea",attrs:{label:"备注"}},[a("el-input",{attrs:{disabled:2===e.operationType,type:"textarea"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1):e._e()],1),e._v(" "),a("div",{staticClass:"tableIn-btn"},[0==e.operationType||1==e.operationType?a("el-button",{attrs:{type:"primary"},on:{click:e.showUser}},[e._v("新增账号")]):e._e()],1),e._v(" "),a("el-table",{attrs:{data:e.form.project_user,border:""}},[a("el-table-column",{attrs:{property:"account",label:"帐号",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{property:"name",label:"管理员",align:"center"}}),e._v(" "),1==e.operationType?a("el-table-column",{attrs:{property:"state",label:"当前状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(e.showState(t.row.state))+"\n          ")]}}])}):e._e(),e._v(" "),0==e.operationType||1==e.operationType?a("el-table-column",{attrs:{property:"operation",label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){e.editUser(t.row,t.$index)}}},[e._v("修改")]),e._v(" "),0==e.operationType?a("el-button",{attrs:{type:"text"},on:{click:function(a){e.removeUser(t.$index)}}},[e._v("删除")]):e._e(),e._v(" "),0==!e.operationType?a("el-button",{attrs:{type:"text"},on:{click:function(a){e.enabledDisable(t.row)}}},[e._v(e._s(e.StateBtn(t.row.state)))]):e._e()]}}])}):e._e()],1),e._v(" "),a("div",[a("el-upload",{staticClass:"uploadFile",attrs:{"auto-upload":!1,action:"","on-change":e.fileUpload}},[a("el-button",{ref:"uploadBtn",staticClass:"uploadBtn",attrs:{size:"small",type:"primary","show-file-list":!1}},[e._v("点击上传")])],1)],1),e._v(" "),0==e.operationType?a("div",{staticClass:"tableIn-btn"},[a("el-button",{attrs:{type:"primary"},on:{click:e.showUploadFile}},[e._v("附件上传")])],1):e._e(),e._v(" "),a("el-table",{attrs:{data:e.form.project_agreement,border:""}},[a("el-table-column",{attrs:{property:"file_name",label:"文件名称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"附件",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("a",{attrs:{target:"_blank",href:e.base+t.row.url}},[e._v("查看附件")])]}}])}),e._v(" "),a("el-table-column",{attrs:{property:"create_name",label:"上传人员",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{property:"create_time",label:"上传时间",align:"center"}})],1),e._v(" "),1!=e.form.source||0!=e.auditing_info.auditing_state&&1!=e.auditing_info.auditing_state?e._e():a("div",[a("div",{staticClass:"num_set"},[e._v("审核项目信息")]),e._v(" "),a("el-form",{staticClass:"form",attrs:{model:e.form}},[a("el-form-item",{staticClass:"inputAud",attrs:{label:"审核人员"}},[a("el-input",{attrs:{"auto-complete":"off",disabled:e.isDisable()},model:{value:e.auditing_info.auditing_name,callback:function(t){e.$set(e.auditing_info,"auditing_name",t)},expression:"auditing_info.auditing_name"}})],1),e._v(" "),a("el-form-item",{staticClass:"inputAud",attrs:{label:"审核时间"}},[a("el-input",{attrs:{"auto-complete":"off",disabled:e.isDisable()},model:{value:e.auditing_info.auditing_time,callback:function(t){e.$set(e.auditing_info,"auditing_time",t)},expression:"auditing_info.auditing_time"}})],1),e._v(" "),a("el-form-item",{staticClass:"inputAud state",attrs:{label:"审核状态"}},[e._v("\n            "+e._s(e.auditingState(e.auditing_info.auditing_state))+"\n          ")]),e._v(" "),a("el-form-item",{staticClass:"textarea",attrs:{label:"备注"}},[a("el-input",{attrs:{type:"textarea",disabled:e.isDisable()},model:{value:e.auditing_info.auditing_remark,callback:function(t){e.$set(e.auditing_info,"auditing_remark",t)},expression:"auditing_info.auditing_remark"}})],1)],1)],1),e._v(" "),1==e.auditing_info.auditing_state?a("div",[a("div",{staticClass:"num_set"},[e._v("认证信息")]),e._v(" "),a("el-form",{staticClass:"form",model:{value:e.authentication_info,callback:function(t){e.authentication_info=t},expression:"authentication_info"}},[a("el-form-item",{staticClass:"inputAud",attrs:{label:"保证金金额（￥）："}},[a("el-input",{attrs:{"auto-complete":"off",disabled:e.isDisable()},model:{value:e.authentication_info.deposit,callback:function(t){e.$set(e.authentication_info,"deposit",t)},expression:"authentication_info.deposit"}})],1),e._v(" "),a("el-form-item",{staticClass:"inputAud",attrs:{label:"未结佣金总额（￥）："}},[a("el-input",{attrs:{"auto-complete":"off",disabled:e.isDisable()},model:{value:e.authentication_info.no_price,callback:function(t){e.$set(e.authentication_info,"no_price",t)},expression:"authentication_info.no_price"}})],1),e._v(" "),a("el-form-item",{staticClass:"inputAud",attrs:{label:"可退金额（￥）："}},[a("el-input",{attrs:{"auto-complete":"off",disabled:e.isDisable()},model:{value:e.authentication_info.allow,callback:function(t){e.$set(e.authentication_info,"allow",t)},expression:"authentication_info.allow"}})],1),e._v(" "),a("el-form-item",{staticClass:"inputAud state",attrs:{label:"项目状态"}},[e._v("\n            "+e._s(e.projectState(e.authentication_info.auth_state))+"\n          ")]),e._v(" "),a("el-form-item",{staticClass:"request"},[e.authentication_info.deposit>0?a("el-button",{attrs:{type:"primary",disabled:2===e.operationType},on:{click:function(t){e.requestRefund()}}},[e._v("申请退款")]):e._e()],1),e._v(" "),a("div",{staticClass:"num_details"},[e._v("保证金详情")]),e._v(" "),a("el-table",{attrs:{data:e.authentication_info.business_log,border:""}},[a("el-table-column",{attrs:{label:"序号",align:"center",width:"70px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.getIndex(t)))]}}])}),e._v(" "),a("el-table-column",{attrs:{property:"drawee",label:"付款户名",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{property:"payee",label:"收款户名",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{property:"price",label:"金额（￥）",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{property:"contact_name",label:"联系人",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{property:"contact_phone",label:"联系电话",align:"center",width:"120px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"type",label:"类型",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.authenticationType(t.row.type)))]}}])}),e._v(" "),a("el-table-column",{attrs:{property:"create_name",label:"交易人",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{property:"create_time",label:"交易时间",align:"center",width:"150px"}}),e._v(" "),a("el-table-column",{attrs:{property:"operation",label:"操作",align:"center",width:"80px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){e.seeRequestRefund(t.row)}}},[e._v("查看")])]}}])})],1)],1)],1):e._e(),e._v(" "),1==e.auditing_info.auditing_state?a("div",[a("div",{staticClass:"num_set"},[e._v("项目历史")]),e._v(" "),a("el-table",{attrs:{data:e.project_history,border:""}},[a("el-table-column",{attrs:{label:"序号",align:"center",width:"70px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.getIndex(t)))]}}])}),e._v(" "),a("el-table-column",{attrs:{property:"company_name",label:"公司名称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{property:"company_relation",label:"与项目关系",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{property:"s_time",label:"开始时间",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{property:"e_time",label:"结束时间",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{property:"project_hold_name",label:"负责人",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{property:"project_hold_phone",label:"联系方式",align:"center"}})],1)],1):e._e(),e._v(" "),a("el-dialog",{staticClass:"tableUser",attrs:{title:"新建账号",visible:e.dialogFormVisibleAccounts},on:{"update:visible":function(t){e.dialogFormVisibleAccounts=t},close:e.cancelUser}},[a("el-form",{ref:"projectUserForm",attrs:{model:e.projectUserForm,rules:e.userFormRules}},[a("el-form-item",{staticClass:"input",attrs:{label:"设定帐号",prop:"account"}},[a("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入手机号码"},model:{value:e.projectUserForm.account,callback:function(t){e.$set(e.projectUserForm,"account",t)},expression:"projectUserForm.account"}})],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.isAccountValid,expression:"isAccountValid"}],staticClass:"input",attrs:{label:"设定密码",prop:"password"}},[a("el-input",{attrs:{"auto-complete":"off",type:"password",placeholder:"请输入密码"},model:{value:e.projectUserForm.password,callback:function(t){e.$set(e.projectUserForm,"password",t)},expression:"projectUserForm.password"}})],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!e.isAccountValid,expression:"!isAccountValid"}],staticClass:"input",attrs:{label:"设定密码"}},[a("el-input",{attrs:{"auto-complete":"off",type:"password",placeholder:"不设置为之前密码"},model:{value:e.projectUserForm.password,callback:function(t){e.$set(e.projectUserForm,"password",t)},expression:"projectUserForm.password"}})],1),e._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"管理员姓名",prop:"name"}},[a("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入管理员姓名"},model:{value:e.projectUserForm.name,callback:function(t){e.$set(e.projectUserForm,"name",t)},expression:"projectUserForm.name"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancelUser}},[e._v("关 闭")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.submitUser}},[e._v("确 定")])],1)],1)],1)])])},staticRenderFns:[]};var H=a("vSla")(W,Y,!1,function(e){a("9Z3L"),a("9pXq")},"data-v-c16d2e5c",null).exports,X={data:function(){return{rules:{project_name:[{required:!0,message:"请输入项目名称,长度为2-20个字符",change:"change",min:2,max:20}],property_type:[{type:"array",required:!0,message:"请选择物业类型",change:"change"}],statement_company:[{required:!0,message:"请输入结佣单位,长度为2-20个字符",change:"change",min:2,max:20}],province:[{required:!0,message:"请选择具体地址",change:"change"}],absolute_address:[{required:!0,message:"请输入具体地址",change:"change"}],developer_name:[{required:!0,message:"请输入开发商名字,长度为2-20个字符",change:"change",min:2,max:20}],project_hold_name:[{pattern:/[\u4E00-\u9FA5]{2,5}(?:·[\u4E00-\u9FA5]{2,5})*/,required:!0,message:"请输入负责人姓名,长度为2-5个字符，，必须是中文",change:"change"}],project_hold_phone:[{required:!0,message:"请输入正确的电话号码格式",change:"change",pattern:/^1[34578]\d{9}$/}],company_relation:[{required:!0,message:"请选择公司与项目关系",change:"change"}]},userFormRules:{name:[{pattern:/[\u4E00-\u9FA5]{2,5}(?:·[\u4E00-\u9FA5]{2,5})*/,required:!0,message:"请输入管理员姓名，长度在2-5个字符，必须是中文",change:"change"}],account:[{required:!0,message:"请输入账号,由手机号构成",change:"change",pattern:/^1[34578]\d{9}$/}],password:[{required:!0,message:"请输入密码,长度在6-16个字符",change:"change",min:6,max:16}]},form:{district:"",province:"",city:"",statement_company:"",project_hold_phone:"",latitude:"",longitude:"",project_name:"",absolute_address:"",property_type:[],developer_name:"",project_hold_name:"",company_relation:"",remark:"",project_id:"",project_agreement:[],project_user:[]},map:null,sendata:{},gridData:[],historicalRecords:[],UserShow:[],Enclosure:[],dialogFormVisibleAccounts:!1,showMap:!1,isUserEdit:!1,refundShow:!1,isEditProjectList:!1,paymentRecordTable:!1,auditOptions:[],options:[{value:"选项1",label:"区域"}],value:"",projectUserForm:{name:"",account:"",password:"",phone:""},auditing_info:{auditing_name:"",auditing_time:"",auditing_remark:"",check_state:""},paymentRecord:[],refund:[],userObj:{},fileObject:{},operationType:0,addEditDelete:0,project:[],typeOptions:[],project_history:[],projectHistory:{company_id:"",s_time:"",e_time:"",project_hold_phone:"",project_hold_name:"",company_relation:"",project_id:"",company_name:""},authentication_info:{business_log:[]},businessLogForm:{deposit:"",authentication_state:"",no_price:"",business_log:[{payee:"",drawee:"",contact_name:"",contact_phone:"",create_name:"",create_time:"",price:"",type:""}]},projectAgreement:{file_name:"",url:"",create_name:"",create_time:""},userIndex:0}},mounted:function(){var e=this;this.operationType=this.$route.params.operationType,void 0!==this.operationType?(this.form.project_id=this.$route.params.project_id,this.form.project_id?this.getProjectInfo():this.$nextTick(function(){e.initMap()}),this.getType()):this.$router.push({name:"project"})},methods:{getIndex:function(e){return e.$index+1},requestRefund:function(){var e=this;return b()(d.a.mark(function t(){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.$router.push({name:"requestRefund",params:{operationType:e.$route.params.operationType,project_id:e.$route.params.project_id,allow:e.authentication_info.allow}});case 1:case"end":return t.stop()}},t,e)}))()},seeRefund:function(e){var t="";1==e.type?t="payRecord":2==e.type&&(t="refundInfo"),this.$router.push({name:t,params:{operationType:this.$route.params.operationType,project_id:this.$route.params.project_id,id:e.id}})},isDisable:function(){return 3!=this.operationType},getProjectInfo:function(){var e=this;return b()(d.a.mark(function t(){var a,r,n,i,s,o,l,c;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.api.getProjectInfo({project_id:e.form.project_id});case 2:if(200!=(a=t.sent).code){t.next=33;break}for((r=V()({},a.data.project)).property_type=[],r.project_user=a.data.project_admin,r.project_agreement=a.data.project_agreement,e.authentication_info=a.data.authentication_info,e.auditing_info=a.data.auditing_info,e.project_history=a.data.project_history,n=!0,i=!1,s=void 0,t.prev=14,o=E()(a.data.project.property_type);!(n=(l=o.next()).done);n=!0)c=l.value,r.property_type.push(c.property_tag_id);t.next=22;break;case 18:t.prev=18,t.t0=t.catch(14),i=!0,s=t.t0;case 22:t.prev=22,t.prev=23,!n&&o.return&&o.return();case 25:if(t.prev=25,!i){t.next=28;break}throw s;case 28:return t.finish(25);case 29:return t.finish(22);case 30:I()(e.form,r),console.log(r,e.form),e.$nextTick(function(){e.initMap(r)});case 33:case"end":return t.stop()}},t,e,[[14,18,22,30],[23,,25,29]])}))()},submit:function(){var e=this;return b()(d.a.mark(function t(){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.$refs.ruleForm.validate(function(){var t=b()(d.a.mark(function t(a){var r;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!a){t.next=30;break}if(3!=e.operationType){t.next=24;break}return(r={}).project_id=e.form.project_id,r.project_name=e.form.project_name,r.province=e.form.province,r.city=e.form.city,r.district=e.form.district,r.absolute_address=e.form.absolute_address,r.longitude=e.form.longitude,r.latitude=e.form.latitude,r.property_type=e.form.property_type,r.developer_name=e.form.developer_name,r.company_relation=e.form.company_relation,r.project_hold_name=e.form.project_hold_name,r.project_hold_phone=e.form.project_hold_phone,r.remark=e.form.remark,r.statement_company=e.form.statement_company,t.next=20,e.api.reCreateProject(r);case 20:200==t.sent.code&&(e.$message({type:"success",message:"保存成功"}),setTimeout(function(){e.$router.push({name:"project"})},2e3)),t.next=28;break;case 24:return t.next=26,e.api.getCreateProject(e.form);case 26:200==t.sent.code&&(e.$message({type:"success",message:"保存成功"}),setTimeout(function(){e.$router.push({name:"project"})},2e3));case 28:t.next=31;break;case 30:return t.abrupt("return",!1);case 31:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}},t,e)}))()},cancel:function(){this.$router.push({name:"project"})},submitUser:function(){var e=this;return b()(d.a.mark(function t(){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.$refs.projectUserForm.validate(function(){var t=b()(d.a.mark(function t(a){var r,n,i;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!a){t.next=26;break}if(1!=e.operationType){t.next=19;break}if(!e.isUserEdit){t.next=12;break}return e.projectUserForm.project_id=e.form.project_id,r=I()({},e.projectUserForm),t.next=7,e.api.updateProjectAdmin(r);case 7:if(200==t.sent.code){t.next=10;break}return t.abrupt("return");case 10:t.next=19;break;case 12:return e.projectUserForm.project_id=e.form.project_id,n=I()({},e.projectUserForm),t.next=16,e.api.addProjectAdmin(n);case 16:if(200==t.sent.code){t.next=19;break}return t.abrupt("return");case 19:if(i=I()({},e.projectUserForm),e.checkUserAccout(i)){t.next=22;break}return t.abrupt("return");case 22:e.isUserEdit?(e.$message({type:"success",message:"修改成功!"}),I()(e.form.project_user[e.userIndex],i)):(e.$message({type:"success",message:"新增成功!"}),e.form.project_user.push(i)),e.cancelUser(),t.next=27;break;case 26:return t.abrupt("return",!1);case 27:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}},t,e)}))()},removeUser:function(e){this.form.project_user.splice(e,1)},cancelUser:function(){this.dialogFormVisibleAccounts=!1;var e=this.$options.data().projectUserForm;I()(this.projectUserForm,e)},showUser:function(){this.isUserEdit=!1,this.dialogFormVisibleAccounts=!0},editUser:function(e,t){this.isUserEdit=!0,this.dialogFormVisibleAccounts=!0,I()(this.projectUserForm,e),this.userIndex=t},checkUserAccout:function(e){for(var t=0;t<this.form.project_user.length;t++){var a=this.form.project_user[t];if(t!==this.userIndex&&a.account==e.account)return this.$message({type:"error",message:"该账号已存在"}),!1}return!0},auditingState:function(e){return 0==e?"拒绝":1==e?"通过":2==e?"待审核":void 0},authenticationType:function(e){return 1==e?"缴纳":2==e?"退款":void 0},projectState:function(e){return 0==e?"禁用":1==e?"管理中":2==e?"已转新房":3==e?"已转二手房":void 0},showUploadFile:function(){document.querySelector(".uploadBtn").click()},fileUpload:function(e){var t=this;return b()(d.a.mark(function a(){var r,n,i,s,o;return d.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(t.fileObject=e,r=!1,(t.fileObject.name.indexOf(".docx")>-1||t.fileObject.name.indexOf(".xlcx")>-1||t.fileObject.name.indexOf(".doc")>-1||t.fileObject.name.indexOf(".jpg")>-1||t.fileObject.name.indexOf(".zip")>-1||t.fileObject.name.indexOf(".rar")>-1||t.fileObject.name.indexOf(".csv")>-1||t.fileObject.name.indexOf(".png")>-1||t.fileObject.name.indexOf(".pdf")>-1)&&(r=!0),r){a.next=6;break}return t.$message({type:"error",message:"文件上传格式有误，请上传docx,doc,xlcx,jpg,zip,rar,csv,png,pdf格式"}),a.abrupt("return");case 6:if(!(e.size/1024/1024>5)){a.next=10;break}return t.$message({type:"error",message:"文件大于5m，请重新上传"}),a.abrupt("return");case 10:return n=t.fileObject.raw,(i=new FormData).append("url",n),a.next=15,t.api.uploadProjectAgreement(i);case 15:200==(s=a.sent).code&&((o={}).create_time=s.data.create_time,o.create_name=s.data.create_name,o.url=s.data.img_url,o.file_name=e.name,t.form.project_agreement=[],t.form.project_agreement.push(o)),t.getProjectList();case 18:case"end":return a.stop()}},a,t)}))()},showMapDetails:function(){document.querySelector(".map").classList.toggle("active")},auditStatus:function(){},initMap:function(e){var t=this;if(this.map||(this.map=new BMap.Map("map")),this.map.addControl(new BMap.NavigationControl),this.map.enableScrollWheelZoom(!0),e){var a=new BMap.Point(e.longitude,e.latitude);this.map.centerAndZoom(a,15),this.map.clearOverlays(),this.map.addOverlay(new BMap.Marker(a))}else{a=new BMap.Point(116.404,39.915);this.map.centerAndZoom(a,15)}if(1!=this.operationType&&2!=this.operationType){var r=new BMap.Autocomplete({input:"suggestId",location:this.map});suggestId.value=this.form.absolute_address,r.addEventListener("onhighlight",function(e){var t,a="",r=e.fromitem.value,n="";e.fromitem.index>-1&&(n=r.province+r.city+r.district+r.street+r.business),a="FromItem<br />index = "+e.fromitem.index+"<br />value = "+n,n="",e.toitem.index>-1&&(n=(r=e.toitem.value).province+r.city+r.district+r.street+r.business),a+="<br />ToItem<br />index = "+e.toitem.index+"<br />value = "+n,(t="searchResultPanel",document.getElementById(t)).innerHTML=a}),r.addEventListener("onconfirm",function(e){var a=e.item.value,r=a.city+a.district+a.business;t.form.absolute_address=r,(new BMap.Geocoder).getPoint(r,function(e){if(e){var a=e.lng,r=e.lat;t.form.longitude=a,t.form.latitude=r,t.map.centerAndZoom(e,16),t.map.addOverlay(new BMap.Marker(e))}else alert("您选择地址没有解析到结果!")},a.city)})}},changeDistrict:function(e){var t=this;(new BMap.Geocoder).getPoint(e,function(e){e&&t.map.centerAndZoom(e,16)})},sumbitRefund:function(){this.refundShow=!0},cancelRefund:function(){this.refundShow=!1},getType:function(){var e=this;return b()(d.a.mark(function t(){var a;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.api.getTags();case 2:200==(a=t.sent).code&&(e.typeOptions=a.data);case 4:case"end":return t.stop()}},t,e)}))()}},components:{CitySelector:z}},K={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"AddProject"},[a("div",{staticClass:"AddPorject-wrapper"},[a("div",{staticClass:"title-top"},[a("div",{staticClass:"title"},[e._v("重新申请项目信息")]),e._v(" "),a("span",{staticClass:"title-btn"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("提交")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取消")])],1)]),e._v(" "),a("el-form",{ref:"ruleForm",staticClass:"form",attrs:{model:e.form,rules:e.rules}},[a("el-form-item",{staticClass:"input",attrs:{label:"项目名称",prop:"project_name"}},[a("el-input",{attrs:{"auto-complete":"off",disabled:e.isDisable(),placeholder:"请输入项目名称"},model:{value:e.form.project_name,callback:function(t){e.$set(e.form,"project_name",t)},expression:"form.project_name"}})],1),e._v(" "),a("el-form-item",{staticClass:"select",attrs:{label:"项目地址",prop:"province"}},[a("city-selector",{attrs:{disabled:e.isDisable(),province:e.form.province,city:e.form.city,district:e.form.district},on:{"update:province":function(t){e.$set(e.form,"province",t)},"update:city":function(t){e.$set(e.form,"city",t)},"update:district":function(t){e.$set(e.form,"district",t)},changeDistrict:e.changeDistrict}})],1),e._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"",prop:"absolute_address"}},[a("el-input",{staticClass:"input-1",attrs:{id:"suggestId","auto-complete":"off",disabled:e.isDisable(),placeholder:"请输入具体地址"},model:{value:e.form.absolute_address,callback:function(t){e.$set(e.form,"absolute_address",t)},expression:"form.absolute_address"}}),e._v(" "),a("div",{staticStyle:{border:"1px solid #C0C0C0",width:"150px",height:"auto",display:"none"},attrs:{id:"searchResultPanel"}})],1),e._v(" "),a("div",{staticClass:"map",attrs:{id:"map"}}),e._v(" "),a("div",{staticClass:"property_type"},[e._v("物业类型")]),e._v(" "),a("el-form-item",{attrs:{prop:"property_type"}},e._l(e.typeOptions,function(t){return a("el-checkbox",{key:t.param_id,attrs:{disabled:2===e.operationType,label:t.param_id},model:{value:e.form.property_type,callback:function(t){e.$set(e.form,"property_type",t)},expression:"form.property_type"}},[e._v(e._s(t.param))])})),e._v(" "),a("el-form-item",{staticClass:"input1",attrs:{label:"开发商",prop:"developer_name"}},[a("el-input",{attrs:{disabled:2==e.operationType,"auto-complete":"off",placeholder:"请输入开发商名称"},model:{value:e.form.developer_name,callback:function(t){e.$set(e.form,"developer_name",t)},expression:"form.developer_name"}})],1),e._v(" "),a("el-form-item",{staticClass:"select",attrs:{label:"与项目关系",prop:"company_relation"}},[a("el-radio-group",{attrs:{disabled:2==e.operationType},model:{value:e.form.company_relation,callback:function(t){e.$set(e.form,"company_relation",t)},expression:"form.company_relation"}},[a("el-radio",{attrs:{label:"开发商"}}),e._v(" "),a("el-radio",{attrs:{label:"代理"}}),e._v(" "),a("el-radio",{attrs:{label:"分销"}}),e._v(" "),a("el-radio",{attrs:{label:"渠道"}}),e._v(" "),a("el-radio",{attrs:{label:"其他"}})],1)],1),e._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"结佣单位",prop:"statement_company"}},[a("el-input",{attrs:{disabled:2==e.operationType,"auto-complete":"off",placeholder:"请输入结佣单位名称"},model:{value:e.form.statement_company,callback:function(t){e.$set(e.form,"statement_company",t)},expression:"form.statement_company"}})],1),e._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"项目负责人",prop:"project_hold_name"}},[a("el-input",{attrs:{disabled:2==e.operationType,"auto-complete":"off",placeholder:"请输入项目负责人姓名"},model:{value:e.form.project_hold_name,callback:function(t){e.$set(e.form,"project_hold_name",t)},expression:"form.project_hold_name"}})],1),e._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"联系电话",prop:"project_hold_phone"}},[a("el-input",{attrs:{disabled:2==e.operationType,"auto-complete":"off",placeholder:"请输入联系电话"},model:{value:e.form.project_hold_phone,callback:function(t){e.$set(e.form,"project_hold_phone",t)},expression:"form.project_hold_phone"}})],1),e._v(" "),a("el-form-item",{staticClass:"textarea",attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{disabled:2==e.operationType,type:"textarea"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),e._v(" "),a("div",{staticClass:"tableIn-btn"},[3==e.operationType?a("el-button",{attrs:{type:"primary"},on:{click:e.showUser}},[e._v("新增账号")]):e._e()],1),e._v(" "),a("el-table",{attrs:{data:e.form.project_user,border:""}},[a("el-table-column",{attrs:{property:"account",label:"帐号",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{property:"name",label:"对接人",align:"center"}}),e._v(" "),1==e.operationType||3==e.operationType?a("el-table-column",{attrs:{property:"operation",label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){e.editUser(t.row,t.$index)}}},[e._v("修改")]),e._v(" "),1==e.operationType||3==e.operationType?a("el-button",{attrs:{type:"text"},on:{click:function(a){e.removeUser(t.$index)}}},[e._v("删除")]):e._e()]}}])}):e._e()],1),e._v(" "),a("div",[a("el-upload",{staticClass:"uploadFile",attrs:{"auto-upload":!1,action:"","on-change":e.fileUpload}},[a("el-button",{ref:"uploadBtn",staticClass:"uploadBtn",attrs:{size:"small",type:"primary","show-file-list":!1}},[e._v("点击上传")])],1)],1),e._v(" "),0==e.operationType||3==e.operationType?a("div",{staticClass:"tableIn-btn"},[a("el-button",{attrs:{type:"primary"},on:{click:e.showUploadFile}},[e._v("附件上传")])],1):e._e(),e._v(" "),a("el-table",{attrs:{data:e.form.project_agreement,border:""}},[a("el-table-column",{attrs:{property:"file_name",label:"文件名称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"附件",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("a",{attrs:{target:"_blank",href:e.base+t.row.url}},[e._v("查看附件")])]}}])}),e._v(" "),a("el-table-column",{attrs:{property:"create_name",label:"上传人员",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{property:"create_time",label:"上传时间",align:"center"}})],1),e._v(" "),a("div",[2==e.operationType?a("div",[a("div",{staticClass:"num_set"},[e._v("审核项目信息")]),e._v(" "),a("el-form",{staticClass:"form",attrs:{model:e.form,disabled:e.isDisable()}},[a("el-form-item",{staticClass:"inputAud",attrs:{label:"审核人员"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.auditing_info.auditing_name,callback:function(t){e.$set(e.auditing_info,"auditing_name",t)},expression:"auditing_info.auditing_name"}})],1),e._v(" "),a("el-form-item",{staticClass:"inputAud",attrs:{label:"审核时间"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.auditing_info.auditing_time,callback:function(t){e.$set(e.auditing_info,"auditing_time",t)},expression:"auditing_info.auditing_time"}})],1),e._v(" "),a("el-form-item",{staticClass:"inputAud state",attrs:{label:"审核状态"}},[e._v("\n            "+e._s(e.auditingState(e.auditing_info.check_state))+"\n          ")]),e._v(" "),a("el-form-item",{staticClass:"textarea",attrs:{label:"备注"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.auditing_info.auditing_remark,callback:function(t){e.$set(e.auditing_info,"auditing_remark",t)},expression:"auditing_info.auditing_remark"}})],1)],1)],1):e._e(),e._v(" "),2==e.operationType?a("div",[a("div",{staticClass:"num_set"},[e._v("认证信息")]),e._v(" "),a("el-form",{staticClass:"form",model:{value:e.authentication_info,callback:function(t){e.authentication_info=t},expression:"authentication_info"}},[a("el-form-item",{staticClass:"inputAud",attrs:{label:"保证金金额（￥）："}},[a("el-input",{attrs:{"auto-complete":"off",disabled:e.isDisable()},model:{value:e.authentication_info.deposit,callback:function(t){e.$set(e.authentication_info,"deposit",t)},expression:"authentication_info.deposit"}})],1),e._v(" "),a("el-form-item",{staticClass:"inputAud",attrs:{label:"未结佣金总额（￥）："}},[a("el-input",{attrs:{"auto-complete":"off",disabled:e.isDisable()},model:{value:e.authentication_info.no_price,callback:function(t){e.$set(e.authentication_info,"no_price",t)},expression:"authentication_info.no_price"}})],1),e._v(" "),a("el-form-item",{staticClass:"inputAud",attrs:{label:"可退金额（￥）："}},[a("el-input",{attrs:{"auto-complete":"off",disabled:e.isDisable()},model:{value:e.authentication_info.allow,callback:function(t){e.$set(e.authentication_info,"allow",t)},expression:"authentication_info.allow"}})],1),e._v(" "),a("el-form-item",{staticClass:"inputAud state",attrs:{label:"项目状态"}},[e._v("\n            "+e._s(e.projectState(e.authentication_info.authentication_state))+"\n          ")]),e._v(" "),a("el-form-item",{staticClass:"request"},[e.authentication_info.deposit>0?a("el-button",{attrs:{type:"primary",disabled:2===e.operationType},on:{click:function(t){e.requestRefund()}}},[e._v("申请退款")]):e._e()],1),e._v(" "),a("div",{staticClass:"num_details"},[e._v("保证金详情")]),e._v(" "),a("el-table",{attrs:{data:e.authentication_info.business_log,border:""}},[a("el-table-column",{attrs:{label:"序号",align:"center",width:"70px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.getIndex(t)))]}}])}),e._v(" "),a("el-table-column",{attrs:{property:"drawee",label:"付款户名",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{property:"payee",label:"收款户名",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{property:"price",label:"金额（￥）",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{property:"contact_name",label:"联系人",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{property:"contact_phone",label:"联系电话",align:"center",width:"120px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"type",label:"类型",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.authenticationType(t.row.type)))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"state",label:"状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.auditingState(t.row.state)))]}}])}),e._v(" "),a("el-table-column",{attrs:{property:"create_name",label:"交易人",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{property:"create_time",label:"交易时间",align:"center",width:"150px"}}),e._v(" "),1==e.operationType?a("el-table-column",{attrs:{property:"operation",label:"操作",align:"center",width:"80px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){e.seeRefund(t.row)}}},[e._v("查看")])]}}])}):e._e()],1)],1)],1):e._e(),e._v(" "),2==e.operationType?a("div",{attrs:{disabled:2===e.operationType}},[a("div",{staticClass:"num_set"},[e._v("项目历史")]),e._v(" "),a("el-table",{attrs:{data:e.project_history,border:""}},[a("el-table-column",{attrs:{property:"nub",label:"序号",align:"center",width:"70px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.getIndex(t)))]}}])}),e._v(" "),a("el-table-column",{attrs:{property:"company_name",label:"公司名称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{property:"company_relation",label:"与项目关系",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{property:"s_time",label:"开始时间",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{property:"e_time",label:"结束时间",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{property:"project_hold_name",label:"负责人",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{property:"project_hold_phone",label:"联系方式",align:"center"}})],1)],1):e._e()]),e._v(" "),a("el-dialog",{staticClass:"tableUser",attrs:{title:"新建账号",visible:e.dialogFormVisibleAccounts},on:{"update:visible":function(t){e.dialogFormVisibleAccounts=t},close:e.cancelUser}},[a("el-form",{ref:"projectUserForm",attrs:{model:e.projectUserForm,rules:e.userFormRules}},[a("el-form-item",{staticClass:"input",attrs:{label:"设定帐号",prop:"account"}},[a("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入手机号码"},model:{value:e.projectUserForm.account,callback:function(t){e.$set(e.projectUserForm,"account",t)},expression:"projectUserForm.account"}})],1),e._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"设定密码",prop:"password"}},[a("el-input",{attrs:{"auto-complete":"off",type:"password",placeholder:"请输入密码"},model:{value:e.projectUserForm.password,callback:function(t){e.$set(e.projectUserForm,"password",t)},expression:"projectUserForm.password"}})],1),e._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"管理员",prop:"name"}},[a("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入管理员"},model:{value:e.projectUserForm.name,callback:function(t){e.$set(e.projectUserForm,"name",t)},expression:"projectUserForm.name"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancelUser}},[e._v("关 闭")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.submitUser}},[e._v("确 定")])],1)],1)],1)])},staticRenderFns:[]};var ee=a("vSla")(X,K,!1,function(e){a("gUIO"),a("4sLS")},"data-v-0e0a82b2",null).exports,te={data:function(){return{requestRefund:{project_id:"",price:"",refund_remarks:"",payee:"",payee_account:"",remark:"",payee_bank:""},allow:"",bankOptions:[],rules:{price:[{required:!0,message:"请输入退款金额,必须小于可退金额",change:"change",pattern:/^[0-9]+(.[0-9]{1,2})?$/}],payee:[{required:!0,message:"请输入收款人姓名,长度为2-5个字符",change:"change",pattern:/[\u4E00-\u9FA5]{2,5}(?:·[\u4E00-\u9FA5]{2,5})*/}],payee_account:[{required:!0,message:"请输入正确的银行卡号",change:"change",pattern:/^([1-9]{1})(\d{14}|\d{18})$/}],payee_bank:[{required:!0,message:"请选择收款银行",change:"change"}],refund_remarks:[{required:!0,message:"请输入退款原因,长度为5-255个字符",change:"change",max:255,min:5}]}}},mounted:function(){this.getBankOptions();var e=this.$route.params;void 0===e.project_id&&this.$router.push({name:"project"}),I()(this.requestRefund,e.project_id),this.requestRefund.project_id=e.project_id,this.allow=e.allow},methods:{close:function(){this.$router.push({name:"addProject",params:this.$route.params})},submit:function(){var e=this;return b()(d.a.mark(function t(){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.$refs.requestRefund.validate(function(){var t=b()(d.a.mark(function t(a){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!a){t.next=7;break}return t.next=3,e.api.getRefund(e.requestRefund);case 3:200==t.sent.code&&e.$router.push({name:"addProject",params:e.$route.params}),t.next=8;break;case 7:return t.abrupt("return",!1);case 8:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}},t,e)}))()},getBankOptions:function(e){var t=this;return b()(d.a.mark(function a(){var r;return d.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.api.getBack({param_id:e});case 2:200==(r=a.sent).code&&(t.bankOptions=r.data);case 4:case"end":return a.stop()}},a,t)}))()}}},ae={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"requestRefund"},[a("div",[a("div",{staticClass:"text"},[e._v("\n      申请退款\n      "),a("span",{staticClass:"btn"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("确定")]),e._v(" "),a("el-button",{on:{click:e.close}},[e._v("返回")])],1)]),e._v(" "),a("el-form",{ref:"requestRefund",staticClass:"table",attrs:{model:e.requestRefund,rules:e.rules}},[a("el-form-item",{staticClass:"input1",attrs:{label:"可退金额"}},[a("div",[e._v(" "+e._s(e.allow)+" ")])]),e._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"本次退款金额",prop:"price"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.requestRefund.price,callback:function(t){e.$set(e.requestRefund,"price",t)},expression:"requestRefund.price"}})],1),e._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"收款银行",prop:"payee_bank"}},[a("el-select",{staticClass:"select-1",attrs:{placeholder:"请选择收款银行"},on:{change:e.getBankOptions},model:{value:e.requestRefund.payee_bank,callback:function(t){e.$set(e.requestRefund,"payee_bank",t)},expression:"requestRefund.payee_bank"}},e._l(e.bankOptions,function(e){return a("el-option",{key:e.param_id,attrs:{label:e.param,value:e.param}})}))],1),e._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"收款银行卡号",prop:"payee_account"}},[a("el-input",{staticClass:"input",model:{value:e.requestRefund.payee_account,callback:function(t){e.$set(e.requestRefund,"payee_account",t)},expression:"requestRefund.payee_account"}})],1),e._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"收款人",prop:"payee"}},[a("el-input",{staticClass:"input",model:{value:e.requestRefund.payee,callback:function(t){e.$set(e.requestRefund,"payee",t)},expression:"requestRefund.payee"}})],1),e._v(" "),a("el-form-item",{staticClass:"input1",attrs:{label:"退款原因",prop:"refund_remarks"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.requestRefund.refund_remarks,callback:function(t){e.$set(e.requestRefund,"refund_remarks",t)},expression:"requestRefund.refund_remarks"}})],1),e._v(" "),a("el-form-item",{staticClass:"input1",attrs:{label:"备注"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.requestRefund.remark,callback:function(t){e.$set(e.requestRefund,"remark",t)},expression:"requestRefund.remark"}})],1)],1)],1)])},staticRenderFns:[]};var re=a("vSla")(te,ae,!1,function(e){a("teB4")},null,null).exports,ne={data:function(){return{refund:{id:"",price:""}}},mounted:function(){var e=this.$route.params;this.operationType=e.operationType,void 0!==this.operationType?(this.refund.id=this.$route.params.id,this.refund.id&&this.getBusinessInfo()):this.$router.push({name:"project"})},methods:{getBusinessInfo:function(){var e=this;return b()(d.a.mark(function t(){var a;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.api.getBusinessInfo({id:e.refund.id});case 2:200==(a=t.sent).code&&(e.refund=a.data);case 4:case"end":return t.stop()}},t,e)}))()},cancelRefund:function(){this.$router.push({name:"addProject",params:this.$route.params})}}},ie={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"payRecord"},[a("div",{staticClass:"payRecord-table"},[a("div",{staticClass:"title"},[e._v("缴纳记录")]),e._v(" "),a("div",{staticClass:"box"},[a("el-form",{staticClass:"table",model:{value:e.refund,callback:function(t){e.refund=t},expression:"refund"}},[a("el-form-item",{staticClass:"input1"},[a("div",[e._v("缴纳金额（￥）")]),e._v(" "),a("div",{staticClass:"border"},[e._v(e._s(e.refund.price))])]),e._v(" "),a("el-form-item",{staticClass:"input"},[a("div",[e._v("付款银行")]),e._v(" "),a("div",{staticClass:"border"},[e._v(e._s(e.refund.drawee_bank))])]),e._v(" "),a("el-form-item",{staticClass:"input"},[a("div",[e._v("付款银行卡号")]),e._v(" "),a("div",{staticClass:"border"},[e._v(e._s(e.refund.drawee_account))])]),e._v(" "),a("el-form-item",{staticClass:"input"},[a("div",[e._v("付款户名")]),e._v(" "),a("div",{staticClass:"border"},[e._v(e._s(e.refund.drawee))])]),e._v(" "),a("el-form-item",{staticClass:"input3"},[a("div",[e._v("付款时间")]),e._v(" "),a("div",{staticClass:"border"},[e._v(e._s(e.refund.create_time))])]),e._v(" "),a("el-form-item",{staticClass:"input"},[a("div",[e._v("收款银行")]),e._v(" "),a("div",{staticClass:"border"},[e._v(e._s(e.refund.payee_bank))])]),e._v(" "),a("el-form-item",{staticClass:"input"},[a("div",[e._v("收款银行卡号")]),e._v(" "),a("div",{staticClass:"border"},[e._v(e._s(e.refund.payee_account))])]),e._v(" "),a("el-form-item",{staticClass:"input"},[a("div",[e._v("收款户名")]),e._v(" "),a("div",{staticClass:"border"},[e._v(e._s(e.refund.payee))])]),e._v(" "),a("el-form-item",{staticClass:"input"},[a("div",[e._v("交易人")]),e._v(" "),a("div",{staticClass:"border"},[e._v(e._s(e.refund.create_name))])]),e._v(" "),a("el-form-item",{staticClass:"input"},[a("div",[e._v("联系电话")]),e._v(" "),a("div",{staticClass:"border"},[e._v(e._s(e.refund.contact_phone))])]),e._v(" "),a("el-form-item",{staticClass:"input2"},[a("div",[e._v("备注")]),e._v(" "),a("div",{staticClass:"border"},[e._v(e._s(e.refund.remark))])]),e._v(" "),a("div",{staticClass:"num_set"},[e._v("附件")]),e._v(" "),a("el-table",{attrs:{data:e.refund.file,border:""}},[a("el-table-column",{attrs:{label:"文件名称",prop:"file_name",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"附件",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("a",{attrs:{target:"_blank",href:e.base+t.row.url}},[e._v("查看附件")])]}}])}),e._v(" "),a("el-table-column",{attrs:{property:"create_name",label:"上传人员",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{property:"create_time",label:"上传时间",align:"center"}})],1)],1),e._v(" "),a("div",{staticClass:"cancel",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.cancelRefund}},[e._v("关 闭")])],1)],1)])])},staticRenderFns:[]};var se=a("vSla")(ne,ie,!1,function(e){a("RdQZ")},null,null).exports,oe={data:function(){return{refund:{id:""}}},mounted:function(){var e=this,t=this.$route.params;this.operationType=t.operationType,void 0!==this.operationType?(this.refund.id=this.$route.params.id,this.refund.id?this.getBusinessInfo():this.$nextTick(function(){e.initMap()})):this.$router.push({name:"project"})},methods:{getBusinessInfo:function(){var e=this;return b()(d.a.mark(function t(){var a;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.api.getBusinessInfo({id:e.refund.id});case 2:200==(a=t.sent).code&&(e.refund=a.data);case 4:case"end":return t.stop()}},t,e)}))()},cancelRefund:function(){this.$router.push({name:"addProject",params:this.$route.params})}}},le={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"payRecord"},[a("div",{staticClass:"title"},[e._v("退款信息")]),e._v(" "),a("div",{staticClass:"box"},[a("el-form",{staticClass:"table",model:{value:e.refund,callback:function(t){e.refund=t},expression:"refund"}},[a("el-form-item",{staticClass:"input1",attrs:{label:"退款金额（￥）"}},[a("div",{staticClass:"border"},[e._v(e._s(e.refund.price))])]),e._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"付款银行"}},[a("div",{staticClass:"border"},[e._v(e._s(e.refund.drawee_bank))])]),e._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"付款银行卡号"}},[a("div",{staticClass:"border"},[e._v(e._s(e.refund.drawee_account))])]),e._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"付款户名"}},[a("div",{staticClass:"border"},[e._v(e._s(e.refund.drawee))])]),e._v(" "),a("el-form-item",{staticClass:"input1",attrs:{label:"付款时间"}},[a("div",{staticClass:"border"},[e._v(e._s(e.refund.create_time))])]),e._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"收款银行"}},[a("div",{staticClass:"border"},[e._v(e._s(e.refund.payee_bank))])]),e._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"收款银行卡号"}},[a("div",{staticClass:"border"},[e._v(e._s(e.refund.payee_account))])]),e._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"收款户名"}},[a("div",{staticClass:"border"},[e._v(e._s(e.refund.payee))])]),e._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"交易人"}},[a("div",{staticClass:"border"},[e._v(e._s(e.refund.create_name))])]),e._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"联系电话"}},[a("div",{staticClass:"border"},[e._v(e._s(e.refund.contact_phone))])]),e._v(" "),a("el-form-item",{staticClass:"input2",attrs:{label:"备注"}},[a("div",{staticClass:"border"},[e._v(e._s(e.refund.remark))])]),e._v(" "),a("div",{staticClass:"num_set"},[e._v("附件")]),e._v(" "),a("el-table",{attrs:{data:e.refund.file,border:""}},[a("el-table-column",{attrs:{label:"文件名称",prop:"file_name",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"附件",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("a",{attrs:{target:"_blank",href:e.base+t.row.url}},[e._v("查看附件")])]}}])}),e._v(" "),a("el-table-column",{attrs:{property:"create_name",label:"上传人员",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{property:"create_time",label:"上传时间",align:"center"}})],1)],1),e._v(" "),a("div",{staticClass:"cancel",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.cancelRefund}},[e._v("关 闭")])],1)],1)])},staticRenderFns:[]};var ce=a("vSla")(oe,le,!1,function(e){a("H+1K")},"data-v-5a063550",null).exports,pe={data:function(){return{searchObj:{search:"",page:1},pageSize:0,total:0,tableData:[],dialogFormVisible:!1,showInfo:!1,examinePeople:{name:"",role:"",account:"",department:"",position:"",img_url:"",entry_time:"",project_name:"",sex:"",tel:"",birth:"",tabsolute_addressel:"",slef_desc:"",bank_card:"",bank_name:"",card_url:"",id_card:""},form:{id:null,remark:"",agent_id:""},showImgUrl:!1,showIdCard:!1}},mounted:function(){this.search()},methods:{seeimgUrl:function(){this.showImgUrl=!0},seeIdCard:function(){this.showIdCard=!0},getRole:function(e){return 1==e?"经纪人":2==e?"对接人":void 0},sumbit:function(){var e=this;return b()(d.a.mark(function t(){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.api.quitPeople(e.form);case 2:200==t.sent.code&&(e.$message({type:"success",message:"离职成功"}),e.search(),e.cancel());case 4:case"end":return t.stop()}},t,e)}))()},showSee:function(e){var t=this;return b()(d.a.mark(function a(){var r;return d.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t.showInfo=!0,a.next=3,t.api.getPayrollInfo({agent_id:e.agent_id});case 3:200==(r=a.sent).code&&I()(t.examinePeople,r.data);case 5:case"end":return a.stop()}},a,t)}))()},role:function(e){return 1==e?"新房经纪人":2==e?"项目对接人":void 0},sex:function(e){return 1==e?"男":2==e?"女":0==e?"未设置":void 0},showQuit:function(e){this.form.id=e.id,this.form.agent_id=e.agent_id,this.dialogFormVisible=!0},showCancel:function(){this.showInfo=!1},cancel:function(){I()(this.form,this.$options.data().form),this.dialogFormVisible=!1},pageChange:function(e){this.search(e)},getIndex:function(e){return e.$index+1+(this.searchObj.page-1)*this.pageSize},search:function(e){var t=this;return b()(d.a.mark(function a(){var r;return d.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t.searchObj.page=e||1,a.next=3,t.api.getPayrollList(t.searchObj);case 3:200==(r=a.sent).code&&(t.tableData=r.data.data,t.total=r.data.total,t.pageSize=r.data.per_page);case 5:case"end":return a.stop()}},a,t)}))()}}},ue={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"agent"},[r("div",{staticClass:"title"},[r("div",{staticClass:"left"},[r("div",{staticClass:"text1"},[e._v("当前位置：在职经纪人")]),e._v(" "),r("div",{staticClass:"search-block"},[r("el-input",{staticClass:"query",attrs:{placeholder:"可查询云算号/经纪人姓名"},model:{value:e.searchObj.search,callback:function(t){e.$set(e.searchObj,"search",t)},expression:"searchObj.search"}}),e._v(" "),r("el-button",{attrs:{icon:"el-icon-search",circle:""},on:{click:function(t){e.search()}}})],1)])]),e._v(" "),r("el-table",{staticClass:"mt-20",staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[r("el-table-column",{attrs:{prop:"",label:"序号",align:"center",width:"70px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.getIndex(t)))]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"account",label:"云算号",align:"center",width:"100px"}}),e._v(" "),r("el-table-column",{attrs:{prop:"name",label:"经纪人姓名",align:"center",width:"140px"}}),e._v(" "),r("el-table-column",{attrs:{prop:"tel",label:"联系方式",align:"center",width:"140px"}}),e._v(" "),r("el-table-column",{attrs:{prop:"role",label:"角色",align:"center",width:"110px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.getRole(t.row.role)))]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"project_name",label:"申请项目",align:"center",width:"140px"}}),e._v(" "),r("el-table-column",{attrs:{prop:"department",label:"所属部门",align:"center",width:"140px"}}),e._v(" "),r("el-table-column",{attrs:{prop:"city_name",label:"城市",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{prop:"district_name",label:"区域",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{prop:"entry_time",label:"入职时间",align:"center",width:"140px"}}),e._v(" "),r("el-table-column",{attrs:{label:"操作",align:"center",width:"140px"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"text"},on:{click:function(a){e.showQuit(t.row)}}},[e._v("离职")]),e._v(" "),r("el-button",{attrs:{type:"text"},on:{click:function(a){e.showSee(t.row)}}},[e._v("查看")])]}}])})],1),e._v(" "),r("el-pagination",{staticClass:"page",attrs:{background:"",layout:"prev, pager, next","page-size":e.pageSize,"current-page":e.searchObj.page,total:e.total},on:{"current-change":e.pageChange}}),e._v(" "),r("el-dialog",{staticClass:"dialog",attrs:{title:"离职申请",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t},close:e.cancel}},[r("el-form",{attrs:{model:e.form}},[r("el-form-item",{attrs:{label:"离职原因"}},[r("el-input",{staticClass:"textarea",attrs:{type:"textarea"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),e._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.cancel}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.sumbit}},[e._v("确 定")])],1)],1),e._v(" "),r("el-dialog",{staticClass:"dialog",attrs:{title:"查看详情",visible:e.showInfo},on:{"update:visible":function(t){e.showInfo=t}}},[r("div",{staticClass:"showInfo"},[r("div",{staticClass:"btn"},[r("el-button",{attrs:{type:"primary"},on:{click:e.showCancel}},[e._v("关闭")])],1),e._v(" "),r("div",{staticClass:"num_set"},[e._v("员工信息")]),e._v(" "),r("el-form",{model:{value:e.examinePeople,callback:function(t){e.examinePeople=t},expression:"examinePeople"}},[r("el-form-item",{staticClass:"input1"},[r("div",[e._v("姓名")]),e._v(" "),r("div",{staticClass:"border"},[e._v(e._s(e.examinePeople.name))])]),e._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[e._v("角色")]),e._v(" "),r("div",{staticClass:"border"},[e._v("\n            "+e._s(e.role(e.examinePeople.role))+"\n          ")])]),e._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[e._v("云算号")]),e._v(" "),r("div",{staticClass:"border"},[e._v(e._s(e.examinePeople.account))])]),e._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[e._v("所属部门")]),e._v(" "),r("div",{staticClass:"border"},[e._v(e._s(e.examinePeople.department))])]),e._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[e._v("职位")]),e._v(" "),r("div",{staticClass:"border"},[e._v(e._s(e.examinePeople.position))])]),e._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[e._v("入职时间")]),e._v(" "),r("div",{staticClass:"border"},[e._v(e._s(e.examinePeople.entry_time))])]),e._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[e._v("工牌照片")]),e._v(" "),r("div",{staticClass:"border  img"},[r("span",[e._v("(工牌照片)")]),e._v(" "),r("el-button",{attrs:{type:"text"},on:{click:e.seeimgUrl}},[e._v("点击查看")])],1)]),e._v(" "),r("div",{staticClass:"num_set"},[e._v("基础信息")]),e._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[e._v("性别")]),e._v(" "),r("div",{staticClass:"border"},[e._v("\n            "+e._s(e.sex(e.examinePeople.sex))+"\n          ")])]),e._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[e._v("电话号码")]),e._v(" "),r("div",{staticClass:"border"},[e._v(e._s(e.examinePeople.tel))])]),e._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[e._v("出生年月")]),e._v(" "),r("div",{staticClass:"border"},[e._v(e._s(e.examinePeople.birth))])]),e._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[e._v("通讯地址")]),e._v(" "),r("div",{staticClass:"border1"},[e._v(e._s(e.examinePeople.city_name+e.examinePeople.district_name+e.examinePeople.absolute_address))])]),e._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[e._v("身份证号码")]),e._v(" "),r("div",{staticClass:"border"},[e._v(e._s(e.examinePeople.id_card))])]),e._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[e._v("绑定银行")]),e._v(" "),r("div",{staticClass:"border"},[e._v(e._s(e.examinePeople.bank_name))])]),e._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[e._v("银行卡号")]),e._v(" "),r("div",{staticClass:"border"},[e._v(e._s(e.examinePeople.bank_card))])]),e._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[e._v("证件照片")]),e._v(" "),r("div",{staticClass:"border  img"},[r("span",[e._v("(证件照片为正反两面)")]),e._v(" "),r("el-button",{attrs:{type:"text"},on:{click:e.seeIdCard}},[e._v("点击查看")])],1)]),e._v(" "),r("el-form-item",{staticClass:"input2"},[r("div",[e._v("个人介绍")]),e._v(" "),r("div",{staticClass:"border height"},[e._v(e._s(e.examinePeople.slef_desc))])])],1)],1)]),e._v(" "),r("el-dialog",{attrs:{title:"工牌照照片",visible:e.showImgUrl},on:{"update:visible":function(t){e.showImgUrl=t}}},[e.examinePeople.img_url?r("img",{staticClass:"heightWidth",attrs:{src:this.base+e.examinePeople.img_url}}):r("img",{staticClass:"heightWidth",attrs:{src:a("QKcC")}})]),e._v(" "),r("el-dialog",{staticClass:"showIdCard",attrs:{title:"证件照照片",visible:e.showIdCard},on:{"update:visible":function(t){e.showIdCard=t}}},[e.examinePeople.card_front?r("img",{staticClass:"heightWidth",attrs:{src:this.base+e.examinePeople.card_front}}):r("img",{staticClass:"heightWidth",attrs:{src:a("7VeV")}}),e._v(" "),e.examinePeople.card_back?r("img",{staticClass:"heightWidth",attrs:{src:+e.examinePeople.card_back}}):r("img",{staticClass:"heightWidth",attrs:{src:a("kQan")}})])],1)},staticRenderFns:[]};var me=a("vSla")(pe,ue,!1,function(e){a("c5qK"),a("t/lR")},"data-v-2dfe8d68",null).exports,de={data:function(){return{tableData:[],searchObj:{search:"",page:1},pageSize:0,total:0,companyType:0,personType:0}},mounted:function(){this.getProjectCommissionList()},methods:{companyPrice:function(e,t){0==t?this.$router.push({name:"companyPrice",params:{companyType:t,project_id:e.project_id}}):1==t?this.$router.push({name:"companyPrice",params:{companyType:t,project_id:e.project_id}}):2==t&&this.$router.push({name:"companyPrice",params:{companyType:t,project_id:e.project_id}})},personPrice:function(e,t){0==t?this.$router.push({name:"personPrice",params:{personType:t,project_id:e.project_id}}):2==t&&this.$router.push({name:"personPrice",params:{personType:t,project_id:e.project_id}})},search:function(){this.searchObj.page=1,this.getProjectCommissionList()},getIndex:function(e){return e.$index+1+(this.searchObj.page-1)*this.pageSize},pageChange:function(e){console.log(e),this.searchObj.page=e,this.getProjectCommissionList()},getProjectCommissionList:function(){var e=this;return b()(d.a.mark(function t(){var a;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.api.getProjectCommissionList(e.searchObj);case 2:200==(a=t.sent).code&&(e.tableData=a.data.data,e.total=a.data.total,e.pageSize=a.data.per_page);case 4:case"end":return t.stop()}},t,e)}))()}}},_e={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"commission"},[a("div",{staticClass:"title"},[a("div",{staticClass:"table-title"},[a("div",{staticClass:"text1"},[e._v("当前位置：佣金管理")]),e._v(" "),a("div",{staticClass:"search-block"},[a("el-input",{staticClass:"query",attrs:{placeholder:"可按项目名称进行查询"},model:{value:e.searchObj.search,callback:function(t){e.$set(e.searchObj,"search",t)},expression:"searchObj.search"}}),e._v(" "),a("el-button",{attrs:{icon:"el-icon-search",circle:""},on:{click:e.getProjectCommissionList}})],1)])]),e._v(" "),[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{label:"序号",align:"center",width:"70px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.getIndex(t)))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"project_name",label:"项目名称",align:"center",width:"110px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"city_name",label:"区域",align:"center",width:"80px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"project_hold_name",label:"项目负责人",align:"center",width:"130px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"project_hold_phone",label:"联系方式",align:"center",width:"110px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"company_name",label:"所属单位",align:"center",width:"150px"}}),e._v(" "),a("el-table-column",{attrs:{label:"全部",align:"center"}},[a("el-table-column",{attrs:{prop:"all_all_price",label:"累计金额",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"all_y_price",label:"已结金额",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"all_n_price",label:"未结金额",align:"center"}})],1),e._v(" "),a("el-table-column",{attrs:{label:"公司",align:"center"}},[a("el-table-column",{attrs:{prop:"company_all_price",label:"累计金额",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){e.companyPrice(t.row,0)}}},[e._v(e._s(t.row.company_all_price))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"company_y_price",label:"已结金额",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){e.companyPrice(t.row,1)}}},[e._v(e._s(t.row.company_y_price))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"company_n_price",label:"未结金额",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){e.companyPrice(t.row,2)}}},[e._v(e._s(t.row.company_n_price))])]}}])})],1),e._v(" "),a("el-table-column",{attrs:{label:"全民经纪人",align:"center"}},[a("el-table-column",{attrs:{prop:"person_all_price",label:"累计金额",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){e.personPrice(t.row,0)}}},[e._v(e._s(t.row.person_all_price))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"person_y_price",label:"已结金额",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){e.personPrice(t.row,1)}}},[e._v(e._s(t.row.person_y_price))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"person_n_price",label:"未结金额",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){e.personPrice(t.row,2)}}},[e._v(e._s(t.row.person_n_price))])]}}])})],1)],1),e._v(" "),a("el-pagination",{staticClass:"page",attrs:{background:"",layout:"prev, pager, next","page-size":e.pageSize,"current-page":e.searchObj.page,total:e.total},on:{"current-change":e.pageChange}})]],2)},staticRenderFns:[]};var be=a("vSla")(de,_e,!1,function(e){a("5Vzw"),a("ro75")},"data-v-7eff1a80",null).exports,ve={data:function(){return{tableData:[],searchObj:{search:"",page:1},pageSize:0,total:0,companyType:0,project_id:""}},mounted:function(){this.companyType=this.$route.params.companyType,this.project_id=this.$route.params.project_id,this.project_id?this.getCompanyAll():this.$router.push({name:"commission"})},methods:{pageChange:function(e){this.search(e)},getIndex:function(e){return e.$index+1+(this.searchObj.page-1)*this.pageSize},search:function(){this.searchObj.page=1,this.getCompanyAll()},getCompanyAll:function(){var e=this;return b()(d.a.mark(function t(){var a,r,n;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!=e.companyType){t.next=7;break}return t.next=3,e.api.getCompanyAll({project_id:e.project_id,search:e.searchObj.search});case 3:200==(a=t.sent).code&&(e.tableData=a.data.data,e.total=a.data.total,e.pageSize=a.data.per_page),t.next=19;break;case 7:if(1!=e.companyType){t.next=14;break}return t.next=10,e.api.getCompanyY({project_id:e.project_id,search:e.searchObj.search});case 10:200==(r=t.sent).code&&(e.tableData=r.data.data,e.total=r.data.total,e.pageSize=r.data.per_page),t.next=19;break;case 14:if(2!=e.companyType){t.next=19;break}return t.next=17,e.api.getCompanyNList({project_id:e.project_id,search:e.searchObj.search});case 17:200==(n=t.sent).code&&(e.tableData=n.data.data,e.total=n.data.total,e.pageSize=n.data.per_page);case 19:case"end":return t.stop()}},t,e)}))()},cancel:function(){this.$router.push({name:"commission"})},showAdd:function(e){var t=this;return b()(d.a.mark(function a(){return d.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:0==t.companyType?t.$router.push({name:"companyPriceInfo",params:{project_id:e.project_id,company_rule_id:e.company_rule_id,companyType:t.companyType}}):1==t.companyType?t.$router.push({name:"companyPriceInfo",params:{company_id:e.company_id,project_id:e.project_id,companyType:t.companyType}}):2==t.companyType&&t.$router.push({name:"companyPriceInfo",params:{company_rule_id:e.company_rule_id,project_id:e.project_id,companyType:t.companyType}});case 1:case"end":return a.stop()}},a,t)}))()}}},fe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"companyType"},[0==e.companyType?a("div",{staticClass:"table"},[a("div",{staticClass:"title"},[a("span",{staticClass:"title-text"},[e._v("公司累计金额")]),e._v(" "),a("span",{staticClass:"search-block"},[a("span",{staticClass:"input-pad-right"},[a("el-input",{staticClass:"query",attrs:{placeholder:"可查询公司名称"},model:{value:e.searchObj.search,callback:function(t){e.$set(e.searchObj,"search",t)},expression:"searchObj.search"}}),e._v(" "),a("el-button",{staticClass:"margin-right",attrs:{icon:"el-icon-search",circle:""},on:{click:e.getCompanyAll}})],1),e._v(" "),a("el-button",{staticClass:"pos-btn",attrs:{type:"primary"},on:{click:e.cancel}},[e._v("关闭")])],1)]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{prop:"",label:"序号",align:"center",width:"70px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.getIndex(t)))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"company_name",label:"公司名称",align:"center",width:"140px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"project_hold_name",label:"负责人",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"project_hold_phone",label:"联系电话",align:"center",width:"130px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"begin_time",label:"开始执行时间",align:"center",width:"110px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"end_time",label:"截至执行时间",align:"center",width:"110px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"absolute_address",label:"公司地址",align:"center",width:"220px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"price",label:"累计金额",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{property:"operation",label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){e.showAdd(t.row)}}},[e._v("查看")])]}}])})],1),e._v(" "),a("el-pagination",{staticClass:"page",attrs:{background:"",layout:"prev, pager, next","page-size":e.pageSize,"current-page":e.searchObj.page,total:e.total},on:{"current-change":e.pageChange}})],1):e._e(),e._v(" "),1==e.companyType?a("div",{staticClass:"table"},[a("div",{staticClass:"title"},[a("span",{staticClass:"title-text"},[e._v("公司已结金额")]),e._v(" "),a("span",{staticClass:"search-block"},[a("span",{staticClass:"input-pad-right"},[a("el-input",{staticClass:"query",attrs:{placeholder:"可查询公司名称"},model:{value:e.searchObj.search,callback:function(t){e.$set(e.searchObj,"search",t)},expression:"searchObj.search"}}),e._v(" "),a("el-button",{staticClass:"margin-right",attrs:{icon:"el-icon-search",circle:""},on:{click:e.getCompanyAll}})],1),e._v(" "),a("el-button",{staticClass:"pos-btn",attrs:{type:"primary"},on:{click:e.cancel}},[e._v("关闭")])],1)]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{prop:"",label:"序号",align:"center",width:"70px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.getIndex(t)))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"company_name",label:"公司名称",align:"center",width:"140px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"project_hold_name",label:"负责人",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"project_hold_phone",label:"联系电话",align:"center",width:"130px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"begin_time",label:"开始执行时间",align:"center",width:"110px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"end_time",label:"截至执行时间",align:"center",width:"110px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"absolute_address",label:"公司地址",align:"center",width:"220px"}}),e._v(" "),1==e.companyType?a("el-table-column",{attrs:{prop:"price",label:"已结金额",align:"center"}}):e._e(),e._v(" "),a("el-table-column",{attrs:{property:"operation",label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){e.showAdd(t.row)}}},[e._v("查看")])]}}])})],1),e._v(" "),a("el-pagination",{staticClass:"page",attrs:{background:"",layout:"prev, pager, next","page-size":e.pageSize,"current-page":e.searchObj.page,total:e.total},on:{"current-change":e.pageChange}})],1):e._e(),e._v(" "),2==e.companyType?a("div",{staticClass:"table"},[a("div",{staticClass:"title"},[a("span",{staticClass:"title-text"},[e._v("公司未结金额")]),e._v(" "),a("span",{staticClass:"search-block"},[a("span",{staticClass:"input-pad-right"},[a("el-input",{staticClass:"query",attrs:{placeholder:"可查询公司名称"},model:{value:e.searchObj.search,callback:function(t){e.$set(e.searchObj,"search",t)},expression:"searchObj.search"}}),e._v(" "),a("el-button",{staticClass:"margin-right",attrs:{icon:"el-icon-search",circle:""},on:{click:e.getCompanyAll}})],1),e._v(" "),a("el-button",{staticClass:"pos-btn",attrs:{type:"primary"},on:{click:e.cancel}},[e._v("关闭")])],1)]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{prop:"",label:"序号",align:"center",width:"70px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.getIndex(t)))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"company_name",label:"公司名称",align:"center",width:"140px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"project_hold_name",label:"负责人",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"project_hold_phone",label:"联系电话",align:"center",width:"110px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"begin_time",label:"开始执行时间",align:"center",width:"110px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"end_time",label:"截至执行时间",align:"center",width:"110px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"absolute_address",label:"公司地址",align:"center",width:"220px"}}),e._v(" "),2==e.companyType?a("el-table-column",{attrs:{prop:"price",label:"未结金额",align:"center"}}):e._e(),e._v(" "),a("el-table-column",{attrs:{property:"operation",label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){e.showAdd(t.row)}}},[e._v("查看")])]}}])})],1),e._v(" "),a("el-pagination",{staticClass:"page",attrs:{background:"",layout:"prev, pager, next","page-size":e.pageSize,"current-page":e.searchObj.page,total:e.total},on:{"current-change":e.pageChange}})],1):e._e()])},staticRenderFns:[]};var he=a("vSla")(ve,fe,!1,function(e){a("Ge+x"),a("6AtQ")},"data-v-6b142886",null).exports,ge={data:function(){return{tableData:[],tableDataS:[],tableDataSa:[],project_id:"",company_rule_id:"",searchObj:{search:"",page:1},pageSize:0,total:0,sumbitForm:{total_price:"",count:""},personType:0}},mounted:function(){this.company_id=this.$route.params.company_id,this.personType=this.$route.params.personType,this.project_id=this.$route.params.project_id,this.project_id?(this.company_rule_id=this.$route.params.company_rule_id,this.getPersonInfoList()):this.$router.push({name:"commission"})},methods:{pageChange:function(e){this.searchObj.page=e,this.getPersonInfoList()},getIndex:function(e){return e.$index+1+(this.searchObj.page-1)*this.pageSize},search:function(){this.searchObj.page=1,this.getPersonInfoList()},getPersonInfoList:function(){var e=this;return b()(d.a.mark(function t(){var a,r;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!=e.personType){t.next=7;break}return t.next=3,e.api.getPersonInfoList({project_id:e.project_id,search:e.searchObj.search,page:e.searchObj.page});case 3:200==(a=t.sent).code&&(e.tableData=a.data.broker_info.data,e.sumbitForm.total_price=a.data.total_price,e.sumbitForm.count=a.data.count,e.total=a.data.broker_info.total,e.pageSize=a.data.broker_info.per_page),t.next=12;break;case 7:if(2!=e.personType){t.next=12;break}return t.next=10,e.api.getPersonNInfo({project_id:e.project_id,search:e.searchObj.search,page:e.searchObj.page});case 10:200==(r=t.sent).code&&(e.tableDataSa=r.data.broker_info.data,e.sumbitForm.total_price=r.data.total_price,e.sumbitForm.count=r.data.count,e.total=r.data.broker_info.total,e.pageSize=r.data.broker_info.per_page);case 12:case"end":return t.stop()}},t,e)}))()},cancel:function(){this.$router.push({name:"commission",params:this.$route.params})},brokerType:function(e){return 1==e?"成交":2==e?"到访":3==e?"推荐":void 0},state:function(e){return 1==e?"已经付款":2==e?"未付款":0==e?"付款失败":void 0}}},ye={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"personPrice"},[0==e.personType?a("div",{staticClass:"table"},[a("div",{staticClass:"title"},[a("span",{staticClass:"title-text"},[e._v("个人累计列表")]),e._v(" "),a("span",{staticClass:"search-block"},[a("span",[a("el-input",{staticClass:"query",attrs:{placeholder:"可查询推荐编号/经纪人名称"},model:{value:e.searchObj.search,callback:function(t){e.$set(e.searchObj,"search",t)},expression:"searchObj.search"}}),e._v(" "),a("el-button",{staticClass:"mt-10",attrs:{icon:"el-icon-search",circle:""},on:{click:e.getPersonInfoList}})],1),e._v(" "),a("el-button",{staticClass:"pos-btn",attrs:{type:"primary"},on:{click:e.cancel}},[e._v("关闭")])],1)]),e._v(" "),a("div",{staticClass:"text"},[a("span",{staticClass:"price"},[e._v("累计金额:"+e._s(e.sumbitForm.total_price))]),e._v(" "),a("span",{staticClass:"price"},[e._v("累计笔数:"+e._s(e.sumbitForm.count)+"笔")])]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{prop:"",label:"序号",align:"center",width:"70px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.getIndex(t)))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"client_id",label:"推荐编号",align:"center",width:"100px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"project_name",label:"项目名称",align:"center",width:"120px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"house_info",label:"房间号",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"经纪人名称",align:"center",width:"110px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"tel",label:"联系电话",align:"center",width:"120px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"broker_type",label:"佣金类型",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.brokerType(t.row.broker_type)))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"broker_num",label:"佣金金额",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"commission_way",label:"计算规则",align:"center",width:"120px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"pay_state",label:"状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.state(t.row.pay_state)))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"确认时间",align:"center",width:"160px"}})],1),e._v(" "),a("el-pagination",{staticClass:"page",attrs:{background:"",layout:"prev, pager, next","page-size":e.pageSize,"current-page":e.searchObj.page,total:e.total},on:{"current-change":e.pageChange}})],1):e._e(),e._v(" "),1==e.personType?a("div",{staticClass:"table"},[a("div",{staticClass:"title"},[a("span",{staticClass:"title-text"},[e._v("个人已结列表")]),e._v(" "),a("el-input",{staticClass:"query",attrs:{placeholder:"可查询付款单据号"},model:{value:e.searchObj.search,callback:function(t){e.$set(e.searchObj,"search",t)},expression:"searchObj.search"}}),e._v(" "),a("el-button",{attrs:{icon:"el-icon-search",circle:""},on:{click:e.getPersonInfoList}}),e._v(" "),a("el-button",{staticClass:"pos-btn",attrs:{type:"primary"},on:{click:e.cancel}},[e._v("关闭")])],1),e._v(" "),a("div",{staticClass:"text"},[a("span",{staticClass:"price"},[e._v("已结金额:"+e._s(e.sumbitForm.total_price))]),e._v(" "),a("span",{staticClass:"price"},[e._v("已结笔数:"+e._s(e.sumbitForm.count)+"笔")])]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableDataS,border:""}},[a("el-table-column",{attrs:{prop:"",label:"序号",align:"center",width:"70px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.getIndex(t)))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"batch_name",label:"批次名称",align:"center",width:"120px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"apply_name",label:"申请人员",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"申请时间",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"broker_num",label:"申请金额",align:"center",width:"80px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"chargebacks_price",label:"扣款金额",align:"center",width:"80px"}}),e._v(" "),a("el-table-column",{attrs:{label:"审核金额",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.broker_num-t.row.chargebacks_price))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"check_name",label:"审核人员",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"check_time",label:"审核时间",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"document_num",label:"付款单据号",align:"center",width:"110px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"recive_bank",label:"收款银行",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"recive_bank_card",label:"收款银行卡号",align:"center",width:"120px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"recive_name",label:"收款户名",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"update_time",label:"确认时间",align:"center"}})],1),e._v(" "),a("el-pagination",{staticClass:"page",attrs:{background:"",layout:"prev, pager, next","page-size":e.pageSize,"current-page":e.searchObj.page,total:e.total},on:{"current-change":e.pageChange}})],1):e._e(),e._v(" "),2==e.personType?a("div",{staticClass:"table"},[a("div",{staticClass:"title"},[a("span",{staticClass:"title-text"},[e._v("个人未结列表")]),e._v(" "),a("span",{staticClass:"search-block"},[a("span",[a("el-input",{staticClass:"query",attrs:{placeholder:"可查询推荐编号/经纪人名称"},model:{value:e.searchObj.search,callback:function(t){e.$set(e.searchObj,"search",t)},expression:"searchObj.search"}}),e._v(" "),a("el-button",{staticClass:"mt-10",attrs:{icon:"el-icon-search",circle:""},on:{click:e.getPersonInfoList}})],1),e._v(" "),a("el-button",{staticClass:"pos-btn",attrs:{type:"primary"},on:{click:e.cancel}},[e._v("关闭")])],1)]),e._v(" "),a("div",{staticClass:"text"},[a("span",{staticClass:"price"},[e._v("未结金额:"+e._s(e.sumbitForm.total_price))]),e._v(" "),a("span",{staticClass:"price"},[e._v("未结笔数:"+e._s(e.sumbitForm.count)+"笔")])]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableDataSa,border:""}},[a("el-table-column",{attrs:{prop:"",label:"序号",align:"center",width:"70px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.getIndex(t)))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"client_id",label:"推荐编号",align:"center",width:"100px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"project_name",label:"项目名称",align:"center",width:"140px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"house_info",label:"房间号",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"经纪人名称",align:"center",width:"140px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"tel",label:"联系电话",align:"center",width:"140px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"broker_type",label:"佣金类型",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.brokerType(t.row.broker_type)))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"broker_num",label:"佣金金额",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"commission_way",label:"计算规则",align:"center",width:"160px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"确认时间",align:"center",width:"180px"}})],1),e._v(" "),a("el-pagination",{staticClass:"page",attrs:{background:"",layout:"prev, pager, next","page-size":e.pageSize,"current-page":e.searchObj.page,total:e.total},on:{"current-change":e.pageChange}})],1):e._e()])},staticRenderFns:[]};var xe=a("vSla")(ge,ye,!1,function(e){a("QdLY"),a("6OuE")},"data-v-0e3c5386",null).exports,ke={data:function(){return{tableData:[],tableDataS:[],tableDataSa:[],project_id:"",company_rule_id:"",searchObj:{tag_search:"",search:"",page:1},pageSize:0,total:0,sumbitForm:{total_price:"",count:""},companyType:0}},mounted:function(){this.company_id=this.$route.params.company_id,this.companyType=this.$route.params.companyType,this.project_id=this.$route.params.project_id,this.project_id?(this.company_rule_id=this.$route.params.company_rule_id,this.getCompanyAllInfo()):this.$router.push({name:"companyPrice"})},methods:{search:function(){this.searchObj.page=1,this.getQuitList()},getIndex:function(e){return e.$index+1+(this.searchObj.page-1)*this.pageSize},pageChange:function(e){this.searchObj.page=e,this.getQuitList()},getCompanyAllInfo:function(){var e=this;return b()(d.a.mark(function t(){var a,r,n;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!=e.companyType){t.next=7;break}return t.next=3,e.api.getCompanyAllInfo({project_id:e.project_id,company_rule_id:e.company_rule_id,search:e.searchObj.search});case 3:200==(a=t.sent).code&&(e.tableData=a.data.broker_info.data,e.sumbitForm.total_price=a.data.total_price,e.sumbitForm.count=a.data.count,e.total=a.data.broker_info.total,e.pageSize=a.data.broker_info.per_page),t.next=19;break;case 7:if(1!=e.companyType){t.next=14;break}return t.next=10,e.api.getCompanyYInfo({project_id:e.project_id,company_id:e.company_id,search:e.searchObj.search});case 10:200==(r=t.sent).code&&(e.tableDataS=r.data.batch_list.data,e.sumbitForm.total_price=r.data.total_price,e.sumbitForm.count=r.data.count,e.total=r.data.batch_list.total,e.pageSize=r.data.batch_list.per_page),t.next=19;break;case 14:if(2!=e.companyType){t.next=19;break}return t.next=17,e.api.getCompanyNInfo({project_id:e.project_id,company_rule_id:e.company_rule_id,search:e.searchObj.search});case 17:200==(n=t.sent).code&&(e.tableDataSa=n.data.broker_info.data,e.sumbitForm.total_price=n.data.total_price,e.sumbitForm.count=n.data.count,e.total=n.data.broker_info.total,e.pageSize=n.data.broker_info.per_page);case 19:case"end":return t.stop()}},t,e)}))()},cancel:function(){this.$router.push({name:"companyPrice",params:this.$route.params})},brokerType:function(e){return 1==e?"成交":2==e?"到访":3==e?"推荐":void 0},state:function(e){return 1==e?"已经付款":2==e?"未付款":0==e?"付款失败":void 0}}},Ce={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"companyPriceInfo"},[0==e.companyType?a("div",{staticClass:"table"},[a("div",{staticClass:"title"},[a("span",{staticClass:"title-text"},[e._v("公司累计列表")]),e._v(" "),a("span",{staticClass:"search-block"},[a("span",[a("el-input",{staticClass:"query",attrs:{placeholder:"可查询推荐编号/经纪人名称"},model:{value:e.searchObj.search,callback:function(t){e.$set(e.searchObj,"search",t)},expression:"searchObj.search"}}),e._v(" "),a("el-button",{staticClass:"margin-right",attrs:{icon:"el-icon-search",circle:""},on:{click:e.getCompanyAllInfo}})],1),e._v(" "),a("el-button",{staticClass:"pos-btn",attrs:{type:"primary"},on:{click:e.cancel}},[e._v("关闭")])],1)]),e._v(" "),a("div",{staticClass:"text"},[a("span",{staticClass:"price"},[e._v("累计金额:"+e._s(e.sumbitForm.total_price))]),e._v(" "),a("span",{staticClass:"price"},[e._v("累计笔数:"+e._s(e.sumbitForm.count)+"笔")])]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{prop:"",label:"序号",align:"center",width:"70px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.getIndex(t)))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"client_id",label:"推荐编号",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"project_name",label:"项目名称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"house_info",label:"房间号",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"经纪人名称",align:"center",width:"110px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"tel",label:"联系电话",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"broker_type",label:"佣金类型",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.brokerType(t.row.broker_type)))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"时间",align:"center",width:"160px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"broker_num",label:"佣金金额",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"commission_way",label:"计算规则",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"pay_state",label:"状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.state(t.row.pay_state)))]}}])})],1),e._v(" "),a("el-pagination",{staticClass:"page",attrs:{background:"",layout:"prev, pager, next","page-size":e.pageSize,"current-page":e.searchObj.page,total:e.total},on:{"current-change":e.pageChange}})],1):e._e(),e._v(" "),1==e.companyType?a("div",{staticClass:"table"},[a("div",{staticClass:"title"},[a("span",{staticClass:"title-text"},[e._v("公司已结列表")]),e._v(" "),a("span",{staticClass:"search-block"},[a("span",[a("el-input",{staticClass:"query",attrs:{placeholder:"可查询付款单据号"},model:{value:e.searchObj.search,callback:function(t){e.$set(e.searchObj,"search",t)},expression:"searchObj.search"}}),e._v(" "),a("el-button",{staticClass:"margin-right",attrs:{icon:"el-icon-search",circle:""},on:{click:e.getCompanyAllInfo}})],1),e._v(" "),a("el-button",{staticClass:"pos-btn",attrs:{type:"primary"},on:{click:e.cancel}},[e._v("关闭")])],1)]),e._v(" "),a("div",{staticClass:"text"},[a("span",{staticClass:"price"},[e._v("已结金额:"+e._s(e.sumbitForm.total_price))]),e._v(" "),a("span",{staticClass:"price"},[e._v("已结笔数:"+e._s(e.sumbitForm.count)+"笔")])]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableDataS,border:""}},[a("el-table-column",{attrs:{prop:"",label:"序号",align:"center",width:"70px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.getIndex(t)))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"batch_name",label:"批次名称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"apply_name",label:"申请人员",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"申请时间",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"broker_num",label:"申请金额",align:"center",width:"80px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"chargebacks_price",label:"扣款金额",align:"center",width:"80px"}}),e._v(" "),a("el-table-column",{attrs:{label:"审核金额",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.broker_num-t.row.chargebacks_price))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"check_name",label:"审核人员",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"check_time",label:"审核时间",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"document_num",label:"付款单据号",align:"center",width:"110px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"recive_bank",label:"收款银行",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"recive_bank_card",label:"收款银行卡号",align:"center",width:"120px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"recive_name",label:"收款户名",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"update_time",label:"结佣时间",align:"center"}})],1),e._v(" "),a("el-pagination",{staticClass:"page",attrs:{background:"",layout:"prev, pager, next","page-size":e.pageSize,"current-page":e.searchObj.page,total:e.total},on:{"current-change":e.pageChange}})],1):e._e(),e._v(" "),2==e.companyType?a("div",{staticClass:"table"},[a("div",{staticClass:"title"},[a("span",{staticClass:"title-text"},[e._v("公司未结列表")]),e._v(" "),a("span",{staticClass:"search-block"},[a("span",[a("el-input",{staticClass:"query",attrs:{placeholder:"可查询推荐编号/经纪人名称"},model:{value:e.searchObj.search,callback:function(t){e.$set(e.searchObj,"search",t)},expression:"searchObj.search"}}),e._v(" "),a("el-button",{staticClass:"margin-right",attrs:{icon:"el-icon-search",circle:""},on:{click:e.getCompanyAllInfo}})],1),e._v(" "),a("el-button",{staticClass:"pos-btn",attrs:{type:"primary"},on:{click:e.cancel}},[e._v("关闭")])],1)]),e._v(" "),a("div",{staticClass:"text"},[a("span",{staticClass:"price"},[e._v("未结金额:"+e._s(e.sumbitForm.total_price))]),e._v(" "),a("span",{staticClass:"price"},[e._v("未结笔数:"+e._s(e.sumbitForm.count)+"笔")])]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableDataSa,border:""}},[a("el-table-column",{attrs:{prop:"",label:"序号",align:"center",width:"70px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.getIndex(t)))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"client_id",label:"推荐编号",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"project_name",label:"项目名称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"house_info",label:"房间号",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"经纪人名称",align:"center",width:"110px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"tel",label:"联系电话",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"broker_type",label:"佣金类型",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.brokerType(t.row.broker_type)))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"时间",align:"center",width:"160px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"broker_num",label:"佣金金额",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"commission_way",label:"计算规则",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"pay_state",label:"状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.state(t.row.pay_state)))]}}])})],1),e._v(" "),a("el-pagination",{staticClass:"page",attrs:{background:"",layout:"prev, pager, next","page-size":e.pageSize,"current-page":e.searchObj.page,total:e.total},on:{"current-change":e.pageChange}})],1):e._e()])},staticRenderFns:[]};var we=a("vSla")(ke,Ce,!1,function(e){a("PN4Q"),a("h8t3")},"data-v-34d01e63",null).exports,je={data:function(){return{tableData:[],project_id:"",searchObj:{serach:"",page:1},limit:10,total:0}},mounted:function(){this.getDistributionList()},methods:{getIndex:function(e){return e.$index+1+10*(this.searchObj.page-1)},see:function(e){this.$router.push({name:"maidInfo",params:{project_id:e.project_id}})},commissionApply:function(e){this.$router.push({name:"commissionApply",params:{project_id:e.project_id,rule_id:e.rule_id}})},search:function(){this.searchObj.page=1,this.getDistributionList()},pageChange:function(e){this.searchObj.page=e,this.getDistributionList()},getDistributionList:function(){var e=this;return b()(d.a.mark(function t(){var a;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.api.getDistributionList(e.searchObj);case 2:200==(a=t.sent).code&&(e.tableData=a.data.data,e.total=a.data.total);case 4:case"end":return t.stop()}},t,e)}))()},state:function(e){return 1==e?"申请佣金":2==e?"查看佣金详情 ":3==e?"申请付款":4==e?"重新申请付款":void 0}}},Fe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"distri_commission"},[a("div",{staticClass:"title"},[a("div",{staticClass:"table-title"},[a("div",{staticClass:"text1"},[e._v("当前位置：分销佣金管理")]),e._v(" "),a("div",{staticClass:"search-block"},[a("el-input",{staticClass:"query",attrs:{placeholder:"可按项目名称进行查询"},model:{value:e.searchObj.search,callback:function(t){e.$set(e.searchObj,"search",t)},expression:"searchObj.search"}}),e._v(" "),a("el-button",{attrs:{icon:"el-icon-search",circle:""},on:{click:e.getDistributionList}})],1)])]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{label:"序号",align:"center",width:"70px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.getIndex(t)))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"project_name",label:"项目名称",align:"center",width:"120px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"developer_name",label:"房产商",align:"center",width:"150px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"city",label:"区域",align:"center",width:"100px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"project_hold_name",label:"项目负责人",align:"center",width:"100px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"project_hold_phone",label:"联系方式",align:"center",width:"110px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"all_price",label:"累计金额",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"y_price",label:"已结金额",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"chargebacks_price",label:"扣款金额",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"n_price",label:"未结金额",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"notice",label:"是否可申请退款",align:"center",width:"140px"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"180px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){e.commissionApply(t.row)}}},[e._v("佣金申请")]),e._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){e.see(t.row)}}},[e._v("查看佣金记录")])]}}])})],1),e._v(" "),a("el-pagination",{staticClass:"page",attrs:{background:"",layout:"prev, pager, next","page-size":e.limit,"current-page":e.searchObj.page,total:e.total},on:{"current-change":e.pageChange}})],1)},staticRenderFns:[]};var Ae=a("vSla")(je,Fe,!1,function(e){a("qdUU"),a("pUZd")},"data-v-38a35170",null).exports,$e=a("a3Yh"),Ie=a.n($e),Se={data:function(){return{tableData:[],tableDataS:[],batch_id:"",searchObj:{page:1},pageSize1:0,total1:0,pageSize:0,total:0,operationType:0}},mounted:function(){this.project_id=this.$route.params.project_id,this.operationType=this.$route.params.operationType,void 0!==this.project_id?this.seeCommissionList():this.$router.push({name:"distri_commission"})},methods:{requestPayment:function(e,t){this.$router.push({name:"requestPayment",params:{project_id:this.project_id,batch_id:e.batch_id,state:e.state?e.state:e.examine_state,batch_name:e.batch_name,operationType:t}})},getIndex:function(e){return e.$index+1+(this.searchObj.page-1)*this.pageSize},pageChange:function(e){this.searchObj.page=e,this.changeProjectList()},seeCommissionList:function(e){var t=this;return b()(d.a.mark(function e(){var a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.api.seeCommissionList({project_id:t.project_id});case 2:200==(a=e.sent).code&&(t.tableData=a.data.broker.data,t.tableDataS=a.data.price.data,t.total=a.data.broker.total,t.pageSize=a.data.broker.per_page,t.total1=a.data.price.total,t.pageSize1=a.data.price.per_page);case 4:case"end":return e.stop()}},e,t)}))()},see:function(e,t){var a=this;return b()(d.a.mark(function r(){return d.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:a.$router.push({name:"updateCommission",params:Ie()({project_id:a.project_id,operationType:a.operationType,batch_id:e.batch_id,state:e.state},"operationType",t)});case 1:case"end":return r.stop()}},r,a)}))()},seePayment:function(e,t){var a=this;return b()(d.a.mark(function r(){return d.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:a.$router.push({name:"updateCommission",params:Ie()({project_id:a.project_id,operationType:a.operationType,apply_id:e.apply_id,batch_id:e.batch_id},"operationType",t)});case 1:case"end":return r.stop()}},r,a)}))()},remove:function(e){var t=this;this.$confirm("此操作将删除结佣申请, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(b()(d.a.mark(function a(){var r;return d.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return(r={}).batch_id=e.batch_id,r.state=e.state,a.next=5,t.api.delBroker(r);case 5:200==a.sent.code&&(t.$message({type:"success",message:"删除成功!"}),t.seeCommissionList());case 7:case"end":return a.stop()}},a,t)}))).catch(function(){t.$message({type:"info",message:"已取消删除结佣申请"})})},examineState:function(e){return 0==e?"拒绝":1==e?"通过":2==e?"待审核":void 0},state:function(e){return 0==e?"拒绝":1==e?"通过 ":2==e?"待审核":3==e?"待提交":void 0},cancel:function(){this.$router.push({name:"distri_commission"})}}},Te={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"maidInfo"},[a("div",{staticClass:"table"},[a("div",{staticClass:"title"},[a("div",{staticClass:"title-text"},[e._v("结佣申请列表")]),e._v(" "),a("el-button",{staticClass:"pos-btn",attrs:{type:"primary"},on:{click:e.cancel}},[e._v("关闭")])],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{property:"id",label:"序号",align:"center",width:"70px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.getIndex(t)))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"batch_name",label:"申请名称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"broker_num",label:"申请金额 (￥)",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"count_num",label:"申请笔数",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"create_name",label:"申请人员",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"申请时间",align:"center",width:"160px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"state",label:"申请状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.state(t.row.state)))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"180px"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.state?a("el-button",{attrs:{type:"text"},on:{click:function(a){e.requestPayment(t.row,4)}}},[e._v("付款申请")]):e._e(),e._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){e.see(t.row,0)}}},[e._v("查看")]),e._v(" "),3==t.row.state?a("el-button",{attrs:{type:"text"},on:{click:function(a){e.see(t.row,1)}}},[e._v("修改")]):e._e(),e._v(" "),0==t.row.state||3==t.row.state?a("el-button",{attrs:{type:"text"},on:{click:function(a){e.remove(t.row)}}},[e._v("删除")]):e._e()]}}])})],1),e._v(" "),a("el-pagination",{staticClass:"page",attrs:{background:"",layout:"prev, pager, next","page-size":e.pageSize,"current-page":e.searchObj.page,total:e.total},on:{"current-change":e.pageChange}}),e._v(" "),a("div",{staticClass:"title-text"},[e._v("付款申请列表")]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableDataS,border:""}},[a("el-table-column",{attrs:{property:"id",label:"序号",align:"center",width:"70px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.getIndex(t)))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"batch_name",label:"申请名称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"broker_num",label:"申请金额 (￥)",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"chargebacks_price",label:"扣款金额(￥)",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"审核金额(￥)",align:"center",width:"160px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.broker_num-t.row.chargebacks_price))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"count_num",label:"申请笔数",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"create_name",label:"申请人员",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"申请时间",align:"center",width:"160px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"examine_state",label:"审核状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.examineState(t.row.examine_state)))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"140px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){e.seePayment(t.row,2)}}},[e._v("查看")]),e._v(" "),0==t.row.examine_state?a("el-button",{attrs:{type:"text"},on:{click:function(a){e.seePayment(t.row,3)}}},[e._v("重新申请")]):e._e()]}}])})],1),e._v(" "),a("el-pagination",{staticClass:"page",attrs:{background:"",layout:"prev, pager, next","page-size":e.pageSize1,"current-page":e.searchObj.page,total:e.total1},on:{"current-change":e.pageChange}})],1)])},staticRenderFns:[]};var Re=a("vSla")(Se,Te,!1,function(e){a("Shcb"),a("C0hH")},"data-v-4d2333f0",null).exports,Oe={data:function(){return{rules:{batch_name:[{required:!0,message:"请输入申请名称,长度为2-20个字符",change:"change",max:20,min:2}],nail_name:[{required:!0,message:"请输入联系人,2-5个字符，必须是中文",change:"change",pattern:/[\u4E00-\u9FA5]{2,5}(?:·[\u4E00-\u9FA5]{2,5})*/}],nail_tel:[{required:!0,message:"请输入电话号码，11位手机号码格式",change:"change",pattern:/^1[34578]\d{9}$/}],second_name:[{required:!0,message:"请输入联系人,2-5个字符,必须是中文",change:"change",pattern:/[\u4E00-\u9FA5]{2,5}(?:·[\u4E00-\u9FA5]{2,5})*/}],second_tel:[{required:!0,message:"请输入电话号码，11位手机号码格式",change:"change",pattern:/^1[34578]\d{9}$/}]},tableData:[],sumbitForm:{batch_name:"",nail_name:"",nail_tel:"",second_name:"",second_tel:"",broker_id:"",state:3,count_num:0},no_price:0,rule_id:"",project_id:"",operationType:0}},mounted:function(){if(this.broker_id=this.$route.params.broker_id,this.project_id=this.$route.params.project_id,this.operationType=this.$route.params.operationType,this.project_id){var e=new Date;this.sumbitForm.batch_name=e.getFullYear()+"年"+(e.getMonth()+1)+"月"+e.getDate()+"日",this.rule_id=this.$route.params.rule_id,this.getBrokerApply()}else this.$router.push({name:"distri_commission"})},methods:{sumbit:function(e){var t,a=this;this.$refs.sumbitForm.validate((t=b()(d.a.mark(function t(r){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!r){t.next=4;break}a.$confirm("此操作将提交成功, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(b()(d.a.mark(function t(){var r;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(r=I()({},a.sumbitForm)).project_id=a.project_id,r.state=e,t.next=5,a.api.brokerApply(r);case 5:200==t.sent.code&&(a.$message({type:"success",message:"提交成功!"}),a.$router.push({name:"maidInfo"}));case 7:case"end":return t.stop()}},t,a)}))).catch(function(){a.$message({type:"info",message:"已取消提交佣金申请"})}),t.next=5;break;case 4:return t.abrupt("return",!1);case 5:case"end":return t.stop()}},t,a)})),function(e){return t.apply(this,arguments)}))},getBrokerApply:function(){var e=this;return b()(d.a.mark(function t(){var a;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.api.getBrokerApply({project_id:e.project_id,rule_id:e.rule_id});case 2:200==(a=t.sent).code&&(e.tableData=a.data);case 4:case"end":return t.stop()}},t,e)}))()},type:function(e){return 1==e?"成交":2==e?"到访":3==e?"推荐":void 0},cancel:function(){this.$router.push({name:"distri_commission"})},handleSelectionChange:function(e){var t=[],a=0,r=!0,n=!1,i=void 0;try{for(var s,o=E()(e);!(r=(s=o.next()).done);r=!0){var l=s.value;a+=l.broker_num,t.push(l.broker_id)}}catch(e){n=!0,i=e}finally{try{!r&&o.return&&o.return()}finally{if(n)throw i}}this.sumbitForm.broker_id=t.join(","),this.sumbitForm.count_num=t.length,this.no_price=a}}},Pe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"commissionApply"},[a("div",{staticClass:"table"},[a("div",{staticClass:"title"},[a("el-button",{staticClass:"pos-btn-1",attrs:{type:"primary"},on:{click:function(t){e.sumbit(2)}}},[e._v("提交")]),e._v(" "),a("el-button",{staticClass:"pos-btn-2",attrs:{type:"primary"},on:{click:function(t){e.sumbit(3)}}},[e._v("保存")]),e._v(" "),a("el-button",{staticClass:"pos-btn",attrs:{type:"primary"},on:{click:e.cancel}},[e._v("关闭")])],1),e._v(" "),a("div",{staticClass:"title-text"},[e._v("佣金申请信息")]),e._v(" "),a("el-form",{ref:"sumbitForm",staticClass:"form",attrs:{model:e.sumbitForm,rules:e.rules}},[a("el-form-item",{staticClass:"row",attrs:{label:"申请名称",prop:"batch_name"}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off"},model:{value:e.sumbitForm.batch_name,callback:function(t){e.$set(e.sumbitForm,"batch_name",t)},expression:"sumbitForm.batch_name"}})],1),e._v(" "),a("el-form-item",{staticClass:"row",attrs:{label:"甲方联系人",prop:"nail_name"}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off"},model:{value:e.sumbitForm.nail_name,callback:function(t){e.$set(e.sumbitForm,"nail_name",t)},expression:"sumbitForm.nail_name"}})],1),e._v(" "),a("el-form-item",{staticClass:"row",attrs:{label:"甲方联系电话",prop:"nail_tel"}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off"},model:{value:e.sumbitForm.nail_tel,callback:function(t){e.$set(e.sumbitForm,"nail_tel",t)},expression:"sumbitForm.nail_tel"}})],1),e._v(" "),a("el-form-item",{staticClass:"row",attrs:{label:"乙方联系人",prop:"second_name"}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off"},model:{value:e.sumbitForm.second_name,callback:function(t){e.$set(e.sumbitForm,"second_name",t)},expression:"sumbitForm.second_name"}})],1),e._v(" "),a("el-form-item",{staticClass:"row",attrs:{label:"乙方联系电话",prop:"second_tel"}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off"},model:{value:e.sumbitForm.second_tel,callback:function(t){e.$set(e.sumbitForm,"second_tel",t)},expression:"sumbitForm.second_tel"}})],1),e._v(" "),a("el-form-item",{staticClass:"row",attrs:{label:"申请笔数"}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off",disabled:1==!e.operationType},model:{value:e.sumbitForm.count_num,callback:function(t){e.$set(e.sumbitForm,"count_num",t)},expression:"sumbitForm.count_num"}})],1),e._v(" "),a("el-form-item",{staticClass:"row",attrs:{label:"佣金金额（￥）："}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off",disabled:1==!e.operationType},model:{value:e.no_price,callback:function(t){e.no_price=t},expression:"no_price"}})],1)],1),e._v(" "),a("div",{staticClass:"title-text"},[e._v("申请结佣列表")]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"client_id",label:"推荐编号",align:"center",width:"120px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"经纪人名称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"tel",label:"联系电话",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"broker_type",label:"佣金类型",align:"center",width:"180px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.type(t.row.broker_type)))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"时间",align:"center",width:"160px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"broker_num",label:"佣金金额",align:"center"}})],1)],1)])},staticRenderFns:[]};var De=a("vSla")(Oe,Pe,!1,function(e){a("DnyK"),a("cLMM")},"data-v-422be68f",null).exports,Be={data:function(){return{rules:{recive_bank:[{required:!0,message:"请选择收款银行",change:"change"}],recive_name:[{required:!0,message:"请输入收款户名,长度为2-5个字符",change:"change",pattern:/[\u4E00-\u9FA5]{2,5}(?:·[\u4E00-\u9FA5]{2,5})*/}],recive_bank_card:[{required:!0,message:"请输入正确的银行卡号",change:"change",pattern:/^([1-9]{1})(\d{14}|\d{18})$/}]},tableData:[],applyFile:[],bankOptions:[],operationType:0,submitForm:{},form:{},batch_id:"",state:"",batch_name:"",nail_name:"",nail_tel:"",second_name:"",second_tel:"",no_price:0,apply_id:"",searchObj:{search:""}}},mounted:function(){this.apply_id=this.$route.params.apply_id,this.operationType=this.$route.params.operationType,this.state=this.$route.params.state,this.batch_id=this.$route.params.batch_id,void 0!==this.batch_id?(this.updateBroker(),this.getBankOptions()):this.$router.push({name:"distri_commission"})},methods:{getBankOptions:function(e){var t=this;return b()(d.a.mark(function a(){var r;return d.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.api.getBack({param_id:e});case 2:200==(r=a.sent).code&&(t.bankOptions=r.data);case 4:case"end":return a.stop()}},a,t)}))()},sumbit:function(e){var t,a=this;this.$refs.form.validate((t=b()(d.a.mark(function t(r){var n;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!r){t.next=19;break}if(1!=a.operationType){t.next=16;break}return(n={}).state=e,n.batch_id=a.submitForm.batch_id,n.batch_name=a.submitForm.batch_name,n.nail_name=a.submitForm.nail_name,n.nail_tel=a.submitForm.nail_tel,n.second_name=a.submitForm.second_name,n.second_tel=a.submitForm.second_tel,t.next=12,a.api.updateBrokerSumbit(n);case 12:200==t.sent.code&&a.$router.push({name:"distri_commission"}),t.next=17;break;case 16:3==a.operationType&&a.$confirm("此操作将提交付重新款申请, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(b()(d.a.mark(function e(){var t;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(t={}).apply_id=a.apply_id,t.recive_bank=a.form.recive_bank,t.recive_bank_card=a.form.recive_bank_card,t.recive_name=a.form.recive_name,e.next=7,a.api.rePriceApplySumbit(t);case 7:200==e.sent.code&&(a.$router.push({name:"maidInfo"}),a.$message({type:"success",message:"提交成功!"}));case 9:case"end":return e.stop()}},e,a)}))).catch(function(){a.$message({type:"info",message:"已取消提交重新申请付款"})});case 17:t.next=20;break;case 19:return t.abrupt("return",!1);case 20:case"end":return t.stop()}},t,a)})),function(e){return t.apply(this,arguments)}))},updateBroker:function(){var e=this;return b()(d.a.mark(function t(){var a,r;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((a=I()({},e.submitForm)).batch_id=e.batch_id,a.state=e.state,a.apply_id=e.apply_id,r={},1!=e.operationType){t.next=11;break}return t.next=8,e.api.updateBroker(a);case 8:r=t.sent,t.next=21;break;case 11:if(0!=e.operationType){t.next=17;break}return t.next=14,e.api.getBrokerInfo(a);case 14:r=t.sent,t.next=21;break;case 17:if(3!=e.operationType&&2!=e.operationType){t.next=21;break}return t.next=20,e.api.getApplyInfo(a);case 20:r=t.sent;case 21:200==r.code&&(e.tableData=r.data.brokerList,e.$nextTick(function(){var t=!0,a=!1,r=void 0;try{for(var n,i=E()(e.tableData);!(t=(n=i.next()).done);t=!0){var s=n.value;e.$refs.multipleTable.toggleRowSelection(s)}}catch(e){a=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(a)throw r}}}),e.submitForm=r.data.brokerInfo,e.form=r.data.applyInfo,e.applyFile=r.data.applyFile);case 22:case"end":return t.stop()}},t,e)}))()},handleSelectionChange:function(e){var t=[],a=0,r=!0,n=!1,i=void 0;try{for(var s,o=E()(e);!(r=(s=o.next()).done);r=!0){var l=s.value;a+=l.broker_num,t.push(l.broker_id)}}catch(e){n=!0,i=e}finally{try{!r&&o.return&&o.return()}finally{if(n)throw i}}this.submitForm.broker_id=t.join(","),this.submitForm.count_num=t.length,this.no_price=a},type:function(e){return 1==e?"成交":2==e?"到访":3==e?"推荐":void 0},cancel:function(){this.$router.push({name:"maidInfo",params:this.$route.params})}}},Ee={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"updateCommission"},[a("div",{staticClass:"table"},[a("div",{staticClass:"title"},[1==e.operationType||3==e.operationType?a("el-button",{staticClass:"pos-btn-1",attrs:{type:"primary"},on:{click:function(t){e.sumbit(2)}}},[e._v("提交")]):e._e(),e._v(" "),a("el-button",{staticClass:"pos-btn",attrs:{type:"primary"},on:{click:e.cancel}},[e._v("关闭")])],1),e._v(" "),2==e.operationType||3==e.operationType?a("div",[a("div",{staticClass:"title-text"},[e._v("付款申请信息")]),e._v(" "),a("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form,disabled:2==e.operationType,rules:e.rules}},[3==!e.operationType||e.form&&1==e.form.examine_state?a("el-form-item",{staticClass:"row",attrs:{label:"单据号"}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off",disabled:3==e.operationType},model:{value:e.form.document_num,callback:function(t){e.$set(e.form,"document_num",t)},expression:"form.document_num"}})],1):e._e(),e._v(" "),3==!e.operationType||e.form&&1==e.form.examine_state?a("el-form-item",{staticClass:"row",attrs:{label:"付款银行"}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off"},model:{value:e.form.send_bank,callback:function(t){e.$set(e.form,"send_bank",t)},expression:"form.send_bank"}})],1):e._e(),e._v(" "),3==!e.operationType||e.form&&1==e.form.examine_state?a("el-form-item",{staticClass:"row",attrs:{label:"付款人"}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off"},model:{value:e.form.apply_name,callback:function(t){e.$set(e.form,"apply_name",t)},expression:"form.apply_name"}})],1):e._e(),e._v(" "),3==!e.operationType||e.form&&1==e.form.examine_state?a("el-form-item",{staticClass:"row",attrs:{label:"付款银行卡号"}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off"},model:{value:e.form.send_bank_card,callback:function(t){e.$set(e.form,"send_bank_card",t)},expression:"form.send_bank_card"}})],1):e._e(),e._v(" "),a("el-form-item",{staticClass:"row",attrs:{label:"申请付款批次名称"}},[a("el-input",{staticClass:"input",attrs:{disabled:!0,"auto-complete":"off"},model:{value:e.submitForm.batch_name,callback:function(t){e.$set(e.submitForm,"batch_name",t)},expression:"submitForm.batch_name"}})],1),e._v(" "),a("el-form-item",{staticClass:"row",attrs:{label:"收款银行",prop:"recive_bank"}},[a("el-select",{attrs:{placeholder:"请选择收款银行"},on:{change:e.getBankOptions},model:{value:e.form.recive_bank,callback:function(t){e.$set(e.form,"recive_bank",t)},expression:"form.recive_bank"}},e._l(e.bankOptions,function(e){return a("el-option",{key:e.param_id,attrs:{label:e.param,value:e.param}})}))],1),e._v(" "),a("el-form-item",{staticClass:"row",attrs:{label:"收款银行卡号",prop:"recive_bank_card"}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off"},model:{value:e.form.recive_bank_card,callback:function(t){e.$set(e.form,"recive_bank_card",t)},expression:"form.recive_bank_card"}})],1),e._v(" "),a("el-form-item",{staticClass:"row",attrs:{label:"收款户名：",prop:"recive_name"}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off"},model:{value:e.form.recive_name,callback:function(t){e.$set(e.form,"recive_name",t)},expression:"form.recive_name"}})],1),e._v(" "),a("el-form-item",{staticClass:"row",attrs:{label:"申请付款金额(￥)："}},[a("el-input",{staticClass:"input",attrs:{disabled:!0,"auto-complete":"off"},model:{value:e.submitForm.broker_num,callback:function(t){e.$set(e.submitForm,"broker_num",t)},expression:"submitForm.broker_num"}})],1),e._v(" "),a("el-form-item",{staticClass:"row",attrs:{label:"申请人员："}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off",disabled:3==e.operationType},model:{value:e.form.apply_name,callback:function(t){e.$set(e.form,"apply_name",t)},expression:"form.apply_name"}})],1),e._v(" "),a("el-form-item",{staticClass:"row",attrs:{label:"申请时间："}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off",disabled:3==e.operationType},model:{value:e.form.create_time,callback:function(t){e.$set(e.form,"create_time",t)},expression:"form.create_time"}})],1),e._v(" "),e.form&&1==e.form.examine_state||e.form&&0==e.form.examine_state?a("el-form-item",{staticClass:"row",attrs:{label:"审核人",disabled:3==e.operationType}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off",disabled:3==e.operationType},model:{value:e.form.check_name,callback:function(t){e.$set(e.form,"check_name",t)},expression:"form.check_name"}})],1):e._e(),e._v(" "),e.form&&1==e.form.examine_state||e.form&&0==e.form.examine_state?a("el-form-item",{staticClass:"row",attrs:{label:"审核时间",disabled:3==e.operationType}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off",disabled:3==e.operationType},model:{value:e.form.create_time,callback:function(t){e.$set(e.form,"create_time",t)},expression:"form.create_time"}})],1):e._e(),e._v(" "),e.form&&1==e.form.examine_state||e.form&&0==e.form.examine_state?a("el-form-item",{staticClass:"row1",attrs:{label:"审核备注",disabled:3==e.operationType}},[a("el-input",{staticClass:"input withd",attrs:{type:"textarea","auto-complete":"off",disabled:3==e.operationType},model:{value:e.form.send_desc,callback:function(t){e.$set(e.form,"send_desc",t)},expression:"form.send_desc"}})],1):e._e()],1)],1):e._e(),e._v(" "),e.form&&1==e.form.examine_state?a("div",{staticClass:"file"},[a("div",{staticClass:"title-text"},[e._v("附件信息")]),e._v(" "),a("el-table",{attrs:{data:e.applyFile,border:""}},[a("el-table-column",{attrs:{label:"文件名称",prop:"file_name",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"附件",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("a",{attrs:{target:"_blank",href:e.base+t.row.file_url}},[e._v("查看附件")])]}}])}),e._v(" "),a("el-table-column",{attrs:{property:"create_name",label:"上传人员",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{property:"create_time",label:"上传时间",align:"center"}})],1)],1):e._e(),e._v(" "),a("div",[a("div",{staticClass:"title-text"},[e._v("佣金申请信息")]),e._v(" "),a("el-form",{staticClass:"form",attrs:{disabled:0==e.operationType||2==e.operationType||3==e.operationType},model:{value:e.submitForm,callback:function(t){e.submitForm=t},expression:"submitForm"}},[a("el-form-item",{staticClass:"row",attrs:{label:"申请名称"}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off"},model:{value:e.submitForm.batch_name,callback:function(t){e.$set(e.submitForm,"batch_name",t)},expression:"submitForm.batch_name"}})],1),e._v(" "),a("el-form-item",{staticClass:"row",attrs:{label:"申请笔数"}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off",disabled:1==e.operationType},model:{value:e.submitForm.count_num,callback:function(t){e.$set(e.submitForm,"count_num",t)},expression:"submitForm.count_num"}})],1),e._v(" "),a("el-form-item",{staticClass:"row",attrs:{label:"佣金金额（￥）："}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off",disabled:1==e.operationType},model:{value:e.no_price,callback:function(t){e.no_price=t},expression:"no_price"}})],1),e._v(" "),a("el-form-item",{staticClass:"row",attrs:{label:"申请人员"}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off"},model:{value:e.submitForm.create_name,callback:function(t){e.$set(e.submitForm,"create_name",t)},expression:"submitForm.create_name"}})],1),e._v(" "),a("el-form-item",{staticClass:"row",attrs:{label:"申请时间"}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off"},model:{value:e.submitForm.create_time,callback:function(t){e.$set(e.submitForm,"create_time",t)},expression:"submitForm.create_time"}})],1),e._v(" "),a("el-form-item",{staticClass:"row",attrs:{label:"甲方联系人"}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off"},model:{value:e.submitForm.nail_name,callback:function(t){e.$set(e.submitForm,"nail_name",t)},expression:"submitForm.nail_name"}})],1),e._v(" "),a("el-form-item",{staticClass:"row",attrs:{label:"甲方联系电话"}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off"},model:{value:e.submitForm.nail_tel,callback:function(t){e.$set(e.submitForm,"nail_tel",t)},expression:"submitForm.nail_tel"}})],1),e._v(" "),a("el-form-item",{staticClass:"row",attrs:{label:"乙方联系人"}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off"},model:{value:e.submitForm.second_name,callback:function(t){e.$set(e.submitForm,"second_name",t)},expression:"submitForm.second_name"}})],1),e._v(" "),a("el-form-item",{staticClass:"row",attrs:{label:"乙方联系电话"}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off"},model:{value:e.submitForm.second_tel,callback:function(t){e.$set(e.submitForm,"second_tel",t)},expression:"submitForm.second_tel"}})],1),e._v(" "),2==e.operationType||0==e.operationType?a("el-form-item",{staticClass:"row",attrs:{label:"审核人员"}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off"},model:{value:e.submitForm.auditing_name,callback:function(t){e.$set(e.submitForm,"auditing_name",t)},expression:"submitForm.auditing_name"}})],1):e._e(),e._v(" "),2==e.operationType||0==e.operationType?a("el-form-item",{staticClass:"row",attrs:{label:"审核时间"}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off"},model:{value:e.submitForm.auditing_time,callback:function(t){e.$set(e.submitForm,"auditing_time",t)},expression:"submitForm.auditing_time"}})],1):e._e()],1)],1),e._v(" "),a("div",[a("div",{staticClass:"title-text"},[e._v("申请结佣列表")]),e._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""},on:{"selection-change":e.handleSelectionChange}},[1==e.operationType?a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}):e._e(),e._v(" "),a("el-table-column",{attrs:{prop:"client_id",label:"推荐编号",align:"center",width:"120px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"经纪人名称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"tel",label:"联系电话",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"broker_type",label:"佣金类型",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.type(t.row.broker_type)))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"时间",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"broker_num",label:"佣金金额",align:"center"}})],1)],1)])])},staticRenderFns:[]};var Ue=a("vSla")(Be,Ee,!1,function(e){a("g+wc"),a("v+8g")},"data-v-52a759df",null).exports,Le={data:function(){return{rules:{recive_bank:[{required:!0,message:"请选择收款银行",change:"change"}],recive_name:[{required:!0,message:"请输入收款户名,长度为2-5个字符",change:"change",pattern:/[\u4E00-\u9FA5]{2,5}(?:·[\u4E00-\u9FA5]{2,5})*/}],recive_bank_card:[{required:!0,message:"请输入正确的银行卡号",change:"change",pattern:/^([1-9]{1})(\d{14}|\d{18})$/}]},submitForm:{batch_name:"",recive_bank:"",recive_bank_card:"",recive_name:"",broker_num:"",name:"",create_time:"",broker_type:""},batch_id:"",state:"",project_id:"",bankOptions:[],operationType:0}},mounted:function(){this.submitForm.batch_name=this.$route.params.batch_name,this.batch_id=this.$route.params.batch_id,this.project_id=this.$route.params.project_id,this.state=this.$route.params.state,void 0!==this.batch_id?(this.getPriceApply(),this.getBankOptions()):this.$router.push({name:"distri_commission"})},methods:{getBankOptions:function(e){var t=this;return b()(d.a.mark(function a(){var r;return d.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.api.getBack({param_id:e});case 2:200==(r=a.sent).code&&(t.bankOptions=r.data);case 4:case"end":return a.stop()}},a,t)}))()},sumbit:function(){var e,t=this;this.$refs.submitForm.validate((e=b()(d.a.mark(function e(a){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=4;break}t.$confirm("此操作将提交付款申请, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(b()(d.a.mark(function e(){var a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(a={}).project_id=t.project_id,a.batch_id=t.batch_id,a.recive_bank=t.submitForm.recive_bank,a.recive_bank_card=t.submitForm.recive_bank_card,a.recive_name=t.submitForm.recive_name,e.next=8,t.api.priceApplySumbit(a);case 8:200==e.sent.code&&(t.$message({type:"success",message:"提交成功!"}),t.$router.push({name:"maidInfo"}));case 10:case"end":return e.stop()}},e,t)}))).catch(function(){t.$message({type:"info",message:"已取消提交申请付款"})}),e.next=5;break;case 4:return e.abrupt("return",!1);case 5:case"end":return e.stop()}},e,t)})),function(t){return e.apply(this,arguments)}))},getPriceApply:function(){var e=this;return b()(d.a.mark(function t(){var a;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e.state),t.next=3,e.api.getPriceApply({batch_id:e.batch_id,state:e.state});case 3:200==(a=t.sent).code&&I()(e.submitForm,a.data[0]);case 5:case"end":return t.stop()}},t,e)}))()},type:function(e){return 1==e?"成交":2==e?"到访":3==e?"推荐":void 0},cancel:function(){this.$router.push({name:"maidInfo",params:this.$route.params})}}},ze={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"paymentRequest"},[a("div",{staticClass:"table"},[a("div",{staticClass:"text"},[e._v("付款申请信息")]),e._v(" "),a("div",{staticClass:"btn"},[a("el-button",{attrs:{type:"primary"},on:{click:e.sumbit}},[e._v("提交")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.cancel}},[e._v("关闭")])],1),e._v(" "),a("el-form",{ref:"submitForm",staticClass:"form",attrs:{model:e.submitForm,rules:e.rules}},[a("el-form-item",{staticClass:"row",attrs:{label:"申请付款批次名称"}},[a("el-input",{staticClass:"input",attrs:{disabled:!0,"auto-complete":"off",placeholder:"请输入申请付款批次名称"},model:{value:e.submitForm.batch_name,callback:function(t){e.$set(e.submitForm,"batch_name",t)},expression:"submitForm.batch_name"}})],1),e._v(" "),a("el-form-item",{staticClass:"row",attrs:{label:"收款银行",prop:"recive_bank"}},[a("el-select",{attrs:{placeholder:"请选择收款银行"},on:{change:e.getBankOptions},model:{value:e.submitForm.recive_bank,callback:function(t){e.$set(e.submitForm,"recive_bank",t)},expression:"submitForm.recive_bank"}},e._l(e.bankOptions,function(e){return a("el-option",{key:e.param_id,attrs:{label:e.param,value:e.param}})}))],1),e._v(" "),a("el-form-item",{staticClass:"row",attrs:{label:"收款银行卡号：",prop:"recive_bank_card"}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off",placeholder:"请输入收款银行卡号"},model:{value:e.submitForm.recive_bank_card,callback:function(t){e.$set(e.submitForm,"recive_bank_card",t)},expression:"submitForm.recive_bank_card"}})],1),e._v(" "),a("el-form-item",{staticClass:"row",attrs:{label:"收款户名：",prop:"recive_name"}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off",placeholder:"请输入收款户名"},model:{value:e.submitForm.recive_name,callback:function(t){e.$set(e.submitForm,"recive_name",t)},expression:"submitForm.recive_name"}})],1),e._v(" "),a("el-form-item",{staticClass:"row",attrs:{label:"申请付款金额(￥)："}},[a("el-input",{staticClass:"input",attrs:{disabled:!0,"auto-complete":"off"},model:{value:e.submitForm.broker_num,callback:function(t){e.$set(e.submitForm,"broker_num",t)},expression:"submitForm.broker_num"}})],1),e._v(" "),a("el-form-item",{staticClass:"row",attrs:{label:"申请人员："}},[a("el-input",{staticClass:"input",attrs:{disabled:!0,"auto-complete":"off"},model:{value:e.submitForm.name,callback:function(t){e.$set(e.submitForm,"name",t)},expression:"submitForm.name"}})],1),e._v(" "),a("el-form-item",{staticClass:"row",attrs:{label:"申请时间："}},[a("el-input",{staticClass:"input",attrs:{disabled:!0,"auto-complete":"off"},model:{value:e.submitForm.create_time,callback:function(t){e.$set(e.submitForm,"create_time",t)},expression:"submitForm.create_time"}})],1)],1)],1)])},staticRenderFns:[]};var Me,Ne=a("vSla")(Le,ze,!1,function(e){a("3g8w")},"data-v-c13727ea",null).exports,Je={data:function(){return{searchObj:{tag_search:0,project_code:"",project_name:"",developer_name:"",source:"",page:1,search:""},pageSize:0,total:0,tipActiveIndex:0,tableData:[],project_id:"",rule_id:"",options:[],value:"",operationType:0}},mounted:function(){this.getList()},methods:(Me={clickTip:function(e){this.tipActiveIndex=e,this.searchObj.tag_search=e,this.search()},search:function(){this.getList()},getList:function(){var e=this;return b()(d.a.mark(function t(){var a;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.api.getList(e.searchObj);case 2:200==(a=t.sent).code&&(e.tableData=a.data.data,e.total=a.data.total,e.pageSize=a.data.per_page);case 4:case"end":return t.stop()}},t,e)}))()}},Ie()(Me,"search",function(){this.searchObj.page=1,this.getList()}),Ie()(Me,"getIndex",function(e){return e.$index+1+(this.searchObj.page-1)*this.pageSize}),Ie()(Me,"pageChange",function(e){this.searchObj.page=e,this.getList()}),Ie()(Me,"startApply",function(){this.$router.push({name:"startApply"})}),Ie()(Me,"fastDistribution",function(e){this.$router.push({name:"fastDistribution",params:{project_id:e.project_id}})}),Ie()(Me,"showProject",function(e,t){0==t&&(this.$store.commit("distribution",e),this.$store.commit("operationType",t),this.$router.push({name:"projectInfo"}))}),Ie()(Me,"scopeState",function(e){return 1==e?"自行申请":2==e?"项目方选择":void 0}),Ie()(Me,"auditingState",function(e){return 0==e?"已拒绝":1==e?"通过":2==e?"待审核":void 0}),Me)},qe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"distribution"},[a("div",{staticClass:"title"},[a("div",{staticClass:"tab-block"},[a("div",{staticClass:"text1"},[e._v("当前位置：项目分销")]),e._v(" "),a("div",{staticClass:"search-block"},[a("el-input",{staticClass:"query",attrs:{placeholder:"可按项目名称/项目编号进行查询"},model:{value:e.searchObj.search,callback:function(t){e.$set(e.searchObj,"search",t)},expression:"searchObj.search"}}),e._v(" "),a("el-button",{attrs:{icon:"el-icon-search",circle:""},on:{click:e.getList}})],1),e._v(" "),a("div",{staticClass:"btn"},[a("el-button",{attrs:{type:"primary"},on:{click:e.startApply}},[e._v("发起申请")])],1)]),e._v(" "),a("div",[a("el-button",{staticClass:"tip",class:0==e.tipActiveIndex?"active":"",attrs:{type:"text"},on:{click:function(t){e.clickTip(0)}}},[e._v("全部")]),e._v(" "),a("el-button",{staticClass:"tip",class:1==e.tipActiveIndex?"active":"",attrs:{type:"text"},on:{click:function(t){e.clickTip(1)}}},[e._v("待审核")]),e._v(" "),a("el-button",{staticClass:"tip",class:2==e.tipActiveIndex?"active":"",attrs:{type:"text"},on:{click:function(t){e.clickTip(2)}}},[e._v("已通过")]),e._v(" "),a("el-button",{staticClass:"tip",class:3==e.tipActiveIndex?"active":"",attrs:{type:"text"},on:{click:function(t){e.clickTip(3)}}},[e._v("已终止")])],1)]),e._v(" "),a("div",{staticClass:"search"}),e._v(" "),a("el-table",{staticClass:"mt-30",staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{prop:"",label:"序号",align:"center",width:"70px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.getIndex(t)))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"project_code",label:"项目编号",align:"center",width:"90px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"project_name",label:"项目名称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"end_state",label:"执行状态",align:"center",width:"90px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"city",label:"区域",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"subordinate_company",label:"项目所属单位",align:"center",width:"150px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"company_relation",label:"与项目关系",align:"center",width:"100px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"developer_name",label:"所属单位",align:"center",width:"230px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"source",label:"来源",align:"center",width:"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.scopeState(t.row.source)))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"state",label:"审核状态",align:"center",width:"80px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.auditingState(t.row.state)))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"is_distribution",label:"分配状态",align:"center",width:"80px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"operation",label:"操作",align:"center",width:"170px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){e.showProject(t.row,0)}}},[e._v("查看")]),e._v(" "),1==t.row.state&&"执行中"==t.row.end_state?a("el-button",{attrs:{type:"text"},on:{click:function(a){e.fastDistribution(t.row)}}},[e._v("分配到访确认人")]):e._e()]}}])})],1),e._v(" "),a("el-pagination",{staticClass:"page",attrs:{background:"",layout:"prev, pager, next","page-size":e.pageSize,"current-page":e.searchObj.page,total:e.total},on:{"current-change":e.pageChange}})],1)},staticRenderFns:[]};var Qe=a("vSla")(Je,qe,!1,function(e){a("jvDG"),a("JRHJ")},"data-v-bc3b4c84",null).exports,Ze={data:function(){return{rules:{project_docker:[{pattern:/[\u4E00-\u9FA5]{2,5}(?:·[\u4E00-\u9FA5]{2,5})*/,required:!0,message:"请输入姓名,2-5个字符，必须是中文",change:"change"}],project_docker_tel:[{required:!0,message:"请输入电话号码，11位手机号码格式",change:"change",pattern:/^1[34578]\d{9}$/}],sell_docker:[{pattern:/[\u4E00-\u9FA5]{2,5}(?:·[\u4E00-\u9FA5]{2,5})*/,required:!0,message:"请输入姓名,2-5个字符，必须是中文",change:"change"}],sell_docker_tel:[{required:!0,message:"请输入电话号码，11位手机号码格式",change:"change",pattern:/^1[34578]\d{9}$/}],compact_begin:[{required:!0,message:"请选择合同开始日期"}],compact_end:[{required:!0,message:"请选择合同截至日期"}],act_start:[{required:!0,message:"请选择实际开始日期"}]},sumbitForm:{project_docker:"",project_docker_tel:"",sell_docker:"",sell_docker_tel:"",compact_begin:"",compact_end:"",act_start:""},refund:[],ruleForm:{deal:[],visit:[],recommend:[]},project_id:"",company_rule_id:"",moneyTypeOption:[],visitForm:{},visitDialogFormVisible:!1,distribution:{},operationType:0}},mounted:function(){this.distribution=this.$store.state.distribution.distribution,this.operationType=this.$store.state.operationType,this.distribution?(this.project_id=this.distribution.project_id,this.company_rule_id=this.distribution.rule_id,this.getBrokerAgreement(),this.getCommissionRuleInfo(),this.getMoneyType(),this.getCompanyRuleInfo()):this.$router.push({name:"distribution"})},methods:{getIndex:function(e){return e.$index+1},getCompanyRuleInfo:function(){var e=this;return b()(d.a.mark(function t(){var a;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.company_rule_id){t.next=2;break}return t.abrupt("return");case 2:if(-1!=e.operationType){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,e.api.getCompanyRuleInfo({company_rule_id:e.company_rule_id});case 6:200==(a=t.sent).code&&I()(e.sumbitForm,a.data);case 8:case"end":return t.stop()}},t,e)}))()},getCommissionRuleInfo:function(){var e=this;return b()(d.a.mark(function t(){var a;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.company_rule_id){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.api.getCommissionRuleInfo({company_rule_id:e.company_rule_id});case 4:200==(a=t.sent).code&&(e.ruleForm=a.data);case 6:case"end":return t.stop()}},t,e)}))()},getMoneyType:function(){var e=this;return b()(d.a.mark(function t(){var a;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.api.getMoneyType();case 2:200==(a=t.sent).code&&(e.moneyTypeOption=a.data);case 4:case"end":return t.stop()}},t,e)}))()},fileUpload:function(e){var t=this;return b()(d.a.mark(function a(){var r,n,i,s,o;return d.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(t.fileObject=e,r=!1,(t.fileObject.name.indexOf(".docx")>-1||t.fileObject.name.indexOf(".xlcx")>-1||t.fileObject.name.indexOf(".doc")>-1||t.fileObject.name.indexOf(".jpg")>-1||t.fileObject.name.indexOf(".zip")>-1||t.fileObject.name.indexOf(".rar")>-1||t.fileObject.name.indexOf(".csv")>-1||t.fileObject.name.indexOf(".png")>-1||t.fileObject.name.indexOf(".pdf")>-1)&&(r=!0),r){a.next=6;break}return t.$message({type:"error",message:"文件上传格式有误，请上传docx,doc,xlcx,jpg,zip,rar,csv,png,pdf格式"}),a.abrupt("return");case 6:if(!(e.size/1024/1024>5)){a.next=10;break}return t.$message({type:"error",message:"文件大于5m，请重新上传"}),a.abrupt("return");case 10:return n=t.fileObject.raw,(i=new FormData).append("url",n),a.next=15,t.api.uploadBrokerCommission(i);case 15:200==(s=a.sent).code&&((o={}).uploader=s.data.uploader,o.url=s.data.img_url,o.update_time=s.data.update_time,o.file_name=e.name,t.refund=[],t.refund.push(o),t.addBrokerAgreement());case 17:case"end":return a.stop()}},a,t)}))()},addBrokerAgreement:function(){var e=this;return b()(d.a.mark(function t(){var a;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(a={}).file_name=e.refund[0].file_name,a.file_url=e.refund[0].url,a.uploader=e.refund[0].uploader,a.rule_id=e.company_rule_id,t.next=7,e.api.addBrokerAgreement(a);case 7:t.sent.code;case 9:case"end":return t.stop()}},t,e)}))()},getBrokerAgreement:function(){var e=this;return b()(d.a.mark(function t(){var a;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.company_rule_id){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.api.getBrokerAgreement({rule_id:e.company_rule_id});case 4:200==(a=t.sent).code&&(e.refund=a.data);case 6:case"end":return t.stop()}},t,e)}))()},sumbit:function(){var e,t=this;this.$refs.sumbitForm.validate((e=b()(d.a.mark(function e(a){var r;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=10;break}return(r=I()({},t.sumbitForm)).project_id=t.project_id,r.rule_id=t.company_rule_id,e.next=6,t.api.addRule(r);case 6:200==e.sent.code&&t.$message({type:"success",message:"提交成功!"}),e.next=11;break;case 10:return e.abrupt("return",!1);case 11:case"end":return e.stop()}},e,t)})),function(t){return e.apply(this,arguments)}))},showAdd:function(e,t,a){if(1==e){var r=this.ruleForm.deal,n=[],i=!0,s=!1,o=void 0;try{for(var l,c=E()(r);!(i=(l=c.next()).done);i=!0){var p=l.value,u=p.property_type;if((!a||a.rule_id!=p.rule_id)&&!(u.length<=0)){var m=u.split(",");n=n.concat(m)}}}catch(e){s=!0,o=e}finally{try{!i&&c.return&&c.return()}finally{if(s)throw o}}this.distribution.property_type=n}this.$store.commit("distribution",this.distribution),this.$router.push({name:"ruleSetting",query:{broker_type:e,rule_id:a?a.rule_id:void 0,operationState:t}})},cancel:function(){this.company_rule_id?this.$router.push({name:"projectInfo"}):this.$router.push({name:"startApply"})},removeRule:function(e){var t=this;this.$confirm("此操作将删除成功, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(b()(d.a.mark(function a(){return d.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.api.delBrokeRule({rule_id:e.rule_id,company_rule_id:t.company_rule_id});case 2:200==a.sent.code&&t.$message({type:"success",message:"删除成功!"}),t.getCommissionRuleInfo();case 5:case"end":return a.stop()}},a,t)}))).catch(function(){t.$message({type:"info",message:"已取消删除"})})}}},Ge={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ruleOfMaid"},[a("div",{staticClass:"ruleOfMaid-box"},[a("div",{staticClass:"title"},[a("span",{staticClass:"btn"},[a("el-button",{attrs:{type:"primary"},on:{click:e.cancel}},[e._v("关闭")]),e._v(" "),2==!e.distribution.state||0==!e.operationType?a("el-button",{attrs:{type:"primary"},on:{click:e.sumbit}},[e._v("提交")]):e._e()],1)]),e._v(" "),a("div",{staticClass:"infoform"},[a("div",{staticClass:"text"},[e._v("合同信息（甲方为项目方，乙方为销售方）")]),e._v(" "),a("el-form",{ref:"sumbitForm",attrs:{model:e.sumbitForm,disabled:0==e.operationType,rules:e.rules}},[a("el-form-item",{staticClass:"input",attrs:{label:"甲方对接人",prop:"project_docker"}},[a("el-input",{model:{value:e.sumbitForm.project_docker,callback:function(t){e.$set(e.sumbitForm,"project_docker",t)},expression:"sumbitForm.project_docker"}})],1),e._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"甲方对接人电话",prop:"project_docker_tel"}},[a("el-input",{model:{value:e.sumbitForm.project_docker_tel,callback:function(t){e.$set(e.sumbitForm,"project_docker_tel",t)},expression:"sumbitForm.project_docker_tel"}})],1),e._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"乙方对接人",prop:"sell_docker"}},[a("el-input",{model:{value:e.sumbitForm.sell_docker,callback:function(t){e.$set(e.sumbitForm,"sell_docker",t)},expression:"sumbitForm.sell_docker"}})],1),e._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"乙方对接人电话",prop:"sell_docker_tel"}},[a("el-input",{model:{value:e.sumbitForm.sell_docker_tel,callback:function(t){e.$set(e.sumbitForm,"sell_docker_tel",t)},expression:"sumbitForm.sell_docker_tel"}})],1),e._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"合同开始日期",prop:"compact_begin"}},[a("el-date-picker",{staticClass:"block",attrs:{type:"date",placeholder:"选择日期"},model:{value:e.sumbitForm.compact_begin,callback:function(t){e.$set(e.sumbitForm,"compact_begin",t)},expression:"sumbitForm.compact_begin"}})],1),e._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"合同截至日期",prop:"compact_end"}},[a("el-date-picker",{staticClass:"block",attrs:{type:"date",placeholder:"选择日期"},model:{value:e.sumbitForm.compact_end,callback:function(t){e.$set(e.sumbitForm,"compact_end",t)},expression:"sumbitForm.compact_end"}})],1),e._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"实际开始日期",prop:"act_start"}},[a("el-date-picker",{staticClass:"block",attrs:{type:"date",placeholder:"选择日期"},model:{value:e.sumbitForm.act_start,callback:function(t){e.$set(e.sumbitForm,"act_start",t)},expression:"sumbitForm.act_start"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"info"},[a("div",{staticClass:"title"},[a("div",{staticClass:"text"},[e._v("公司证明资料")]),e._v(" "),a("span",{staticClass:"btn"},[a("el-upload",{attrs:{"auto-upload":!1,action:"","on-change":e.fileUpload}},[2==e.distribution.state||0==!e.operationType?a("el-button",{ref:"uploadBtn",attrs:{type:"primary","show-file-list":!1}},[e._v("点击上传")]):e._e()],1)],1)]),e._v(" "),a("el-table",{attrs:{data:e.refund,border:""}},[a("el-table-column",{attrs:{label:"文件名称",prop:"file_name",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"附件",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("a",{attrs:{target:"_blank",href:e.base+t.row.url}},[e._v("查看附件")])]}}])}),e._v(" "),a("el-table-column",{attrs:{property:"uploader",label:"上传人员",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{property:"update_time",label:"上传时间",align:"center"}})],1)],1),e._v(" "),a("div",{staticClass:"info"},[a("div",{staticClass:"title"},[a("div",{staticClass:"text"},[e._v("成交佣金（推荐的客户在该项目购置房源后产生的佣金）")]),e._v(" "),a("span",{staticClass:"btn"},[2==e.distribution.state||0==!e.operationType?a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.showAdd(1,1)}}},[e._v("新增")]):e._e()],1)]),e._v(" "),a("el-table",{attrs:{data:e.ruleForm.deal,border:""}},[a("el-table-column",{attrs:{label:"序号",align:"center",width:"70px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.getIndex(t)))]}}])}),e._v(" "),a("el-table-column",{attrs:{property:"property_type",label:"物业类型",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"跳点",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(1==t.row.is_jump?"是 ":"否"))]}}])}),e._v(" "),a("el-table-column",{attrs:{property:"commission_way",label:"提成公式",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{property:"money_type",label:"单位",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{property:"param",label:"奖励金额（元/套）",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){e.showAdd(1,3,t.row)}}},[e._v("查看")]),e._v(" "),2==e.distribution.state?a("el-button",{attrs:{type:"text"},on:{click:function(a){e.showAdd(1,2,t.row)}}},[e._v("编辑")]):e._e(),e._v(" "),2==e.distribution.state?a("el-button",{attrs:{type:"text"},on:{click:function(a){e.removeRule(t.row)}}},[e._v("删除")]):e._e()]}}])})],1)],1),e._v(" "),a("div",{staticClass:"info"},[a("div",{staticClass:"title"},[a("div",{staticClass:"text"},[e._v("到访佣金（客户到访后且售楼处确认后产生的佣金")]),e._v(" "),a("span",{staticClass:"btn"},[2==e.distribution.state||0==!e.operationType?a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.showAdd(2,1)}}},[e._v("新增")]):e._e()],1)]),e._v(" "),a("el-table",{attrs:{data:e.ruleForm.visit,border:""}},[a("el-table-column",{attrs:{label:"序号",align:"center",width:"70px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.getIndex(t)))]}}])}),e._v(" "),a("el-table-column",{attrs:{property:"money_type",label:"单位",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{property:"param",label:"奖励金额（元/套）",align:"center"}}),e._v(" "),2==e.distribution.state?a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){e.showAdd(2,2,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){e.removeRule(t.row)}}},[e._v("删除")])]}}])}):e._e()],1)],1),e._v(" "),a("div",{staticClass:"info"},[a("div",{staticClass:"title"},[a("div",{staticClass:"text"},[e._v("推荐佣金（经纪人将客户推荐给项目后的佣金）")]),e._v(" "),a("span",{staticClass:"btn"},[2==e.distribution.state||0==!e.operationType?a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.showAdd(3,1)}}},[e._v("新增")]):e._e()],1)]),e._v(" "),a("el-table",{attrs:{data:e.ruleForm.recommend,border:""}},[a("el-table-column",{attrs:{label:"序号",align:"center",width:"70px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.getIndex(t)))]}}])}),e._v(" "),a("el-table-column",{attrs:{property:"money_type",label:"单位",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{property:"param",label:"奖励金额（元/套）",align:"center"}}),e._v(" "),2==e.distribution.state?a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){e.showAdd(3,2,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){e.removeRule(t.row)}}},[e._v("删除")])]}}])}):e._e()],1)],1)])])},staticRenderFns:[]};var Ve=a("vSla")(Ze,Ge,!1,function(e){a("Jby3"),a("aJyH")},"data-v-b738e4b8",null).exports,We={data:function(){return{rules:{start:[{required:!0,message:"请输入起始数",change:"change",pattern:/^[0-9]+(.[0-9]{0})?$/}],end:[{required:!0,message:"请输入截至数",change:"change",pattern:/^[0-9]+(.[0-9]{0})?$/}],value:[{required:!0,message:"请输入固定金额，最多可有2位小数",change:"change",pattern:/^[0-9]+(.[0-9]{1,2})?$/}],reward:[{required:!0,message:"请输入奖励金额（元/套）",change:"change",pattern:/^[0-9]+(.[0-9]{1,2})?$/}],property_type:[{type:"array",required:!0,message:"请选择物业类型",change:"change"}],commission_way:[{type:"number",required:!0,message:"请选择提成方式",change:"change"}],money_type:[{type:"number",required:!0,message:"请选择货币单位",change:"change"}],param:[{required:!0,message:"请输入参数，必须位整数",change:"change",pattern:/^[0-9]+(.[0-9]{0})?$/}]},refund:[],form:{rule_id:"",property_type:[],is_jump:0,is_total:0,money_type:"",commission_way:"",param:""},value:"",typeOptions:[],commissionWayOption:[],moneyTypeOption:[],distribution:{},distributionDetail:{},broker_type:0,isAddJumpRule:!0,addJumpRuleForm:{rule_id:"",start:"",end:"",value:"",reward:"",is_include:0},addJumpRuleDialog:!1,jumpRuleIsDisabled:!1,operationState:1}},mounted:function(){this.distribution=this.$store.state.distribution.distribution,this.distribution.project_id?(this.broker_type=this.$route.query.broker_type,this.operationState=this.$route.query.operationState,this.distributionDetail=this.$store.state.distribution.detail,this.$route.query.rule_id&&(this.form.rule_id=this.$route.query.rule_id,this.form.is_jump=1,this.getRuleInfo(),this.getJumpRuleList()),this.getMoneyType(),this.getCommissionWay(),this.getType()):this.$router.push({name:"distribution"})},methods:{getIndex:function(e){return e.$index+1},getRuleInfo:function(){var e=this;return b()(d.a.mark(function t(){var a,r;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.api.getUpdateBrokeRule({rule_id:e.form.rule_id});case 2:200==(a=t.sent).code&&(r=a.data,console.log(r),r.property_type=r.property_type.split(","),I()(e.form,r));case 4:case"end":return t.stop()}},t,e)}))()},submit:function(){var e,t=this;this.$refs.form.validate((e=b()(d.a.mark(function e(a){var r,n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=27;break}if(1==t.broker_type){e.next=4;break}return t.submitOtherRule(),e.abrupt("return");case 4:if((r={}).property_type=t.form.property_type.join(","),r.company_rule_id=t.distribution.rule_id,r.broker_type=t.broker_type,r.is_jump=t.form.is_jump,r.is_total=t.form.is_total,r.money_type=t.form.money_type,r.commission_way=t.form.commission_way,r.param=t.form.param,t.form.rule_id){e.next=20;break}return e.next=16,t.api.addBrokeRule(r);case 16:200==(n=e.sent).code&&(t.$message({type:"success",message:"新增成功"}),t.form.rule_id=n.data),e.next=25;break;case 20:return r.rule_id=t.form.rule_id,e.next=23,t.api.updateBrokeRule(r);case 23:200==e.sent.code&&t.$message({type:"success",message:"修改成功"});case 25:e.next=28;break;case 27:return e.abrupt("return",!1);case 28:case"end":return e.stop()}},e,t)})),function(t){return e.apply(this,arguments)}))},submitOtherRule:function(){var e=this;return b()(d.a.mark(function t(){var a,r;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((a={}).company_rule_id=e.distribution.rule_id,a.broker_type=e.broker_type,a.money_type=e.form.money_type,a.param=e.form.param,e.form.rule_id){t.next=12;break}return t.next=8,e.api.addBrokeRule(a);case 8:200==(r=t.sent).code&&(e.$message({type:"success",message:"新增成功"}),e.form.rule_id=r.data),t.next=17;break;case 12:return a.rule_id=e.form.rule_id,t.next=15,e.api.updateBrokeRule(a);case 15:200==t.sent.code&&e.$message({type:"success",message:"修改成功"});case 17:e.$router.push({name:"ruleOfMaid"});case 18:case"end":return t.stop()}},t,e)}))()},getJumpRuleList:function(){var e=this;return b()(d.a.mark(function t(){var a;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.api.getJumpRuleList({rule_id:e.form.rule_id});case 2:200==(a=t.sent).code&&(e.refund=a.data);case 4:case"end":return t.stop()}},t,e)}))()},getCommissionWay:function(){var e=this;return b()(d.a.mark(function t(){var a;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.api.getCommissionWay();case 2:200==(a=t.sent).code&&(e.commissionWayOption=a.data);case 4:case"end":return t.stop()}},t,e)}))()},getMoneyType:function(){var e=this;return b()(d.a.mark(function t(){var a;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.api.getMoneyType();case 2:200==(a=t.sent).code&&(e.moneyTypeOption=a.data);case 4:case"end":return t.stop()}},t,e)}))()},getType:function(){var e=this;return b()(d.a.mark(function t(){var a,r,n,i,s,o,l,c,p,u,m,_,b,v,f,h,g,y,x,k,C;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(1==e.broker_type){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.api.getTags();case 4:if(200!=(a=t.sent).code){t.next=72;break}r=a.data,n=[],i=!0,s=!1,o=void 0,t.prev=11,l=E()(e.distributionDetail.property_tags);case 13:if(i=(c=l.next()).done){t.next=38;break}for(p=c.value,"",u=!0,m=!1,_=void 0,t.prev=19,b=E()(r);!(u=(v=b.next()).done);u=!0)(f=v.value).param_id==p&&n.push(f);t.next=27;break;case 23:t.prev=23,t.t0=t.catch(19),m=!0,_=t.t0;case 27:t.prev=27,t.prev=28,!u&&b.return&&b.return();case 30:if(t.prev=30,!m){t.next=33;break}throw _;case 33:return t.finish(30);case 34:return t.finish(27);case 35:i=!0,t.next=13;break;case 38:t.next=44;break;case 40:t.prev=40,t.t1=t.catch(11),s=!0,o=t.t1;case 44:t.prev=44,t.prev=45,!i&&l.return&&l.return();case 47:if(t.prev=47,!s){t.next=50;break}throw o;case 50:return t.finish(47);case 51:return t.finish(44);case 52:for(h=!0,g=!1,y=void 0,t.prev=55,x=E()(n);!(h=(k=x.next()).done);h=!0)C=k.value,e.distribution.property_type&&e.distribution.property_type.includes(C.param)||e.typeOptions.push(C);t.next=63;break;case 59:t.prev=59,t.t2=t.catch(55),g=!0,y=t.t2;case 63:t.prev=63,t.prev=64,!h&&x.return&&x.return();case 66:if(t.prev=66,!g){t.next=69;break}throw y;case 69:return t.finish(66);case 70:return t.finish(63);case 71:0==e.typeOptions.length&&(e.$message({type:"error",message:"物业类型已使用完，不可新增"}),e.$router.push({name:"ruleOfMaid"}));case 72:case"end":return t.stop()}},t,e,[[11,40,44,52],[19,23,27,35],[28,,30,34],[45,,47,51],[55,59,63,71],[64,,66,70]])}))()},cancel:function(){this.$router.back()},showAddJumpRule:function(e,t){this.jumpRuleIsDisabled=t,e?(this.isAddJumpRule=!1,I()(this.addJumpRuleForm,e)):(this.isAddJumpRule=!0,I()(this.addJumpRuleForm,this.$options.data().addJumpRuleForm)),this.addJumpRuleDialog=!0},addJumpRuleSubmit:function(){var e,t=this;this.$refs.addJumpRuleForm.validate((e=b()(d.a.mark(function e(a){var r;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=17;break}if(t.addJumpRuleForm.rule_id=t.form.rule_id,r={},!t.isAddJumpRule){e.next=9;break}return e.next=6,t.api.addJumpRule(t.addJumpRuleForm);case 6:r=e.sent,e.next=12;break;case 9:return e.next=11,t.api.updateJumpRule(t.addJumpRuleForm);case 11:r=e.sent;case 12:200==r.code&&t.$message({type:"success",message:"提交成功"}),t.addJumpRuleDialog=!1,t.getJumpRuleList(),e.next=18;break;case 17:return e.abrupt("return",!1);case 18:case"end":return e.stop()}},e,t)})),function(t){return e.apply(this,arguments)}))},removeJumpRule:function(e){var t=this;this.$confirm("此操作将删除成功, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(b()(d.a.mark(function a(){var r;return d.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return(r={}).jump_id=e.jump_id,r.rule_id=t.form.rule_id,a.next=5,t.api.deleteJumpRule(r);case 5:200==a.sent.code&&t.$message({type:"success",message:"删除成功!"}),t.getJumpRuleList();case 8:case"end":return a.stop()}},a,t)}))).catch(function(){t.$message({type:"info",message:"已取消删除"})})}}},Ye={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ruleSetting"},[a("div",{staticClass:"ruleSetting-box"},[a("div",{staticClass:"title"},[a("span",{staticClass:"btn"},[3!=e.operationState?a("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("提交")]):e._e(),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.cancel}},[e._v("关闭")])],1)]),e._v(" "),1==e.broker_type?a("div",[a("div",{staticClass:"infoform"},[a("div",{staticClass:"text"},[e._v("规则设置")]),e._v(" "),a("el-form",{ref:"form",attrs:{model:e.form,disabled:3==e.operationState,rules:e.rules}},[a("el-form-item",{attrs:{prop:"property_type"}},e._l(e.typeOptions,function(t){return a("el-checkbox",{key:t.param_id,attrs:{label:t.param},model:{value:e.form.property_type,callback:function(t){e.$set(e.form,"property_type",t)},expression:"form.property_type"}},[e._v(e._s(t.param))])})),e._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"提成方式",prop:"commission_way"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择提成方式"},model:{value:e.form.commission_way,callback:function(t){e.$set(e.form,"commission_way",t)},expression:"form.commission_way"}},e._l(e.commissionWayOption,function(e){return a("el-option",{key:e.param_id,attrs:{label:e.param,value:e.param_id}})}))],1),e._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"单位",prop:"money_type"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择币种"},model:{value:e.form.money_type,callback:function(t){e.$set(e.form,"money_type",t)},expression:"form.money_type"}},e._l(e.moneyTypeOption,function(e){return a("el-option",{key:e.param_id,attrs:{label:e.param,value:e.param_id}})}))],1),e._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"参数",prop:"param"}},[a("el-input",{model:{value:e.form.param,callback:function(t){e.$set(e.form,"param",t)},expression:"form.param"}})],1),e._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"跳点提成累积"}},[a("el-radio-group",{model:{value:e.form.is_total,callback:function(t){e.$set(e.form,"is_total",t)},expression:"form.is_total"}},[a("el-radio",{attrs:{label:1}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:0}},[e._v("否")])],1)],1),e._v(" "),a("el-form-item",{staticClass:"input2",attrs:{label:"跳点"}},[a("el-radio-group",{model:{value:e.form.is_jump,callback:function(t){e.$set(e.form,"is_jump",t)},expression:"form.is_jump"}},[a("el-radio",{attrs:{label:1}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:0}},[e._v("否")])],1)],1)],1)],1),e._v(" "),e.form.rule_id&&1==e.form.is_jump?a("div",{staticClass:"info"},[a("div",{staticClass:"title"},[a("div",{staticClass:"text"},[e._v("跳点规则")]),e._v(" "),a("span",{staticClass:"btn"},[3!=e.operationState?a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.showAddJumpRule()}}},[e._v("新增")]):e._e()],1)]),e._v(" "),a("el-table",{attrs:{data:e.refund,border:""}},[a("el-table-column",{attrs:{label:"序号",align:"center",width:"70px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.getIndex(t)))]}}])}),e._v(" "),a("el-table-column",{attrs:{property:"start",label:"起始数",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{property:"end",label:"截止数",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{property:"value",label:"固定金额",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"是否累积",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(1==t.row.is_include?"是 ":"否"))]}}])}),e._v(" "),a("el-table-column",{attrs:{property:"reward",label:"奖励金额（元/套）",align:"center"}}),e._v(" "),3!=e.operationState?a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){e.showAddJumpRule(t.row,!0)}}},[e._v("查看")]),e._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){e.showAddJumpRule(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){e.removeJumpRule(t.row)}}},[e._v("删除")])]}}])}):e._e()],1),e._v(" "),a("el-dialog",{attrs:{title:"跳点规则",visible:e.addJumpRuleDialog},on:{"update:visible":function(t){e.addJumpRuleDialog=t},close:function(t){e.addJumpRuleDialog=!1}}},[a("el-form",{ref:"addJumpRuleForm",attrs:{model:e.addJumpRuleForm,disabled:e.jumpRuleIsDisabled,rules:e.rules}},[a("el-form-item",{staticClass:"input11",attrs:{label:"起始数",prop:"start"}},[a("el-input",{model:{value:e.addJumpRuleForm.start,callback:function(t){e.$set(e.addJumpRuleForm,"start",t)},expression:"addJumpRuleForm.start"}})],1),e._v(" "),a("el-form-item",{staticClass:"input11",attrs:{label:"截止数",prop:"end"}},[a("el-input",{model:{value:e.addJumpRuleForm.end,callback:function(t){e.$set(e.addJumpRuleForm,"end",t)},expression:"addJumpRuleForm.end"}})],1),e._v(" "),a("el-form-item",{staticClass:"input11",attrs:{label:"固定金额",prop:"value"}},[a("el-input",{model:{value:e.addJumpRuleForm.value,callback:function(t){e.$set(e.addJumpRuleForm,"value",t)},expression:"addJumpRuleForm.value"}})],1),e._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"奖励金额（元/套）",prop:"reward"}},[a("el-input",{model:{value:e.addJumpRuleForm.reward,callback:function(t){e.$set(e.addJumpRuleForm,"reward",t)},expression:"addJumpRuleForm.reward"}})],1),e._v(" "),a("el-form-item",{staticClass:"input11",attrs:{label:"是否累积"}},[a("el-radio-group",{model:{value:e.addJumpRuleForm.is_include,callback:function(t){e.$set(e.addJumpRuleForm,"is_include",t)},expression:"addJumpRuleForm.is_include"}},[a("el-radio",{attrs:{label:1}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:0}},[e._v("否")])],1)],1)],1),e._v(" "),e.jumpRuleIsDisabled?e._e():a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.addJumpRuleDialog=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.addJumpRuleSubmit}},[e._v("确 定")])],1)],1)],1):e._e()]):e._e(),e._v(" "),1!=e.broker_type?a("div",[a("div",{staticClass:"infoform"},[a("div",{staticClass:"text"},[e._v("规则设置")]),e._v(" "),a("el-form",{ref:"form",attrs:{model:e.form,disabled:3==e.operationState,rules:e.rules}},[a("el-form-item",{staticClass:"input",attrs:{label:"单位",prop:"money_type"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择币种"},model:{value:e.form.money_type,callback:function(t){e.$set(e.form,"money_type",t)},expression:"form.money_type"}},e._l(e.moneyTypeOption,function(e){return a("el-option",{key:e.param_id,attrs:{label:e.param,value:e.param_id}})}))],1),e._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"参数",prop:"param"}},[a("el-input",{model:{value:e.form.param,callback:function(t){e.$set(e.form,"param",t)},expression:"form.param"}})],1)],1)],1)]):e._e()])])},staticRenderFns:[]};var He=a("vSla")(We,Ye,!1,function(e){a("wLdY"),a("t2w1")},"data-v-6cf7ff9a",null).exports,Xe={data:function(){return{page:1,pageSize:0,total:0,pageSize1:0,total1:0,maintain:[],examine:[],project_id:"",agent_id:"",operationType:0}},mounted:function(){this.project_id=this.$route.params.project_id,this.project_id?this.getAgent():this.$router.push({name:"distribution"})},methods:{remove:function(e){var t=this;this.$confirm("此操作将结束到访确认人的权利, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(b()(d.a.mark(function a(){return d.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.api.endAgent({agent_id:e.agent_id});case 2:200==a.sent.code&&(t.$message({type:"success",message:"结束成功!"}),t.getAgent());case 4:case"end":return a.stop()}},a,t)}))).catch(function(){t.$message({type:"info",message:"已取消结束到访确认人的权利"})})},getAgent:function(){var e=this;return b()(d.a.mark(function t(){var a;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.api.getAgent({project_id:e.project_id});case 2:200==(a=t.sent).code&&(e.maintain=a.data.y_info.data,e.examine=a.data.n_info.data,e.total=a.data.y_info.total,e.pageSize=a.data.y_info.per_page,e.total1=a.data.n_info.total,e.pageSize1=a.data.n_info.per_page);case 4:case"end":return t.stop()}},t,e)}))()},getIndex:function(e){return e.$index+1+(this.page-1)*this.pageSize},pageChange:function(e){this.page=e,this.getAgent()},cancel:function(){this.$router.push({name:"distribution"})},showAdd:function(e,t){var a=this;return b()(d.a.mark(function r(){return d.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:0==e?a.$router.push({name:"addPerson",params:{project_id:a.project_id,operationType:e,agent_id:t.agent_id}}):1==e?a.$router.push({name:"addPerson",params:{agent_id:t.agent_id,operationType:e,project_id:t.project_id,ex_id:t.ex_id}}):2==e&&a.$router.push({name:"addPerson",params:{agent_id:t.agent_id,operationType:e}});case 1:case"end":return r.stop()}},r,a)}))()},state:function(e){return 0==e?"禁用":1==e?"正常":void 0},authenticationState:function(e){return 2==e?"待审核":0==e?"未通过 ":1==e?"审核通过 ":void 0},addShow:function(){this.$router.push({name:"addPerson",params:{project_id:this.project_id}})}}},Ke={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"fastDistribution"},[a("div",{staticClass:"table"},[a("div",{staticClass:"title"},[a("div",{staticClass:"text"},[e._v("到访确认人维护信息")]),e._v(" "),a("span",{staticClass:"search"},[a("el-button",{staticClass:"addBtn",attrs:{type:"primary"},on:{click:e.addShow}},[e._v("新增")]),e._v(" "),a("el-button",{staticClass:"addBtn",attrs:{type:"primary"},on:{click:e.cancel}},[e._v("关闭")])],1)]),e._v(" "),a("el-table",{attrs:{data:e.maintain,border:""}},[a("el-table-column",{attrs:{prop:"nub",label:"序号",align:"center",width:"70px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.getIndex(t)))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"account",label:"云算号",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"名称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"tel",label:"联系方式",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"department",label:"所属部门",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"position",label:"职位",align:"center",width:"120px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"entry_time",label:"入职时间",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"分配时间",align:"center",width:"160px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"state",label:"状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.state(t.row.state)))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"operation",label:"操作",align:"center",width:"140px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){e.showAdd(0,t.row)}}},[e._v("查看")]),e._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){e.remove(t.row)}}},[e._v("结束")])]}}])})],1),e._v(" "),a("el-pagination",{staticClass:"page",attrs:{background:"",layout:"prev, pager, next","page-size":e.pageSize,"current-page":e.page,total:e.total},on:{"current-change":e.pageChange}})],1),e._v(" "),a("div",{staticClass:"table"},[e._m(0),e._v(" "),a("el-table",{attrs:{data:e.examine,border:""}},[a("el-table-column",{attrs:{label:"序号",align:"center",width:"70px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.getIndex(t)))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"account",label:"云算号",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"名称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"tel",label:"联系方式",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"department",label:"所属部门",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"position",label:"职位",align:"center",width:"120px"}}),e._v(" "),a("el-table-column",{attrs:{prop:"entry_time",label:"申请时间",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"state",label:"审核状态",align:"center",width:"90px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.authenticationState(t.row.state)))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"operation",label:"操作",align:"center",width:"120px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){e.showAdd(2,t.row)}}},[e._v("查看")]),e._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){e.showAdd(1,t.row)}}},[e._v("审核")])]}}])})],1),e._v(" "),a("el-pagination",{staticClass:"page",attrs:{background:"",layout:"prev, pager, next","page-size":e.pageSize1,"current-page":e.page,total:e.total1},on:{"current-change":e.pageChange}})],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"title"},[t("div",{staticClass:"text"},[this._v("到访确认人审核信息")])])}]};var et=a("vSla")(Xe,Ke,!1,function(e){a("Ry3k"),a("0Hcs")},"data-v-59c89ee0",null).exports,tt={data:function(){return{submitForm:{entry_time:"",tabsolute_addressel:"",birth:"",tel:"",sex:"",position:"",department:"",account:"",name:"",project_id:"",agent_id:"",fp_name:"",fp_time:"",remark:"",ex_id:"",type:0},remark:"",refuseInfo:!1,operationType:0}},mounted:function(){this.operationType=this.$route.params.operationType,this.ex_id=this.$route.params.ex_id,this.type=this.$route.params.type,this.project_id=this.$route.params.project_id,this.agent_id=this.$route.params.agent_id,(this.agent_id||this.$route.params.agentInfo)&&(void 0===this.$route.params.agentInfo?this.getAgentInfo():(this.agent_id=this.$route.params.agentInfo.agent_id,this.getAgentInfo()))},methods:{exAgent:function(e){var t=this;return b()(d.a.mark(function a(){var r;return d.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(t.submitForm.type=e,(r=I()({},t.submitForm)).agent_id=t.agent_id,r.ex_id=t.ex_id,r.project_id=t.project_id,r.type=e,r.remark=t.remark,0!=e){a.next=15;break}return t.refuseInfo=!0,a.next=11,t.api.exAgent(r);case 11:200==a.sent.code&&(t.close(),t.cancelRefuseInfo(),t.getAgentInfo()),a.next=16;break;case 15:t.$confirm("此操作将审核成功, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(b()(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.api.exAgent(r);case 2:200==e.sent.code&&(t.$message({type:"success",message:"审核成功!"}),t.close(),t.cancelRefuseInfo(),t.getAgentInfo());case 4:case"end":return e.stop()}},e,t)}))).catch(function(){t.$message({type:"info",message:"已取消审核"})});case 16:case"end":return a.stop()}},a,t)}))()},cancelRefuseInfo:function(){this.refuseInfo=!1,this.remark=""},sumbit:function(){var e=this;return b()(d.a.mark(function t(){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.agent_id){t.next=3;break}return e.$message({type:"warning",message:"请选择到访确认人!"}),t.abrupt("return");case 3:return e.submitForm.project_id=e.project_id,e.submitForm.agent_id=e.agent_id,t.next=7,e.api.agentAdd(e.submitForm);case 7:200==t.sent.code&&(e.$message({type:"success",message:"选择到访确认人成功!"}),e.$route.params.backUrl?e.$router.push({name:e.$route.params.backUrl,params:e.$route.params}):e.$router.push({name:"fastDistribution",params:{submitForm:e.submitForm}}));case 9:case"end":return t.stop()}},t,e)}))()},isDisable:function(){return 1!=this.operationType&&(0!=this.operationType&&2!=this.operationType)},getAgentInfo:function(){var e=this;return b()(d.a.mark(function t(){var a;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.api.getAgentInfo({agent_id:e.agent_id});case 2:200==(a=t.sent).code&&I()(e.submitForm,a.data);case 4:case"end":return t.stop()}},t,e)}))()},sex:function(e){return 1==e?"男":2==e?"女":0==e?"未设置":void 0},choice:function(){this.$router.push({name:"choicePeople",params:{project_id:this.project_id}})},close:function(){this.$router.push({name:"fastDistribution",params:this.$route.params})}}},at={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"addPerson"},[a("div",{staticClass:"box"},[a("span",{staticClass:"num_set"},[e._v("到访确认人信息")]),e._v(" "),a("span",{staticClass:"btn"},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:0!=e.operationType,expression:"operationType!=0"}],attrs:{type:"primary"},on:{click:e.sumbit}},[e._v("确定")]),e._v(" "),1==e.operationType?a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.exAgent(1)}}},[e._v("审核通过")]):e._e(),e._v(" "),1==e.operationType?a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.exAgent(0)}}},[e._v("审核不通过")]):e._e(),e._v(" "),a("el-button",{staticClass:"btn-1",on:{click:e.close}},[e._v("返回")])],1),e._v(" "),a("el-form",{model:{value:e.submitForm,callback:function(t){e.submitForm=t},expression:"submitForm"}},[a("el-form-item",{staticClass:"input1"},[a("div",[e._v("到访确认人")]),e._v(" "),a("div",{staticClass:"border"},[e._v(e._s(e.submitForm.name))])]),e._v(" "),a("span",[0!=e.operationType?a("el-button",{staticClass:"button",attrs:{type:"primary"},on:{click:e.choice}},[e._v("选择")]):e._e()],1),e._v(" "),a("div",{staticClass:"num_set"},[e._v("员工信息")]),e._v(" "),a("el-form",{model:{value:e.submitForm,callback:function(t){e.submitForm=t},expression:"submitForm"}},[a("el-form-item",{staticClass:"input1"},[a("div",[e._v("姓名")]),e._v(" "),a("div",{staticClass:"border"},[e._v(e._s(e.submitForm.name))])]),e._v(" "),a("el-form-item",{staticClass:"input1"},[a("div",[e._v("入职时间")]),e._v(" "),a("div",{staticClass:"border"},[e._v(e._s(e.submitForm.entry_time))])]),e._v(" "),a("el-form-item",{staticClass:"input1"},[a("div",[e._v("云算号")]),e._v(" "),a("div",{staticClass:"border"},[e._v(e._s(e.submitForm.account))])]),e._v(" "),a("el-form-item",{staticClass:"input1"},[a("div",[e._v("所属部门")]),e._v(" "),a("div",{staticClass:"border"},[e._v(e._s(e.submitForm.department))])]),e._v(" "),a("el-form-item",{staticClass:"input1"},[a("div",[e._v("职位")]),e._v(" "),a("div",{staticClass:"border"},[e._v(e._s(e.submitForm.position))])]),e._v(" "),a("div",{staticClass:"num_set"},[e._v("基础信息")]),e._v(" "),a("el-form-item",{staticClass:"input1"},[a("div",[e._v("性别")]),e._v(" "),a("div",{staticClass:"border"},[e._v("\n            "+e._s(e.sex(e.submitForm.sex))+"\n          ")])]),e._v(" "),a("el-form-item",{staticClass:"input1"},[a("div",[e._v("电话号码")]),e._v(" "),a("div",{staticClass:"border"},[e._v(e._s(e.submitForm.tel))])]),e._v(" "),a("el-form-item",{staticClass:"input1"},[a("div",[e._v("出生年月")]),e._v(" "),a("div",{staticClass:"border"},[e._v(e._s(e.submitForm.birth))])]),e._v(" "),a("el-form-item",{staticClass:"input1"},[a("div",[e._v("通讯地址")]),e._v(" "),a("div",{staticClass:"border width"},[e._v(e._s(e.submitForm.province+e.submitForm.district+e.submitForm.city+e.submitForm.absolute_address))])]),e._v(" "),0==e.operationType?a("div",[a("div",{staticClass:"num_set"},[e._v("分配信息")]),e._v(" "),a("el-form-item",{staticClass:"input1"},[a("div",[e._v("分配人")]),e._v(" "),a("div",{staticClass:"border"},[e._v(e._s(e.submitForm.fp_name))])]),e._v(" "),a("el-form-item",{staticClass:"input1"},[a("div",[e._v("分配时间")]),e._v(" "),a("div",{staticClass:"border"},[e._v(e._s(e.submitForm.fp_time))])]),e._v(" "),a("el-form-item",{staticClass:"input1-br"},[a("div",[e._v("备注")]),e._v(" "),a("div",{staticClass:"border width-1"},[e._v(e._s(e.submitForm.remark))])])],1):e._e()],1)],1),e._v(" "),a("el-dialog",{staticClass:"dialog",attrs:{title:"拒绝",visible:e.refuseInfo},on:{"update:visible":function(t){e.refuseInfo=t},close:e.cancelRefuseInfo}},[a("el-form",[a("el-form-item",{attrs:{label:"审核不通过原因"}},[a("el-input",{staticClass:"textarea",attrs:{type:"textarea"},model:{value:e.remark,callback:function(t){e.remark=t},expression:"remark"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancelRefuseInfo}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.exAgent(0)}}},[e._v("确 定")])],1)],1)],1)])},staticRenderFns:[]};var rt=a("vSla")(tt,at,!1,function(e){a("3IX8")},"data-v-cc0ee776",null).exports,nt={data:function(){return{agentInfo:[],project_id:"",agent_id:"",searchObj:{search:"",page:1},pageSize:0,total:0}},mounted:function(){this.project_id=this.$route.params.project_id,this.agentList()},methods:{getIndex:function(e){return e.$index+1},agentList:function(){var e=this;return b()(d.a.mark(function t(){var a;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.api.agentList(e.searchObj);case 2:200==(a=t.sent).code&&(e.agentInfo=a.data);case 4:case"end":return t.stop()}},t,e)}))()},submit:function(e){this.$router.push({name:"addPerson",params:{agentInfo:e,agent_id:e.agent_id,project_id:this.project_id}})},close:function(){this.$router.push({name:"addPerson",params:this.$route.params})}}},it={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"addPerson"},[a("div",{staticClass:"box"},[a("div",{staticClass:"title"},[a("span",{staticClass:"num_set"},[e._v("选择经纪人")]),e._v(" "),a("span",{staticClass:"search-block"},[a("el-input",{staticClass:"query",attrs:{placeholder:"可按云算号/经纪人姓名进行查询"},model:{value:e.searchObj.search,callback:function(t){e.$set(e.searchObj,"search",t)},expression:"searchObj.search"}}),e._v(" "),a("el-button",{attrs:{icon:"el-icon-search",circle:""},on:{click:e.agentList}}),e._v(" "),a("span",{staticClass:"btn"},[a("el-button",{on:{click:e.close}},[e._v("返回")])],1)],1)]),e._v(" "),a("el-table",{attrs:{data:e.agentInfo,border:""}},[a("el-table-column",{attrs:{label:"序号",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.getIndex(t)))]}}])}),e._v(" "),a("el-table-column",{attrs:{property:"account",label:"云算号",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{property:"name",label:"经纪人名称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{property:"tel",label:"联系电话",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"120px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){e.submit(t.row)}}},[e._v("选择")])]}}])})],1)],1)])},staticRenderFns:[]};var st=a("vSla")(nt,it,!1,function(e){a("7IYT"),a("Ohn7")},"data-v-9e553e8a",null).exports,ot={data:function(){return{searchObj:{search:"",province:"",city:"",district:"",page:1},pageSize:0,total:0,sumbitForm:[],project_id:""}},mounted:function(){this.changeProjectList()},methods:{addshow:function(){this.$router.push({name:"ruleOfMaid"})},search:function(){this.searchObj.page=1,this.changeProjectList()},getIndex:function(e){return e.$index+1+(this.searchObj.page-1)*this.pageSize},pageChange:function(e){this.searchObj.page=e,this.changeProjectList()},changeProjectList:function(){var e=this;return b()(d.a.mark(function t(){var a;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.api.changeProjectList(e.searchObj);case 2:200==(a=t.sent).code&&(e.sumbitForm=a.data.data,e.total=a.data.total,e.pageSize=a.data.per_page);case 4:case"end":return t.stop()}},t,e)}))()},sumbit:function(e){this.$store.commit("distribution",e),this.$store.commit("operationType",-1),this.$router.push({name:"projectInfo"})},close:function(){this.$router.push({name:"distribution",params:this.$route.params})}},components:{CitySelector:z}},lt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"addPerson"},[a("div",{staticClass:"box"},[a("div",{staticClass:"relative"},[a("city-selector",{staticClass:"selectDis",attrs:{province:e.searchObj.province,city:e.searchObj.city,district:e.searchObj.district},on:{"update:province":function(t){e.$set(e.searchObj,"province",t)},"update:city":function(t){e.$set(e.searchObj,"city",t)},"update:district":function(t){e.$set(e.searchObj,"district",t)}}}),e._v(" "),a("el-input",{staticClass:"query",attrs:{placeholder:"可按项目编号/项目名称进行查询"},model:{value:e.searchObj.search,callback:function(t){e.$set(e.searchObj,"search",t)},expression:"searchObj.search"}}),e._v(" "),a("el-button",{attrs:{icon:"el-icon-search",circle:""},on:{click:e.changeProjectList}}),e._v(" "),a("span",{staticClass:"pos-abs"},[a("el-button",{staticClass:"pos-right",attrs:{type:"primary"},on:{click:e.close}},[e._v("返回")])],1)],1)]),e._v(" "),a("div",{staticClass:"texe-1"},[e._v("申请项目信息")]),e._v(" "),a("el-table",{attrs:{data:e.sumbitForm,border:""}},[a("el-table-column",{attrs:{label:"序号",align:"center",width:"70px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.getIndex(t)))]}}])}),e._v(" "),a("el-table-column",{attrs:{property:"project_code",label:"项目编号",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{property:"project_name",label:"项目名称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{property:"absolute_address",label:"地址",align:"center",width:"320px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.province_name+t.row.city_name+t.row.district_name+t.row.absolute_address))])]}}])}),e._v(" "),a("el-table-column",{attrs:{property:"project_hold_name",label:"项目负责人",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{property:"project_hold_phone",label:"联系方式",align:"center",width:"120px"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{on:{click:function(a){e.sumbit(t.row)}}},[e._v("提交")])]}}])})],1),e._v(" "),a("el-pagination",{staticClass:"page",attrs:{background:"",layout:"prev, pager, next","page-size":e.pageSize,"current-page":e.searchObj.page,total:e.total},on:{"current-change":e.pageChange}})],1)},staticRenderFns:[]};var ct=a("vSla")(ot,lt,!1,function(e){a("f7GQ"),a("lcdt")},"data-v-d572d954",null).exports,pt={data:function(){return{submitForm:{province:"",city:"",district:"",project_id:"",rule_id:"",auditProject:{},property_tags:[],state:""},peopleInfo:[],project_id:"",rule_id:"",typeOptions:[],operationType:0,auditing_state:"",gridData:[],distribution:{}}},mounted:function(){this.distribution=this.$store.state.distribution.distribution,this.auditing_state=this.distribution.state,this.project_id=this.distribution.project_id,this.rule_id=this.distribution.rule_id,this.operationType=this.$store.state.operationType,this.project_id?(this.getProjectDetail(),this.getType()):this.$router.push({name:"distribution"})},methods:{seeShow:function(){this.$router.push({name:"ruleOfMaid"})},remove:function(e){var t=this;this.$confirm("此操作将结束到访确认人的权利, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(b()(d.a.mark(function a(){return d.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.api.endAgent({agent_id:e.agent_id});case 2:200==a.sent.code&&(t.$message({type:"success",message:"结束成功!"}),t.getProjectDetail());case 4:case"end":return a.stop()}},a,t)}))).catch(function(){t.$message({type:"info",message:"已取消结束到访确认人的权利"})})},getIndex:function(e){return e.$index+1},end_state:function(e){return 0==e?"执行中":"已终止"},state:function(e){return 0==e?"通过":1==e?"拒绝":2==e?"待审核":void 0},getType:function(){var e=this;return b()(d.a.mark(function t(){var a;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.api.getTags();case 2:200==(a=t.sent).code&&(e.typeOptions=a.data);case 4:case"end":return t.stop()}},t,e)}))()},isDisable:function(){return 0==this.operationType||(this.operationType,!1)},getProjectDetail:function(){var e=this;return b()(d.a.mark(function t(){var a,r,n,i,s,o,l,c,p,u,m,_,b,v,f,h,g,y;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(I()(e.submitForm,e.$route.params.projectInfo),0!=e.operationType){t.next=33;break}return t.next=4,e.api.getRole({project_id:e.project_id,rule_id:e.rule_id});case 4:if(200!=(a=t.sent).code){t.next=31;break}for(I()(e.submitForm,a.data.project),r=a.data.project.property_tags,n=[],i=!0,s=!1,o=void 0,t.prev=12,l=E()(r);!(i=(c=l.next()).done);i=!0)p=c.value,n.push(p.property_tag_id);t.next=20;break;case 16:t.prev=16,t.t0=t.catch(12),s=!0,o=t.t0;case 20:t.prev=20,t.prev=21,!i&&l.return&&l.return();case 23:if(t.prev=23,!s){t.next=26;break}throw o;case 26:return t.finish(23);case 27:return t.finish(20);case 28:e.submitForm.property_tags=n,e.gridData=a.data.broker,e.peopleInfo=a.data.agent;case 31:t.next=61;break;case 33:return I()(e.submitForm,e.$route.params.projectInfo),t.next=36,e.api.applyProject({project_id:e.project_id});case 36:if(200!=(u=t.sent).code){t.next=61;break}for(I()(e.submitForm,u.data),m=u.data.property_tags,_=[],b=!0,v=!1,f=void 0,t.prev=44,h=E()(m);!(b=(g=h.next()).done);b=!0)y=g.value,_.push(y.property_tag_id);t.next=52;break;case 48:t.prev=48,t.t1=t.catch(44),v=!0,f=t.t1;case 52:t.prev=52,t.prev=53,!b&&h.return&&h.return();case 55:if(t.prev=55,!v){t.next=58;break}throw f;case 58:return t.finish(55);case 59:return t.finish(52);case 60:e.submitForm.property_tags=_;case 61:e.$store.commit("distributionDetail",V()({},e.submitForm));case 62:case"end":return t.stop()}},t,e,[[12,16,20,28],[21,,23,27],[44,48,52,60],[53,,55,59]])}))()},search:function(){var e=this;return b()(d.a.mark(function t(){var a;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.api.changeProjectList({project_id:e.submitForm.project_id});case 2:200==(a=t.sent).code&&(e.sumbitForm=a.data);case 4:case"end":return t.stop()}},t,e)}))()},submit:function(){var e=this;this.$confirm("此操作将提交成功, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(b()(d.a.mark(function t(){var a;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.api.changeProjectAdd({project_id:e.project_id});case 2:200==(a=t.sent).code&&(e.$message({type:"success",message:"提交成功!"}),e.distribution.rule_id=a.data,e.$router.push({name:"ruleOfMaid"}));case 4:case"end":return t.stop()}},t,e)}))).catch(function(){e.$message({type:"info",message:"已取消提交"})})},cancel:function(){void 0!=this.operationType?this.$router.push({name:"distribution"}):this.$router.push({name:"startApply"})}},components:{CitySelector:z}},ut={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"projectInfo"},[a("div",{staticClass:"title-text"},[e._v("项目分销详情\n    "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancel}},[e._v("关 闭")]),e._v(" "),e.isDisable()?e._e():a("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("提 交")])],1)]),e._v(" "),a("el-form",{staticClass:"form",attrs:{model:e.submitForm,disabled:!(1==e.operationType)}},[a("div",[a("el-form-item",{staticClass:"input",attrs:{label:"项目编号"}},[a("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入项目编号"},model:{value:e.submitForm.project_code,callback:function(t){e.$set(e.submitForm,"project_code",t)},expression:"submitForm.project_code"}})],1),e._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"项目名称"}},[a("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入项目名称"},model:{value:e.submitForm.project_name,callback:function(t){e.$set(e.submitForm,"project_name",t)},expression:"submitForm.project_name"}})],1)],1),e._v(" "),a("div",{staticClass:"text"},[e._v("物业类型")]),e._v(" "),a("el-form-item",{attrs:{prop:"property_tags"}},e._l(e.typeOptions,function(t){return a("el-checkbox",{key:t.param_id,attrs:{label:t.param_id},model:{value:e.submitForm.property_tags,callback:function(t){e.$set(e.submitForm,"property_tags",t)},expression:"submitForm.property_tags"}},[e._v(e._s(t.param))])})),e._v(" "),a("div",{staticClass:"text"},[e._v("现住地址")]),e._v(" "),a("el-form-item",[a("city-selector",{attrs:{province:e.submitForm.province,city:e.submitForm.city,district:e.submitForm.district},on:{"update:province":function(t){e.$set(e.submitForm,"province",t)},"update:city":function(t){e.$set(e.submitForm,"city",t)},"update:district":function(t){e.$set(e.submitForm,"district",t)}}}),e._v(" "),a("el-input",{staticClass:"input1",model:{value:e.submitForm.absolute_address,callback:function(t){e.$set(e.submitForm,"absolute_address",t)},expression:"submitForm.absolute_address"}})],1),e._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"项目负责人"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.submitForm.project_hold_name,callback:function(t){e.$set(e.submitForm,"project_hold_name",t)},expression:"submitForm.project_hold_name"}})],1),e._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"联系电话"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.submitForm.project_hold_phone,callback:function(t){e.$set(e.submitForm,"project_hold_phone",t)},expression:"submitForm.project_hold_phone"}})],1),e._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"开发商"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.submitForm.developer_name,callback:function(t){e.$set(e.submitForm,"developer_name",t)},expression:"submitForm.developer_name"}})],1),e._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"结佣单位"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.submitForm.statement_company,callback:function(t){e.$set(e.submitForm,"statement_company",t)},expression:"submitForm.statement_company"}})],1),e._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"所属单位"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.submitForm.subordinate_company,callback:function(t){e.$set(e.submitForm,"subordinate_company",t)},expression:"submitForm.subordinate_company"}})],1),e._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"与项目关系"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.submitForm.company_relation,callback:function(t){e.$set(e.submitForm,"company_relation",t)},expression:"submitForm.company_relation"}})],1)],1),e._v(" "),1==this.auditing_state&&0==e.operationType?a("div",[a("div",{staticClass:"title-text"},[e._v("到访确认人信息")]),e._v(" "),a("el-table",{attrs:{data:e.peopleInfo,border:""}},[a("el-table-column",{attrs:{label:"序号",align:"center",width:"70px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.getIndex(t)))]}}])}),e._v(" "),a("el-table-column",{attrs:{property:"account",label:"云算号",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{property:"name",label:"名称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{property:"tel",label:"联系方式",align:"center",width:"110px"}}),e._v(" "),a("el-table-column",{attrs:{property:"department",label:"所属部门",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{property:"position",label:"职位",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{property:"entry_time",label:"入职时间",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{property:"create_time",label:"分配时间",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){e.remove(t.row)}}},[e._v("结束")])]}}])})],1)],1):e._e(),e._v(" "),1==e.operationType||0==e.operationType?a("div",[a("div",{staticClass:"title-text"},[e._v("结佣规则")]),e._v(" "),a("el-table",{attrs:{data:e.gridData,border:""}},[a("el-table-column",{attrs:{prop:"state",label:"申请状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.state(t.row.state)))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"end_state",label:"执行状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.end_state(t.row.end_state)))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){e.seeShow(t.row)}}},[e._v("查看")])]}}])})],1)],1):e._e()],1)},staticRenderFns:[]};var mt=a("vSla")(pt,ut,!1,function(e){a("BDso"),a("55+Z")},"data-v-5e5166e8",null).exports,dt={data:function(){return{tableData:[],searchObj:{tag_search:"",search:"",page:1},pageSize:0,total:0,tipActiveIndex:1,dialogFormVisible:!1,refuseInfo:!1,examinePeople:{name:"",role:"",account:"",department:"",position:"",img_url:"",entry_time:"",project_name:"",sex:"",tel:"",birth:"",absolute_address:"",city_name:"",district_name:"",agent_id:null,project_id:null,id:null,remark:""},showImgUrl:!1,submitForm:{},remark:"",operationType:0}},mounted:function(){this.getExList()},methods:{showCheck:function(e){this.refuseInfo=!0},seeimgUrl:function(){this.showImgUrl=!0},check:function(e){var t=this;return b()(d.a.mark(function a(){var r;return d.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:t.submitForm.type=e,r=I()({},t.submitForm),0==e?t.$confirm("此操作将审核不通过, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(b()(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.remark=t.remark,e.next=3,t.api.exPeople(r);case 3:200==e.sent.code&&t.$message({type:"success",message:"审核不通过成功!"}),t.getExList(),t.cancelRefuseInfo(),t.cancel();case 8:case"end":return e.stop()}},e,t)}))).catch(function(){t.$message({type:"info",message:"已取消审核不通过"})}):t.$confirm("此操作将审核成功, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(b()(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.api.exPeople(r);case 2:200==e.sent.code&&t.$message({type:"success",message:"审核成功!"}),t.getExList(),t.cancelRefuseInfo(),t.cancel();case 7:case"end":return e.stop()}},e,t)}))).catch(function(){t.$message({type:"info",message:"已取消审核"})});case 3:case"end":return a.stop()}},a,t)}))()},examine:function(e){var t=this;return b()(d.a.mark(function a(){var r;return d.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t.operationType=0,t.dialogFormVisible=!0,t.examinePeople=e,t.submitForm.project_id=e.project_id,t.submitForm.agent_id=e.agent_id,t.submitForm.id=e.id,a.next=8,t.api.getExInfo(t.examinePeople);case 8:200==(r=a.sent).code&&I()(t.examinePeople,r.data);case 10:case"end":return a.stop()}},a,t)}))()},showSee:function(e){var t=this;return b()(d.a.mark(function a(){var r;return d.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t.operationType=1,t.dialogFormVisible=!0,a.next=4,t.api.getRefuseInfo({agent_id:e.agent_id});case 4:200==(r=a.sent).code&&I()(t.examinePeople,r.data);case 6:case"end":return a.stop()}},a,t)}))()},getRole:function(e){return 1==e?"经纪人":2==e?"对接人":void 0},auditingState:function(e){return 0==e?"拒绝":1==e?"通过":2==e?"待审核":void 0},role:function(e){return 1==e?"新房经纪人":2==e?"项目对接人":void 0},sex:function(e){return 1==e?"男":2==e?"女":0==e?"未设置":void 0},cancel:function(){this.dialogFormVisible=!1},cancelRefuseInfo:function(){this.refuseInfo=!1,this.remark=""},getExList:function(){var e=this;return b()(d.a.mark(function t(){var a;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.api.getExList(e.searchObj);case 2:((a=t.sent).code=200)&&(e.tableData=a.data.data,e.total=a.data.total,e.pageSize=a.data.per_page);case 4:case"end":return t.stop()}},t,e)}))()},pageChange:function(e){this.searchObj.page=e,this.getExList()},getIndex:function(e){return e.$index+1+(this.searchObj.page-1)*this.pageSize},clickTip:function(e){this.tipActiveIndex=e,this.searchObj.tag_search=e,this.search()},search:function(){this.searchObj.page=1,this.getExList()}}},_t={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"examinePeople"},[r("div",{staticClass:"title"},[r("div",{staticClass:"left"},[r("div",{staticClass:"text1"},[e._v("当前位置：审核经纪人")]),e._v(" "),r("div",{staticClass:"left"},[r("el-button",{staticClass:"tip",class:1==e.tipActiveIndex?"active":"",attrs:{type:"text"},on:{click:function(t){e.clickTip(1)}}},[e._v("全部")]),e._v(" "),r("el-button",{staticClass:"tip",class:2==e.tipActiveIndex?"active":"",attrs:{type:"text"},on:{click:function(t){e.clickTip(2)}}},[e._v("待审核")]),e._v(" "),r("el-button",{staticClass:"tip",class:0==e.tipActiveIndex?"active":"",attrs:{type:"text"},on:{click:function(t){e.clickTip(0)}}},[e._v("审核未通过")]),e._v(" "),r("div",{staticClass:"search-block"},[r("el-input",{staticClass:"query",attrs:{placeholder:"可查询云算号/经纪人姓名"},model:{value:e.searchObj.search,callback:function(t){e.$set(e.searchObj,"search",t)},expression:"searchObj.search"}}),e._v(" "),r("el-button",{attrs:{icon:"el-icon-search",circle:""},on:{click:e.getExList}})],1)],1)])]),e._v(" "),[r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[r("el-table-column",{attrs:{prop:"",label:"序号",align:"center",width:"70px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.getIndex(t)))]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"account",label:"云算号",align:"center",width:"100px"}}),e._v(" "),r("el-table-column",{attrs:{prop:"name",label:"经纪人姓名",align:"center",width:"140px"}}),e._v(" "),r("el-table-column",{attrs:{prop:"tel",label:"联系方式",align:"center",width:"140px"}}),e._v(" "),r("el-table-column",{attrs:{prop:"role",label:"角色",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.getRole(t.row.role)))]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"project_name",label:"申请项目",align:"center",width:"140px"}}),e._v(" "),r("el-table-column",{attrs:{prop:"department",label:"所属部门",align:"center",width:"140px"}}),e._v(" "),r("el-table-column",{attrs:{prop:"city_name",label:"城市",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{prop:"district_name",label:"区域",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{prop:"state",label:"审核状态",align:"center",width:"110px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.auditingState(t.row.state)))]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"entry_time",label:"申请时间",align:"center",width:"140px"}}),e._v(" "),r("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[2==t.row.state?r("el-button",{attrs:{type:"text"},on:{click:function(a){e.examine(t.row)}}},[e._v("审核")]):e._e(),e._v(" "),0==t.row.state?r("el-button",{attrs:{type:"text"},on:{click:function(a){e.showSee(t.row)}}},[e._v("查看")]):e._e()]}}])})],1),e._v(" "),r("el-pagination",{staticClass:"page",attrs:{background:"",layout:"prev, pager, next","page-size":e.pageSize,"current-page":e.searchObj.page,total:e.total},on:{"current-change":e.pageChange}}),e._v(" "),r("el-dialog",{staticClass:"dialog",attrs:{title:"审核",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t},close:e.cancel}},[r("div",{staticClass:"btn"},[0==e.operationType?r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.check(1)}}},[e._v("审核通过")]):e._e(),e._v(" "),0==e.operationType?r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.showCheck(0)}}},[e._v("审核不通过")]):e._e(),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.cancel}},[e._v("关闭")])],1),e._v(" "),r("div",{staticClass:"num_set"},[e._v("员工信息")]),e._v(" "),r("el-form",{model:{value:e.examinePeople,callback:function(t){e.examinePeople=t},expression:"examinePeople"}},[r("el-form-item",{staticClass:"input1"},[r("div",[e._v("姓名")]),e._v(" "),r("div",{staticClass:"border"},[e._v(e._s(e.examinePeople.name))])]),e._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[e._v("角色")]),e._v(" "),r("div",{staticClass:"border"},[e._v("\n            "+e._s(e.role(e.examinePeople.role))+"\n          ")])]),e._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[e._v("云算号")]),e._v(" "),r("div",{staticClass:"border"},[e._v(e._s(e.examinePeople.account))])]),e._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[e._v("所属部门")]),e._v(" "),r("div",{staticClass:"border"},[e._v(e._s(e.examinePeople.department))])]),e._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[e._v("职位")]),e._v(" "),r("div",{staticClass:"border"},[e._v(e._s(e.examinePeople.position))])]),e._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[e._v("申请时间")]),e._v(" "),r("div",{staticClass:"border"},[e._v(e._s(e.examinePeople.entry_time))])]),e._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[e._v("申请项目")]),e._v(" "),r("div",{staticClass:"border"},[e._v(e._s(e.examinePeople.project_name))])]),e._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[e._v("工牌照片")]),e._v(" "),r("div",{staticClass:"border  img"},[r("span",[e._v("(工牌照片)")]),e._v(" "),r("el-button",{attrs:{type:"text"},on:{click:e.seeimgUrl}},[e._v("点击查看")])],1)]),e._v(" "),r("div",{staticClass:"num_set"},[e._v("基础信息")]),e._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[e._v("性别")]),e._v(" "),r("div",{staticClass:"border"},[e._v("\n            "+e._s(e.sex(e.examinePeople.sex))+"\n          ")])]),e._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[e._v("电话号码")]),e._v(" "),r("div",{staticClass:"border"},[e._v(e._s(e.examinePeople.tel))])]),e._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[e._v("出生年月")]),e._v(" "),r("div",{staticClass:"border"},[e._v(e._s(e.examinePeople.birth))])]),e._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[e._v("通讯地址")]),e._v(" "),r("div",{staticClass:"border width"},[e._v(e._s(e.examinePeople.city_name+e.examinePeople.district_name+e.examinePeople.absolute_address))])]),e._v(" "),r("div",{staticClass:"num_set"},[e._v("审核信息")]),e._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[e._v("审核人员")]),e._v(" "),r("div",{staticClass:"border"},[e._v(e._s(e.examinePeople.auditing_name))])]),e._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[e._v("审核时间")]),e._v(" "),r("div",{staticClass:"border"},[e._v(e._s(e.examinePeople.auditing_time))])]),e._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[e._v("备注")]),e._v(" "),r("div",{staticClass:"border height"},[e._v(e._s(e.examinePeople.remark))])])],1)],1),e._v(" "),r("el-dialog",{staticClass:"dialog",attrs:{title:"拒绝",visible:e.refuseInfo},on:{"update:visible":function(t){e.refuseInfo=t},close:e.cancelRefuseInfo}},[r("el-form",[r("el-form-item",{attrs:{label:"审核不通过原因"}},[r("el-input",{staticClass:"textarea",attrs:{type:"textarea"},model:{value:e.remark,callback:function(t){e.remark=t},expression:"remark"}})],1)],1),e._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.cancelRefuseInfo}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.check(0)}}},[e._v("确 定")])],1)],1),e._v(" "),r("el-dialog",{attrs:{title:"工牌照照片",visible:e.showImgUrl},on:{"update:visible":function(t){e.showImgUrl=t}}},[e.examinePeople.img_url?r("img",{staticClass:"heightWidth",attrs:{src:this.base+e.examinePeople.img_url}}):r("img",{staticClass:"heightWidth",attrs:{src:a("QKcC")}})])]],2)},staticRenderFns:[]};var bt=a("vSla")(dt,_t,!1,function(e){a("igL8"),a("HHfJ")},"data-v-24640fd9",null).exports,vt={data:function(){return{tableData:[],dialogFormVisible:!1,searchObj:{search:"",page:1},pageSize:0,total:0,examinePeople:{name:"",role:"",account:"",department:"",position:"",img_url:"",entry_time:"",project_name:"",sex:"",tel:"",birth:"",absolute_address:"",slef_desc:"",bank_card:"",bank_name:"",card_url:"",id_card:"",quit:{his_id:"",auth_id:"",create_time:"",type:"",remark:""}},showImgUrl:!1,showIdCard:!1}},mounted:function(){this.getQuitList()},methods:{seeimgUrl:function(){this.showImgUrl=!0},seeIdCard:function(){this.showIdCard=!0},getRole:function(e){return 1==e?"经纪人":2==e?"对接人":void 0},showSee:function(e){var t=this;return b()(d.a.mark(function a(){var r;return d.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t.dialogFormVisible=!0,a.next=3,t.api.getQuitInfo({agent_id:e.agent_id});case 3:200==(r=a.sent).code&&I()(t.examinePeople,r.data);case 5:case"end":return a.stop()}},a,t)}))()},auditingState:function(e){return 0==e?"未通过":2==e?"待审核":void 0},role:function(e){return 1==e?"新房经纪人":2==e?"项目对接人":void 0},quitType:function(e){return 1==e?"自行离职":2==e?"公司辞退":void 0},sex:function(e){return 1==e?"男":2==e?"女":0==e?"未设置":void 0},cancel:function(){this.dialogFormVisible=!1},search:function(){this.searchObj.page=1,this.getQuitList()},getIndex:function(e){return e.$index+1+(this.searchObj.page-1)*this.pageSize},pageChange:function(e){this.searchObj.page=e,this.getQuitList()},getQuitList:function(){var e=this;return b()(d.a.mark(function t(){var a;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.api.getQuitList(e.searchObj);case 2:((a=t.sent).code=200)&&(e.tableData=a.data.data,e.total=a.data.total,e.pageSize=a.data.per_page);case 4:case"end":return t.stop()}},t,e)}))()}}},ft={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"quitPeople"},[r("div",{staticClass:"title"},[r("div",{staticClass:"left"},[r("div",{staticClass:"text1"},[e._v("当前位置：离职经纪人")]),e._v(" "),r("div",{staticClass:"search-block"},[r("el-input",{staticClass:"query",attrs:{placeholder:"可查询云算号/经纪人姓名"},model:{value:e.searchObj.search,callback:function(t){e.$set(e.searchObj,"search",t)},expression:"searchObj.search"}}),e._v(" "),r("el-button",{attrs:{icon:"el-icon-search",circle:""},on:{click:e.getQuitList}})],1)])]),e._v(" "),[r("el-table",{staticClass:"mt-20",staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[r("el-table-column",{attrs:{label:"序号",align:"center",width:"70px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.getIndex(t)))]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"account",label:"云算号",align:"center",width:"100px"}}),e._v(" "),r("el-table-column",{attrs:{prop:"name",label:"经纪人姓名",align:"center",width:"140px"}}),e._v(" "),r("el-table-column",{attrs:{prop:"tel",label:"联系方式",align:"center",width:"140px"}}),e._v(" "),r("el-table-column",{attrs:{prop:"role",label:"角色",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.getRole(t.row.role)))]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"project_name",label:"申请项目",align:"center",width:"140px"}}),e._v(" "),r("el-table-column",{attrs:{prop:"department",label:"所属部门",align:"center",width:"140px"}}),e._v(" "),r("el-table-column",{attrs:{prop:"city",label:"城市",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{prop:"district",label:"区域",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{prop:"entry_time",label:"入职时间",align:"center",width:"140px"}}),e._v(" "),r("el-table-column",{attrs:{prop:"create_time",label:"离职时间",align:"center",width:"140px"}}),e._v(" "),r("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"text"},on:{click:function(a){e.showSee(t.row)}}},[e._v("查看")])]}}])})],1),e._v(" "),r("el-pagination",{staticClass:"page",attrs:{background:"",layout:"prev, pager, next","page-size":e.pageSize,"current-page":e.searchObj.page,total:e.total},on:{"current-change":e.pageChange}}),e._v(" "),r("el-dialog",{staticClass:"dialog",attrs:{title:"查看",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t},close:e.cancel}},[r("div",{staticClass:"btn"},[r("el-button",{attrs:{type:"primary"},on:{click:e.cancel}},[e._v("关闭")])],1),e._v(" "),r("div",{staticClass:"num_set"},[e._v("员工信息")]),e._v(" "),r("el-form",{model:{value:e.examinePeople,callback:function(t){e.examinePeople=t},expression:"examinePeople"}},[r("el-form-item",{staticClass:"input1"},[r("div",[e._v("姓名")]),e._v(" "),r("div",{staticClass:"border"},[e._v(e._s(e.examinePeople.name))])]),e._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[e._v("角色")]),e._v(" "),r("div",{staticClass:"border"},[e._v("\n            "+e._s(e.role(e.examinePeople.role))+"\n          ")])]),e._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[e._v("云算号")]),e._v(" "),r("div",{staticClass:"border"},[e._v(e._s(e.examinePeople.account))])]),e._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[e._v("所属部门")]),e._v(" "),r("div",{staticClass:"border"},[e._v(e._s(e.examinePeople.department))])]),e._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[e._v("职位")]),e._v(" "),r("div",{staticClass:"border"},[e._v(e._s(e.examinePeople.position))])]),e._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[e._v("入职时间")]),e._v(" "),r("div",{staticClass:"border"},[e._v(e._s(e.examinePeople.entry_time))])]),e._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[e._v("工牌照片")]),e._v(" "),r("div",{staticClass:"border  img"},[r("span",[e._v("(工牌照片)")]),e._v(" "),r("el-button",{attrs:{type:"text"},on:{click:e.seeimgUrl}},[e._v("点击查看")])],1)]),e._v(" "),r("div",{staticClass:"num_set"},[e._v("基础信息")]),e._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[e._v("性别")]),e._v(" "),r("div",{staticClass:"border"},[e._v("\n            "+e._s(e.sex(e.examinePeople.sex))+"\n          ")])]),e._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[e._v("电话号码")]),e._v(" "),r("div",{staticClass:"border"},[e._v(e._s(e.examinePeople.tel))])]),e._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[e._v("出生年月")]),e._v(" "),r("div",{staticClass:"border"},[e._v(e._s(e.examinePeople.birth))])]),e._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[e._v("身份证")]),e._v(" "),r("div",{staticClass:"border"},[e._v(e._s(e.examinePeople.id_card))])]),e._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[e._v("绑定银行")]),e._v(" "),r("div",{staticClass:"border"},[e._v(e._s(e.examinePeople.bank_name))])]),e._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[e._v("银行卡号")]),e._v(" "),r("div",{staticClass:"border"},[e._v(e._s(e.examinePeople.bank_card))])]),e._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[e._v("通讯地址")]),e._v(" "),r("div",{staticClass:"border3"},[e._v(e._s(e.examinePeople.city_name+e.examinePeople.district_name+e.examinePeople.absolute_address))])]),e._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[e._v("证件照片")]),e._v(" "),r("div",{staticClass:"border  img"},[r("span",[e._v("(证件照片为正反两面)")]),e._v(" "),r("el-button",{attrs:{type:"text"},on:{click:e.seeIdCard}},[e._v("点击查看")])],1)]),e._v(" "),r("el-form-item",{staticClass:"input2"},[r("div",[e._v("个人介绍")]),e._v(" "),r("div",{staticClass:"border height"},[e._v(e._s(e.examinePeople.slef_desc))])]),e._v(" "),r("div",{staticClass:"num_set"},[e._v("离职信息")]),e._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[e._v("离职时间")]),e._v(" "),r("div",{staticClass:"border"},[e._v(e._s(e.examinePeople.quit?e.examinePeople.quit.create_time:""))])]),e._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[e._v("离职类型")]),e._v(" "),r("div",{staticClass:"border"},[e._v(" "+e._s(e.quitType(e.examinePeople.quit?e.examinePeople.quit.type:"")))])]),e._v(" "),r("el-form-item",{staticClass:"input2"},[r("div",[e._v("离职原因")]),e._v(" "),r("div",{staticClass:"border height"},[e._v(e._s(e.examinePeople.quit?e.examinePeople.quit.remark:""))])])],1)],1),e._v(" "),r("el-dialog",{attrs:{title:"工牌照照片",visible:e.showImgUrl},on:{"update:visible":function(t){e.showImgUrl=t}}},[e.examinePeople.img_url?r("img",{staticClass:"heightWidth",attrs:{src:this.base+e.examinePeople.img_url}}):r("img",{staticClass:"heightWidth",attrs:{src:a("QKcC")}})]),e._v(" "),r("el-dialog",{staticClass:"showIdCard",attrs:{title:"证件照照片",visible:e.showIdCard},on:{"update:visible":function(t){e.showIdCard=t}}},[e.examinePeople.card_front?r("img",{staticClass:"heightWidth",attrs:{src:this.base+e.examinePeople.card_front}}):r("img",{staticClass:"heightWidth",attrs:{src:a("7VeV")}}),e._v(" "),e.examinePeople.card_back?r("img",{staticClass:"heightWidth",attrs:{src:this.base+e.examinePeople.card_back}}):r("img",{staticClass:"heightWidth",attrs:{src:a("kQan")}})])]],2)},staticRenderFns:[]};var ht=a("vSla")(vt,ft,!1,function(e){a("SZcO"),a("fV5d")},"data-v-292ecc36",null).exports;r.default.use(s.a);var gt,yt=new s.a({base:"/admin/company/",routes:[{path:"/",name:"login",component:h},{path:"/project",component:u,children:[{path:"",name:"project",component:x},{path:"/addProject",name:"addProject",component:H},{path:"/reCreateProject",name:"reCreateProject",component:ee},{path:"/requestRefund",name:"requestRefund",component:re},{path:"/payRecord",name:"payRecord",component:se},{path:"/refundInfo",name:"refundInfo",component:ce}]},{path:"/peopleProject",component:u,children:[{path:"",name:"peopleProject",component:w},{path:"/peopleFastDistribution",name:"peopleFastDistribution",component:A},{path:"/peopleAddPerson",name:"peopleAddPerson",component:R},{path:"/peopleChoicePeople",name:"peopleChoicePeople",component:D},{path:"/peopleProjectInfo",name:"peopleProjectInfo",component:J},{path:"/peopleRuleOfMaid",name:"peopleRuleOfMaid",component:Z}]},{path:"/agent",component:u,children:[{path:"",name:"agent",component:me},{path:"/examinePeople",name:"examinePeople",component:bt},{path:"/quitPeople",name:"quitPeople",component:ht}]},{path:"/commission",component:u,children:[{path:"",name:"commission",component:be},{path:"companyPrice",name:"companyPrice",component:he},{path:"personPrice",name:"personPrice",component:xe},{path:"companyPriceInfo",name:"companyPriceInfo",component:we}]},{path:"/distri_commission",component:u,children:[{path:"",name:"distri_commission",component:Ae},{path:"maidInfo",name:"maidInfo",component:Re},{path:"commissionApply",name:"commissionApply",component:De},{path:"updateCommission",name:"updateCommission",component:Ue},{path:"requestPayment",name:"requestPayment",component:Ne}]},{path:"/distribution",component:u,children:[{path:"",name:"distribution",component:Qe},{path:"/fastDistribution",name:"fastDistribution",component:et},{path:"/addPerson",name:"addPerson",component:rt},{path:"/choicePeople",name:"choicePeople",component:st},{path:"/startApply",name:"startApply",component:ct},{path:"/projectInfo",name:"projectInfo",component:mt},{path:"/ruleOfMaid",name:"ruleOfMaid",component:Ve},{path:"/ruleSetting",name:"ruleSetting",component:He}]}]}),xt=a("uNf3"),kt=a.n(xt),Ct=a("aozt"),wt=a.n(Ct),jt=a("6iV/"),Ft=a.n(jt),At="http://120.27.21.136:2798/";r.default.prototype.base="http://120.27.21.136:2798/";var $t=function(e){return function(t){return t?wt.a.post(At+"/"+e,Ft.a.stringify(t)):wt.a.post(At+"/"+e)}},It=function(e){return function(t){return t?wt.a.get(At+"/"+e,{params:t}):wt.a.get(At+"/"+e)}},St=function(e,t){return wt.a.post(At+"/"+e,t,{headers:{"Content-Type":"multipart/form-data"}})};wt.a.interceptors.response.use(function(e){return 200==e.data.code||(201==e.data.code?(r.default.prototype.$message({type:"error",message:"由于您长时间没有操作, 登录已过期, 请重新登录"}),location.href=this.base):r.default.prototype.$message({type:"error",message:e.data.msg})),e.data}),wt.a.interceptors.request.use(function(e){var t=localStorage.getItem("token");return""!=t&&(e.headers["ACCESS-ROLE"]="company",e.headers["ACCESS-TOKEN"]=t),e});var Tt=(gt={gitCode:$t("company/user/login"),updateAdminState:It("company/project/updateAdminState"),getProvinceList:It("getProvinceList"),getCityList:It("getCityList"),getDistrictList:It("getDistrictList"),getCreateProject:$t("company/project/createProject"),getProjectList:It("company/project/getProjectList"),uploadProjectAgreement:function(e){return St("company/project/uploadProjectAgreement",e)},getUpdateProjectAdmin:It("company/project/updateProjectAdmin"),updateProjectAdmin:$t("company/project/updateProjectAdmin"),addProjectAdmin:$t("company/project/addProjectAdmin"),getProjectInfo:It("company/project/getProjectInfo"),getTags:It("company/project/getProperty_tags"),getUpdateProject:$t("company/project/updateProject"),reCreateProject:$t("company/project/reCreateProject"),getBack:It("company/project/getBack"),getBusinessInfo:It("company/project/getBusinessInfo"),getRefund:$t("company/project/refund"),getList:It("company/distribution/getList"),applyProject:It("company/distribution/applyProject"),getAgent:It("company/distribution/getAgent"),getAgentInfo:It("company/distribution/getAgentInfo"),getRole:It("company/distribution/getRule"),endAgent:It("company/distribution/endAgent"),exAgent:$t("company/distribution/exAgent"),agentList:It("company/distribution/addAgent"),agentAdd:$t("company/distribution/addAgent"),changeProjectList:It("company/distribution/changeProject"),changeProjectAdd:$t("company/distribution/applyProject"),addRule:$t("company/distribution/addRule"),uploadBrokerCommission:function(e){return St("company/distribution/uploadBrokerAgreement",e)},addBrokerAgreement:$t("company/distribution/addBrokerAgreement"),getBrokerAgreement:It("company/distribution/getBrokerAgreement"),addBrokeRule:$t("company/distribution/createCompanyBrokerRule"),updateBrokeRule:$t("company/distribution/updateBrokeRule"),delBrokeRule:It("company/distribution/deleteBrokerRule"),getCommissionWay:It("company/distribution/getCommissionWay"),getMoneyType:It("company/distribution/getMoneyType"),getCommissionRuleInfo:It("company/distribution/getRuleInfo"),getJumpRuleList:It("company/distribution/jumpRuleList"),addJumpRule:$t("company/distribution/setJumpRule"),updateJumpRule:$t("company/distribution/updateJumpRule"),deleteJumpRule:It("company/distribution/deleteJumpRule"),getCompanyRuleInfo:It("/company/distribution/getCompanyRuleInfo"),getUpdateBrokeRule:It("company/distribution/updateBrokeRule"),exPeople:$t("company/CompanyAgent/ex"),quitPeople:$t("company/CompanyAgent/quit"),getExList:It("company/CompanyAgent/getExList"),getQuitList:It("company/CompanyAgent/getQuitList"),getPayrollList:It("company/CompanyAgent/getPayrollList"),getExInfo:It("company/CompanyAgent/getExInfo"),getQuitInfo:It("company/CompanyAgent/getQuitInfo"),getPayrollInfo:It("company/CompanyAgent/getPayrollInfo"),getRefuseInfo:It("company/CompanyAgent/getRefuseInfo"),getProjectCommissionList:It("company/projectCommission/getList"),getCompanyY:It("company/projectCommission/getCompanyY"),getCompanyAllInfo:It("company/projectCommission/getCompanyAllInfo"),getCompanyAll:It("company/projectCommission/getCompanyAll"),getCompanyYInfo:It("company/projectCommission/getCompanyYInfo"),getCompanyNInfo:It("company/projectCommission/getCompanyNInfo"),getCompanyNList:It("company/projectCommission/getCompanyN"),getPersonInfoList:It("company/projectCommission/getPersonAllInfo"),getPersonNInfo:It("company/projectCommission/getPersonNInfo"),getDistributionList:It("company/DistributionCommission/getList"),getBrokerApply:It("company/DistributionCommission/brokerApply"),brokerApply:$t("company/DistributionCommission/brokerApply"),seeCommissionList:It("company/DistributionCommission/brokerList"),updateBroker:It("company/DistributionCommission/updateBroker"),getBrokerInfo:It("company/DistributionCommission/getBrokerInfo"),updateBrokerSumbit:$t("company/DistributionCommission/updateBroker"),getPriceApply:It("company/DistributionCommission/priceApply"),priceApplySumbit:$t("company/DistributionCommission/priceApply"),rePriceApplySumbit:$t("company/DistributionCommission/rePriceApply"),delBroker:It("company/DistributionCommission/delBroker"),getApplyInfo:It("company/DistributionCommission/getApplyInfo"),getRePriceApply:It("company/DistributionCommission/rePriceApply"),getPeopleList:It("company/PeopleProject/getList"),getPeopleRole:It("company/PeopleProject/getRule"),getRuleContract:It("company/PeopleProject/getRuleInfo")},Ie()(gt,"getBrokerAgreement",It("company/PeopleProject/getBrokerAgreement")),Ie()(gt,"getPeopleRuleInfo",It("company/PeopleProject/brokerInfo")),gt),Rt=a("9rMa");r.default.use(Rt.a);const Ot={state:{distribution:{},detail:{}},mutations:{distribution(e,t){e.distribution=t},distributionDetail(e,t){e.detail=t}}};var Pt=new Rt.a.Store({state:{operationType:0},mutations:{operationType(e,t){e.operationType=t}},modules:{distribution:Ot}});a("Xcu2");r.default.use(kt.a),r.default.config.productionTip=!1,r.default.prototype.api=Tt,new r.default({store:Pt,el:"#app",router:yt,components:{App:i},template:"<App/>"})},Ohn7:function(e,t){},PN4Q:function(e,t){},QKcC:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAABkCAIAAADCEmNlAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjMxODZBOEQzN0FCRTExRTg4RDU2QUY0NENFRjQwQzAzIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjMxODZBOEQ0N0FCRTExRTg4RDU2QUY0NENFRjQwQzAzIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MzE4NkE4RDE3QUJFMTFFODhENTZBRjQ0Q0VGNDBDMDMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MzE4NkE4RDI3QUJFMTFFODhENTZBRjQ0Q0VGNDBDMDMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4S/XaWAAAE9UlEQVR42uydaVPqShRFAVHECRzA6f//MwcUIQoaFae3HqeqiyKECySQNOz94VZMchNY2X36nO6OFsMwLEjLV0kIBFqgJYEWaIGWBFqgJYEWaIGWBFqgJYEWaIGWBFqgJYEWaIGWlq9y/j/i7+9vEARhGP78/Pz9/RWLRdvP9v9foFyu1WpHR0cCnUjQbLVan5+fo3tGT/j+/u50OtVqdXt7W6AX1+vrq1HGuVGUeHwwGLDx8PBwfX3tzC7Qc8t5udlsViqVsaNfX183Nze2gbXzbOq8d4bTTUr4nuU0gf63nEkxbPQooWPGRyLQ/9DOzk6UaRTu1tZWqVQS6AR9SLlsNF2UmOhoKMvRiYRVYR3naEdfoFPoDC1MT4zRo6FjQwuWiS19YVPHOdrthHhadywO5Qfop6cnCo0VPDlXJb4NlcqNTk5OllHQLwX0+/v7WKGcXJgX1mOphbtLirdbUqxfCmjDwb/VapXPnYQC/53ikMKPi8B6DLSFDs7hRhxa+Eb2IfFH9Fl6UILTiVE3J7/O8/NzEAR/Q8W5jxsld+Lt7e1gMEi9LS4960jrE7vojK+jYx2p972eZR3p1iy20e12ad3OyyR8Hx8f1nQ2N71LUQcHB71ez8bn+v1+9ITj4+P8fwsPprLonS4vL/f29qJRGC83Gg0OedAuCz6IyHB+fo6px8qWSqWS/wFSn0A7/+Z8vsoP0B9DmWexMG7d3d31xbB+gKYk6XQ6ozOwzsL1ep3OUKDToXx/fz+adLtikqDcbrct8RDopEXN4+OjYYUv/iVikDgTQHgA1IRUIrCmws5/ppxr0BQgbqCZHM7NcxM0CNDkbXd3d7AOw/Dw8NBr0KXM44ZtgDW6msBwTyy+BXo+ubzY1dlR1oWYUX+BnkNuMGj6CNQaJHkZx+ixFYtxT2L6Y8Dvb29vs8/P2kpJG8LeuIIlLnRYskFnSJ8Zd06v1yM/mfeO9K5nZ2cblN7ZRtw0HfstycO2caBJTqyknN3ReHnFQ1EZgybTsElV8ryJ4xiW/O0MNeUipIbqDKcJwxrfIAiisyQkf61Wi41areZ7f5gxaPBZJQLlsThrlNnPk1iDEjz7gX8XK+nTbFW5VShGme3T09OC/8oeNIa9urqyxQI2B2gh2ygTW8jD1gB09ukd2YIb7oim1RwihkSr81Fh/36/z4OZK48mHE2/7PqAtslW5Cps98339/eJJJwQDsWPWNvGPaIib3l5eVkgs1x/0JgUvgBymQY5MrHY5XD8SDzpdDqW/NnSOmIINiSmj1V0dKdQ46nM7mjqoBUPB64a9OtQbnmGMeU7Y9gxfLBoNpucSTZisft9KM7H4PV63Z3PmflfcbBS0O12e3SVqTkUalOcWB0KvrQAYog5l0BBm8h/kZINaFI3o2zNFr5Tir2JuEHMFSBua5S44OxX2CDQrscD8WItnaBBxMD+3W634MN6u4w7w4nrQmeXR+8WZgPacaH5J1mdv6RltesDmnhK2ye8JnS0CyN+rVpaHWiysYuLiyAIbKZ1sYZvTwjERPmcv8GZZYxO6x0AH6XfQCPQAi3lC/TarLjNb2fo1oLajJ8vmvi6uQdZByXc6CidN23coxc6G42GIfYretg49ZJmzor662/KOgRaEmiBFmhJoAVaEmiBFmhJoAVaEmiBFmhJoAVaEmiBFmhJoNdG/wkwAP5ir5B+wIv0AAAAAElFTkSuQmCC"},QdLY:function(e,t){},RdQZ:function(e,t){},Ry3k:function(e,t){},SZcO:function(e,t){},Shcb:function(e,t){},TgyJ:function(e,t){},W5cg:function(e,t){},WxBh:function(e,t){},Xcu2:function(e,t){},aJyH:function(e,t){},c5qK:function(e,t){},cLMM:function(e,t){},caCr:function(e,t,a){e.exports=a.p+"static/img/logo@3x.244b13f.png"},f7GQ:function(e,t){},fV5d:function(e,t){},"g+wc":function(e,t){},gUIO:function(e,t){},h8t3:function(e,t){},iQH9:function(e,t,a){e.exports=a.p+"static/img/logo.bb5cedb.png"},igL8:function(e,t){},jsfx:function(e,t){},jvDG:function(e,t){},kQan:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAABkCAIAAADCEmNlAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjkwNkFCMjZDN0IzQTExRTg4QkEyQzM1QUNDMkQ1RTVFIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjkwNkFCMjZEN0IzQTExRTg4QkEyQzM1QUNDMkQ1RTVFIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OTA2QUIyNkE3QjNBMTFFODhCQTJDMzVBQ0MyRDVFNUUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6OTA2QUIyNkI3QjNBMTFFODhCQTJDMzVBQ0MyRDVFNUUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz662ZmOAAAEH0lEQVR42uyce1OCQBTFEwUfqZkapd//o9XkmPmMRPPRiTvDGOq0tBCynfNH06DuLD8uZ++9rhTe39+vqPRlEQFBEzRF0ARN0BRBEzRF0ARN0BRBEzRF0ARN0BRBEzRF0ARN0BRBEzQVT6VERtnv94vFYrlcGkYH51WpVBqNRrFYzB40ZjMajd7e3oyMRESP7/uu61qW1t1f0N+pNBgMMJtqtdpsNs0DjQDyPM9xnH6/XygUMovoZaDr62tccyMjularjcfj2WwG4vCQzBZD8eWbmxuD1zE5O8R1llkHDPrLgDTuqcuXnJ2cacbpneYkLj/30A8m5tEsWAiaImjTS/C4QpX08fERrukodmzbJujEtNls5vP5IeWQNUC3Wi0UPrEGxDjb7TbxeWIy+s2NzECjsnp9fd3tdifzp/V6PRwOK5VKt9tVj24MmEYnC5f89vY2lx49mUxeXl5OUj6U7/vPz8+ReDcjf/+LiIZdTKdTxTfDCgaDQa/XK5V+nluj0XAcJ9m6FBcPa0b+QMOXcYMfH4cJ1uv11WoF04hEunzk/v7+x8HrgZjefWk8Hp8Lxna77bpuuVw+mZbgGjCPvlL3gUi/G3e6eILneYhcvCqrGXBHvGI2mxG0qkAzsl41m02kFpKZPT09iavAZLHK4xocvhOWwjw6RkQfOwkcWZav0JpxMZDbRS4JPouQV1kSGdEnJHBRmNzd3Ylj4B/LsnA8AhpH0ihG/lcJDl+WZBl/4cUn8+tCIIJW0jlS20AStue8GPmfSQ2QdK2jVqv9OipBmRGtKifQ7zJilUoEth4urcneiImPmbpHI29DSR17WqWSSicP2SEy8cRLcMxZZ2dBNqCr1SpiU/YxSaScay3BlCX3wHs6nY4KPvh7GpmJelfrsrKObrcL98DspemM/yMtaVg54le2ll0FXUocURkZtU8aDbxI6ZQb0IhN2biGAJxOpwhwoJS4BiZpseOl+Xwe9zzb7TYXw2/JXLgeAiiKQ3AHTaEP4r7vRwp3xYhm1vE9hbQs3OOHNI/hpn3n/osSHNbx8PAAu5D17XiVC48Aseu6Ru7k+6MSXPpzyJkkqYisYOERZHWmbuP7016HMa24C7UOiqAJmqCpy1oMUXTk93daqF3jbk7LDDTqkfw+mdq27cRBp2Udmr/Ky9hPU5h8Kb27L+xm5EsonfLUvbMDcQ1k1kHQBE0RNEFTyYLmb8FTBx3ZF2qk5Ow0awJd0PIt6mQyMRi0nJ1mUa5bsMgjhxaLxePjI6pBXHZjnnQgX7B5nrdarWQbkNZoibR+5BktpkY0EHc6neyfqSRar9e48pvNxiTExWKxHEh/qMR6HbJxlGkc82iCJmiKoAmaImiCJmiKoAmaImiCJmiKoAmaImiCJmiKoAmaOqVPAQYAFGXs/LCgqnAAAAAASUVORK5CYII="},lcdt:function(e,t){},nlFm:function(e,t){},pUAJ:function(e,t){},pUZd:function(e,t){},qdUU:function(e,t){},rPJS:function(e,t){},ro75:function(e,t){},sai0:function(e,t){},"t/lR":function(e,t){},t2w1:function(e,t){},teB4:function(e,t){},uEAy:function(e,t){},"v+8g":function(e,t){},wLdY:function(e,t){},ymSd:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.7dc185758c7d0ce2ba10.js.map