webpackJsonp([1],{"+aqN":function(t,e){},"+k6/":function(t,e){},"0uSW":function(t,e){},"4qHX":function(t,e){},"5at1":function(t,e){},"5nan":function(t,e){},"7UQw":function(t,e){},"7VeV":function(t,e,a){t.exports=a.p+"static/img/idCard.fa0a1c9.png"},"86XM":function(t,e){},BWN0:function(t,e){},DWiN:function(t,e){},FKZV:function(t,e){},FLne:function(t,e){},GkLl:function(t,e){},HFYf:function(t,e){},"Ha3/":function(t,e){},L2U5:function(t,e){},MUpc:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("MVMM"),n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var i=a("vSla")({name:"App"},n,!1,function(t){a("86XM")},null,null).exports,o=a("zO6J"),s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"box"},[a("el-menu",{staticClass:"sidebar-menu",attrs:{"default-active":t.activeIndex},on:{open:t.menuOpen,close:t.menuOpen}},[a("el-menu-item",{staticClass:"text",attrs:{index:"project"},on:{click:function(e){t.handleSelect("project")}}},[t._v("项目管理")]),t._v(" "),a("el-menu-item",{staticClass:"text",attrs:{index:"distribution"},on:{click:function(e){t.handleSelect("distribution")}}},[t._v("分销管理")]),t._v(" "),a("el-menu-item",{staticClass:"text",attrs:{index:"commission"},on:{click:function(e){t.handleSelect("commission")}}},[t._v("项目佣金管理")]),t._v(" "),a("el-menu-item",{staticClass:"text",attrs:{index:"distri_commission"},on:{click:function(e){t.handleSelect("distri_commission")}}},[t._v("分销佣金管理")]),t._v(" "),a("el-submenu",{attrs:{index:""}},[a("template",{slot:"title"},[a("span",{staticClass:"delent"},[t._v("经纪人管理")])]),t._v(" "),a("el-menu-item",{staticClass:"people",attrs:{index:"agent"},on:{click:function(e){t.handleSelect("agent")}}},[t._v("在职经纪人")]),t._v(" "),a("el-menu-item",{staticClass:"people",attrs:{index:"examinePeople"},on:{click:function(e){t.handleSelect("examinePeople")}}},[t._v("审核经纪人")]),t._v(" "),a("el-menu-item",{staticClass:"people",attrs:{index:"quitPeople"},on:{click:function(e){t.handleSelect("quitPeople")}}},[t._v("离职经纪人")])],2)],1)],1)},staticRenderFns:[]};var l={data:function(){return{}},components:{VueSideBar:a("vSla")({data:function(){return{activeIndex:""}},created:function(){this.activeIndex=this.$route.name},methods:{handleSelect:function(t){this.$router.push({name:t})},menuOpen:function(t){this.handleSelect(t)}}},s,!1,function(t){a("MUpc")},"data-v-4f9364b5",null).exports}},c={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("vue-side-bar"),this._v(" "),e("router-view")],1)},staticRenderFns:[]};var p=a("vSla")(l,c,!1,function(t){a("nbzS")},"data-v-e9063eac",null).exports,u=a("lC5x"),m=a.n(u),d=a("J0Oq"),_=a.n(d),v={data:function(){return{submitForm:{account:"",password:""}}},mounted:function(){},methods:{login:function(){var t=this;return _()(m.a.mark(function e(){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(""!=t.submitForm.account){e.next=3;break}return t.$message({type:"error",message:"请输入账号"}),e.abrupt("return");case 3:if(""!=t.submitForm.password){e.next=6;break}return t.$message({type:"error",message:"请输入密码"}),e.abrupt("return");case 6:if(!(t.submitForm.password.length>20)){e.next=9;break}return t.$message({type:"error",message:"密码长度必须小于20个字符"}),e.abrupt("return");case 9:if(!(t.submitForm.account.length>20)){e.next=12;break}return t.$message({type:"error",message:"账号长度必须小于20个字符"}),e.abrupt("return");case 12:return localStorage.setItem("token",""),e.next=15,t.api.gitCode(t.submitForm);case 15:200==(a=e.sent).code?(t.$router.push("project"),localStorage.setItem("token",a.data.token)):t.$message({type:"error",message:a.msg});case 17:case"end":return e.stop()}},e,t)}))()}}},f={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"title"},[a("div",[t._v("欢迎使用！")]),t._v(" "),a("div",{staticClass:"input-row"},[a("el-input",{staticClass:"input",attrs:{placeholder:"请输入账号"},model:{value:t.submitForm.account,callback:function(e){t.$set(t.submitForm,"account",e)},expression:"submitForm.account"}})],1),t._v(" "),a("div",{staticClass:"input-row"},[a("el-input",{staticClass:"input",attrs:{type:"password",placeholder:"请输入密码"},model:{value:t.submitForm.password,callback:function(e){t.$set(t.submitForm,"password",e)},expression:"submitForm.password"}})],1),t._v(" "),a("el-button",{staticClass:"button",attrs:{type:"primary",round:""},on:{click:t.login}},[t._v("登陆")]),t._v(" "),t._m(0)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"bottom-text"},[e("span",{staticClass:"text"},[this._v("忘记密码")]),this._v(" "),e("img",{staticClass:"img",attrs:{src:a("wwKk")}}),this._v(" "),e("span",{staticClass:"text"},[this._v("注册")])])}]};var b=a("vSla")(v,f,!1,function(t){a("FLne")},"data-v-3f8d7a0c",null).exports,h={data:function(){return{searchObj:{search:"",tag_search:""},tableData:[],operationType:0}},mounted:function(){this.getProjectList()},methods:{search:function(t){this.searchObj.tag_search=t,this.getProjectList()},getProjectList:function(){var t=this;return _()(m.a.mark(function e(){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.api.getProjectList(t.searchObj);case 2:200==(a=e.sent).code&&(t.tableData=a.data);case 4:case"end":return e.stop()}},e,t)}))()},projectState:function(t){return 0==t?"弃用":1==t?"正常":2==t?"已转新房":3==t?"已转二手房":void 0},authenticationState:function(t){return 1==t?"未认证":2==t?"已认证":void 0},scopeState:function(t){return 1==t?"自行申请":2==t?"平台分配":void 0},auditingState:function(t){return 0==t?"待审核":1==t?"通过":2==t?"未通过":void 0},showAdd:function(t,e){var a=this;return _()(m.a.mark(function r(){return m.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:0==t?a.$router.push({name:"addProject",params:{operationType:t}}):1==t?a.$router.push({name:"addProject",params:{operationType:t,project_id:e.project_id}}):2==t?a.$router.push({name:"addProject",params:{operationType:t,project_id:e.project_id}}):3==t&&a.$router.push({name:"reCreateProject",params:{operationType:t,project_id:e.project_id}});case 1:case"end":return r.stop()}},r,a)}))()}}},g={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"box project"},[a("div",{staticClass:"title"},[a("div",{staticClass:"left"},[a("div",{staticClass:"text1"},[t._v("当前位置：项目管理")]),t._v(" "),a("div",{staticClass:"tab-block"},[a("el-button",{staticClass:"tip",attrs:{type:"text"},on:{click:function(e){t.search(0)}}},[t._v("全部")]),t._v(" "),a("el-button",{staticClass:"tip",attrs:{type:"text"},on:{click:function(e){t.search(1)}}},[t._v("待审核")]),t._v(" "),a("el-button",{staticClass:"tip",attrs:{type:"text"},on:{click:function(e){t.search(2)}}},[t._v("审核不通过")]),t._v(" "),a("el-button",{staticClass:"tip",attrs:{type:"text"},on:{click:function(e){t.search(3)}}},[t._v("未认证")]),t._v(" "),a("el-button",{staticClass:"tip",attrs:{type:"text"},on:{click:function(e){t.search(4)}}},[t._v("已认证")]),t._v(" "),a("el-button",{staticClass:"tip",attrs:{type:"text"},on:{click:function(e){t.search(5)}}},[t._v("已转出")]),t._v(" "),a("div",{staticClass:"tab-block-inner"},[a("el-input",{staticClass:"query",model:{value:t.searchObj.search,callback:function(e){t.$set(t.searchObj,"search",e)},expression:"searchObj.search"}}),t._v(" "),a("el-button",{attrs:{icon:"el-icon-search",circle:""},on:{click:t.getProjectList}}),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.showAdd(0)}}},[t._v("新增")])],1)],1)]),t._v(" "),a("span",{staticClass:"right"})]),t._v(" "),[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{prop:"",label:"序号",align:"center",width:"70px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"project_code",label:"项目编号",align:"center",width:"100px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"project_name",label:"项目名称",align:"center",width:"120px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"state",label:"项目状态",align:"center",width:"90px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.projectState(e.row.state)))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"city",label:"区域",align:"center",width:"90px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"developer_name",label:"开发商",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"company_relation",label:"与项目关系",align:"center",width:"110px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"subordinate_company",label:"所属单位",align:"center",width:"120px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"source",label:"来源",align:"center",width:"80px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.scopeState(e.row.source)))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"authentication_state",label:"认证状态",align:"center",width:"90px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.authenticationState(e.row.authentication_state)))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"auditing_state",label:"审核状态",align:"center",width:"90px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.auditingState(e.row.auditing_state)))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"auditing_time",label:"审核时间",align:"center",width:"120px"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"180px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.showAdd(2,e.row)}}},[t._v("查看")]),t._v(" "),1==e.row.auditing_state?a("el-button",{attrs:{type:"text"},on:{click:function(a){t.showAdd(1,e.row)}}},[t._v("修改")]):t._e(),t._v(" "),2==e.row.auditing_state?a("el-button",{attrs:{type:"text"},on:{click:function(a){t.showAdd(3,e.row)}}},[t._v("重新申请")]):t._e()]}}])})],1)]],2)},staticRenderFns:[]};var y=a("vSla")(h,g,!1,function(t){a("lZQ0"),a("euJt")},"data-v-3bfa3c48",null).exports,x=a("HzJ8"),C=a.n(x),k=a("4YfN"),w=a.n(k),j=a("aA9S"),F=a.n(j),$={props:["province","city","district","disabled"],computed:{province_id:function(){return this.getCityList(),this.province},city_id:function(){return this.getdistrictList(),this.city},district_id:function(){return this.district}},data:function(){return{provinceOptions:[],cityOptions:[],districtOptions:[]}},mounted:function(){this.getProvinceList()},methods:{getProvinceList:function(){var t=this;return _()(m.a.mark(function e(){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.api.getProvinceList();case 2:200==(a=e.sent).code&&(t.provinceOptions=a.data);case 4:case"end":return e.stop()}},e,t)}))()},getCityList:function(){var t=this;return _()(m.a.mark(function e(){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.province){e.next=3;break}return t.cityOptions=[],e.abrupt("return");case 3:return e.next=5,t.api.getCityList({provinceCode:t.province});case 5:200==(a=e.sent).code&&(t.cityOptions=a.data);case 7:case"end":return e.stop()}},e,t)}))()},getdistrictList:function(){var t=this;return _()(m.a.mark(function e(){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.city){e.next=3;break}return t.districtOptions=[],e.abrupt("return");case 3:return e.next=5,t.api.getDistrictList({cityCode:t.city});case 5:200==(a=e.sent).code&&(t.districtOptions=a.data);case 7:case"end":return e.stop()}},e,t)}))()},changeProvince:function(t){this.$emit("update:province",t),this.$emit("update:city",""),this.$emit("update:district","")},changeCity:function(t){this.$emit("update:city",t),this.$emit("update:district","")},changedistrict:function(t){this.$emit("update:district",t);var e="",a="",r="",n=!0,i=!1,o=void 0;try{for(var s,l=C()(this.provinceOptions);!(n=(s=l.next()).done);n=!0){var c=s.value;c.code==this.province_id&&(e=c.name)}}catch(t){i=!0,o=t}finally{try{!n&&l.return&&l.return()}finally{if(i)throw o}}var p=!0,u=!1,m=void 0;try{for(var d,_=C()(this.cityOptions);!(p=(d=_.next()).done);p=!0){var v=d.value;v.code==this.city_id&&(a=v.name)}}catch(t){u=!0,m=t}finally{try{!p&&_.return&&_.return()}finally{if(u)throw m}}var f=!0,b=!1,h=void 0;try{for(var g,y=C()(this.districtOptions);!(f=(g=y.next()).done);f=!0){var x=g.value;x.code==t&&(r=x.name)}}catch(t){b=!0,h=t}finally{try{!f&&y.return&&y.return()}finally{if(b)throw h}}var k="";k=e.indexOf("市")>-1?e+r:e+a+r,this.$emit("changeDistrict",k)}}},P={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-select",{staticClass:"select-1",attrs:{clearable:"",value:t.province_id,placeholder:"请选择省份",disabled:t.disabled},on:{change:t.changeProvince}},t._l(t.provinceOptions,function(t){return a("el-option",{key:t.code,attrs:{label:t.name,value:t.code}})})),t._v(" "),a("el-select",{staticClass:"select-1",attrs:{clearable:"",value:t.city_id,placeholder:"请选择城市",disabled:t.disabled},on:{change:t.changeCity}},t._l(t.cityOptions,function(t){return a("el-option",{key:t.code,attrs:{label:t.name,value:t.code}})})),t._v(" "),a("el-select",{staticClass:"select-1",attrs:{clearable:"",value:t.district_id,placeholder:"请选择区/县",disabled:t.disabled},on:{change:t.changedistrict}},t._l(t.districtOptions,function(t){return a("el-option",{key:t.code,attrs:{label:t.name,value:t.code}})}))],1)},staticRenderFns:[]};var A=a("vSla")($,P,!1,function(t){a("5at1")},"data-v-664940a2",null).exports,S={data:function(){return{rules:{project_name:[{required:!0,message:"请输入项目名称",change:"change"},{max:20,message:"最大长度为20个字符",trigger:"change"}],property_type:[{type:"array",required:!0,message:"请选择物业类型",change:"change"}],statement_company:[{required:!0,message:"请输入结佣单位",change:"change"},{max:20,message:"最大长度为20个字符",trigger:"change"}],province:[{required:!0,message:"请选择具体地址",change:"change"}],absolute_address:[{required:!0,message:"请输入具体地址",change:"change"}],developer_name:[{required:!0,message:"请输入开发商名字",change:"change"},{max:20,message:"最大长度为20个字符",trigger:"change"}],project_hold_name:[{max:4,message:"最大长度为4个字符",trigger:"change"},{required:!0,message:"请输入项目负责人",change:"change"}],project_hold_phone:[{required:!0,message:"电话号码必须填写",change:"change"},{pattern:/^1[34578]\d{9}$/,message:"请输入正确的电话号码",change:"change"}],company_relation:[{required:!0,message:"请选择公司与项目关系",change:"change"}]},userFormRulesOrigin:{name:[{required:!0,message:"请输入管理员",change:"change"},{max:4,message:"最大长度为4个字符",trigger:"change"}],account:[{required:!0,message:"请输入账号",change:"change"},{min:4,max:16,message:"长度在 4 到 16 个字符",trigger:"change"}],password:[{required:!0,message:"请输入密码",change:"change"},{min:6,max:16,message:"长度在 6 到 16 个字符",trigger:"change"}],phone:[{required:!0,message:"电话号码必须填写",change:"change"},{pattern:/^1[34578]\d{9}$/,message:"请输入正确的电话号码",change:"change"}]},form:{district:"",province:"",city:"",statement_company:"",project_hold_phone:"",latitude:"",longitude:"",project_name:"",absolute_address:"",property_type:[],developer_name:"",project_hold_name:"",company_relation:"",remark:"",project_id:"",project_agreement:[],project_user:[]},map:null,sendata:{},gridData:[],historicalRecords:[],UserShow:[],Enclosure:[],dialogFormVisibleAccounts:!1,showMap:!1,isUserEdit:!1,refundShow:!1,isEditProjectList:!1,paymentRecordTable:!1,auditOptions:[],projectUserForm:{name:"",account:"",password:"",phone:"",state:""},auditing_info:{auditing_name:"",auditing_time:"",auditing_remark:"",auditing_state:""},paymentRecord:[],refund:[],userObj:{},fileObject:{},operationType:0,project:[],typeOptions:[],project_history:[],projectHistory:{company_id:"",s_time:"",e_time:"",project_hold_phone:"",project_hold_name:"",company_relation:"",project_id:"",company_name:""},authentication_info:{business_log:[]},businessLogForm:{deposit:"",authentication_state:"",no_price:"",business_log:[{payee:"",drawee:"",contact_name:"",contact_phone:"",create_name:"",create_time:"",price:"",type:""}]},projectAgreement:{file_name:"",url:"",create_name:"",create_time:""}}},computed:{userFormRules:function(){if(""==this.projectUserForm.password&&1==this.operationType&&1==this.isUserEdit){var t=F()({},this.userFormRulesOrigin);return this.isAccountValid=!1,t.password=void 0,t}if(1==this.isUserEdit||0==this.isUserEdit){var e=F()({},this.userFormRulesOrigin);return this.isAccountValid=!0,e}}},mounted:function(){var t=this;this.operationType=this.$route.params.operationType,void 0!==this.operationType?(this.form.project_id=this.$route.params.project_id,this.form.project_id?this.getProjectInfo():this.$nextTick(function(){t.initMap()}),this.getType()):this.$router.push({name:"project"})},methods:{requestRefund:function(){var t=this;return _()(m.a.mark(function e(){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.$router.push({name:"requestRefund",params:{operationType:t.$route.params.operationType,project_id:t.$route.params.project_id,allow:t.authentication_info.allow}});case 1:case"end":return e.stop()}},e,t)}))()},seeRequestRefund:function(t){this.$router.push({name:"payRecord",params:{operationType:this.$route.params.operationType,project_id:this.$route.params.project_id,id:t.id,allow:this.authentication_info.allow}})},isDisable:function(){return 0!=this.operationType},getProjectInfo:function(){var t=this;return _()(m.a.mark(function e(){var a,r,n,i,o,s,l,c;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.api.getProjectInfo({project_id:t.form.project_id});case 2:if(200!=(a=e.sent).code){e.next=32;break}for((r=w()({},a.data.project)).property_type=[],r.project_user=a.data.project_admin,r.project_agreement=a.data.project_agreement,t.authentication_info=a.data.authentication_info,t.auditing_info=a.data.auditing_info,t.project_history=a.data.project_history,n=!0,i=!1,o=void 0,e.prev=14,s=C()(a.data.project.property_type);!(n=(l=s.next()).done);n=!0)c=l.value,r.property_type.push(c.property_tag_id);e.next=22;break;case 18:e.prev=18,e.t0=e.catch(14),i=!0,o=e.t0;case 22:e.prev=22,e.prev=23,!n&&s.return&&s.return();case 25:if(e.prev=25,!i){e.next=28;break}throw o;case 28:return e.finish(25);case 29:return e.finish(22);case 30:F()(t.form,r),t.$nextTick(function(){t.initMap(r)});case 32:case"end":return e.stop()}},e,t,[[14,18,22,30],[23,,25,29]])}))()},submit:function(){var t,e=this;this.$refs.ruleForm.validate((t=_()(m.a.mark(function t(a){var r;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!a){t.next=23;break}if(1!=e.operationType){t.next=17;break}return(r={}).project_id=e.form.project_id,r.property_type=e.form.property_type,r.developer_name=e.form.developer_name,r.company_relation=e.form.company_relation,r.project_hold_name=e.form.project_hold_name,r.project_hold_phone=e.form.project_hold_phone,r.statement_company=e.form.statement_company,r.remark=e.form.remark,t.next=13,e.api.getUpdateProject(r);case 13:200==t.sent.code&&(e.$message({type:"success",message:"保存成功"}),setTimeout(function(){e.$router.push({name:"project"})},2e3)),t.next=21;break;case 17:return t.next=19,e.api.getCreateProject(e.form);case 19:200==t.sent.code&&(e.$message({type:"success",message:"保存成功"}),setTimeout(function(){e.$router.push({name:"project"})},2e3));case 21:t.next=24;break;case 23:return t.abrupt("return",!1);case 24:case"end":return t.stop()}},t,e)})),function(e){return t.apply(this,arguments)}))},cancel:function(){this.$router.push({name:"project"})},submitUser:function(){var t=this;return _()(m.a.mark(function e(){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.$refs.projectUserForm.validate(function(){var e=_()(m.a.mark(function e(a){var r,n,i;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=20;break}if(1!=t.operationType){e.next=15;break}if(!t.isUserEdit){e.next=10;break}return t.projectUserForm.project_id=t.form.project_id,(r=F()({},t.projectUserForm)).index=void 0,e.next=8,t.api.updateProjectAdmin(r);case 8:e.next=15;break;case 10:return t.projectUserForm.project_id=t.form.project_id,(n=F()({},t.projectUserForm)).index=void 0,e.next=15,t.api.addProjectAdmin(n);case 15:i=F()({},t.projectUserForm),t.isUserEdit?F()(t.form.project_user[i.index],i):t.form.project_user.push(i),t.cancelUser(),e.next=21;break;case 20:return e.abrupt("return",!1);case 21:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}},e,t)}))()},removeUser:function(t){this.form.project_user.splice(t,1)},cancelUser:function(){this.dialogFormVisibleAccounts=!1;var t=this.$options.data().projectUserForm;F()(this.projectUserForm,t)},showUser:function(){this.isUserEdit=!1,this.dialogFormVisibleAccounts=!0},editUser:function(t,e){this.isUserEdit=!0,this.dialogFormVisibleAccounts=!0,F()(this.projectUserForm,t),this.projectUserForm.index=e},enabledDisable:function(t){var e=this;return _()(m.a.mark(function a(){var r;return m.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return(r={}).id=t.id,1==t.state?r.state=0:0==t.state&&(r.state=1),a.next=5,e.api.updateAdminState(r);case 5:200==a.sent.code&&e.getProjectInfo();case 7:case"end":return a.stop()}},a,e)}))()},showState:function(t){return 1==t?"禁用":0==t?"启用":void 0},StateBtn:function(t){return 0==t?"禁用":1==t?"启用":void 0},auditingState:function(t){return 0==t?"待审核":1==t?"通过":2==t?"未通过":void 0},authenticationType:function(t){return 1==t?"缴纳":2==t?"退款":void 0},projectState:function(t){return 0==t?"禁用":1==t?"管理中":2==t?"已转新房":3==t?"已转二手房":void 0},showUploadFile:function(){document.querySelector(".uploadBtn").click()},fileUpload:function(t){var e=this;return _()(m.a.mark(function a(){var r,n,i,o,s;return m.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(e.fileObject=t,r=!1,(e.fileObject.name.indexOf(".docx")>-1||e.fileObject.name.indexOf(".doc")>-1)&&(r=!0),r){a.next=6;break}return e.$message({type:"error",message:"文件上传格式有误，请上传docx或者doc格式"}),a.abrupt("return");case 6:return n=e.fileObject.raw,(i=new FormData).append("url",n),a.next=11,e.api.uploadProjectAgreement(i);case 11:200==(o=a.sent).code&&((s={}).create_time=o.data.create_time,s.create_name=o.data.create_name,s.url=o.data.img_url,s.file_name=t.name,e.form.project_agreement=[],e.form.project_agreement.push(s)),e.getProjectList();case 14:case"end":return a.stop()}},a,e)}))()},showMapDetails:function(){document.querySelector(".map").classList.toggle("")},auditStatus:function(){},initMap:function(t){var e=this;if(this.map||(this.map=new BMap.Map("map")),this.map.addControl(new BMap.NavigationControl),this.map.enableScrollWheelZoom(!0),t){var a=new BMap.Point(t.longitude,t.latitude);this.map.centerAndZoom(a,15),this.map.clearOverlays(),this.map.addOverlay(new BMap.Marker(a))}else{a=new BMap.Point(116.404,39.915);this.map.centerAndZoom(a,15)}if(1!=this.operationType&&2!=this.operationType){var r=new BMap.Autocomplete({input:"suggestId",location:this.map});r.addEventListener("onhighlight",function(t){var e,a="",r=t.fromitem.value,n="";t.fromitem.index>-1&&(n=r.province+r.city+r.district+r.street+r.business),a="FromItem<br />index = "+t.fromitem.index+"<br />value = "+n,n="",t.toitem.index>-1&&(n=(r=t.toitem.value).province+r.city+r.district+r.street+r.business),a+="<br />ToItem<br />index = "+t.toitem.index+"<br />value = "+n,(e="searchResultPanel",document.getElementById(e)).innerHTML=a}),r.addEventListener("onconfirm",function(t){console.log(t,t.item.value);var a=t.item.value,r=a.city+a.district+a.business;e.form.absolute_address=r,(new BMap.Geocoder).getPoint(r,function(t){if(t){var a=t.lng,r=t.lat;e.form.longitude=a,e.form.latitude=r,e.map.centerAndZoom(t,16),e.map.addOverlay(new BMap.Marker(t))}else alert("您选择地址没有解析到结果!")},a.city)})}},changeDistrict:function(t){var e=this;(new BMap.Geocoder).getPoint(t,function(t){t&&e.map.centerAndZoom(t,16)})},sumbitRefund:function(){this.refundShow=!0},cancelRefund:function(){this.refundShow=!1},getType:function(){var t=this;return _()(m.a.mark(function e(){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.api.getTags();case 2:200==(a=e.sent).code&&(t.typeOptions=a.data);case 4:case"end":return e.stop()}},e,t)}))()}},components:{CitySelector:A}},T={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"AddProject"},[a("div",{staticClass:"title-top"},[a("span",[t._v("申请项目信息")]),t._v(" "),a("span",{staticClass:"title-btn"},[0==t.operationType||1==t.operationType?a("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("保存")]):t._e(),t._v(" "),a("el-button",{on:{click:t.cancel}},[t._v("取消")])],1)]),t._v(" "),a("el-form",{ref:"ruleForm",staticClass:"form",attrs:{model:t.form,rules:t.rules}},[a("el-form-item",{staticClass:"input",attrs:{label:"项目名称",prop:"project_name"}},[a("el-input",{attrs:{"auto-complete":"off",disabled:t.isDisable(),placeholder:"请输入项目名称"},model:{value:t.form.project_name,callback:function(e){t.$set(t.form,"project_name",e)},expression:"form.project_name"}})],1),t._v(" "),a("el-form-item",{staticClass:"select",attrs:{label:"项目地址",prop:"province"}},[a("city-selector",{attrs:{disabled:t.isDisable(),province:t.form.province,city:t.form.city,district:t.form.district},on:{"update:province":function(e){t.$set(t.form,"province",e)},"update:city":function(e){t.$set(t.form,"city",e)},"update:district":function(e){t.$set(t.form,"district",e)},changeDistrict:t.changeDistrict}})],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"",prop:"absolute_address"}},[a("el-input",{staticClass:"input-1",attrs:{id:"suggestId","auto-complete":"off",disabled:t.isDisable(),placeholder:"请输入具体地址"},model:{value:t.form.absolute_address,callback:function(e){t.$set(t.form,"absolute_address",e)},expression:"form.absolute_address"}}),t._v(" "),a("div",{staticStyle:{border:"1px solid #C0C0C0",width:"150px",height:"auto",display:"none"},attrs:{id:"searchResultPanel"}})],1),t._v(" "),a("div",{staticClass:"map",attrs:{id:"map"}}),t._v(" "),a("div",{staticClass:"property_type"},[t._v("物业类型")]),t._v(" "),a("el-form-item",{attrs:{prop:"property_type"}},t._l(t.typeOptions,function(e){return a("el-checkbox",{key:e.param_id,attrs:{disabled:2===t.operationType,label:e.param_id},model:{value:t.form.property_type,callback:function(e){t.$set(t.form,"property_type",e)},expression:"form.property_type"}},[t._v(t._s(e.param))])})),t._v(" "),a("el-form-item",{staticClass:"input1",attrs:{label:"开发商",prop:"developer_name"}},[a("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入开发商名称",disabled:2===t.operationType},model:{value:t.form.developer_name,callback:function(e){t.$set(t.form,"developer_name",e)},expression:"form.developer_name"}})],1),t._v(" "),a("el-form-item",{staticClass:"select",attrs:{label:"与项目关系",prop:"company_relation"}},[a("el-radio-group",{attrs:{disabled:2===t.operationType},model:{value:t.form.company_relation,callback:function(e){t.$set(t.form,"company_relation",e)},expression:"form.company_relation"}},[a("el-radio",{attrs:{label:"开发商"}}),t._v(" "),a("el-radio",{attrs:{label:"代理"}}),t._v(" "),a("el-radio",{attrs:{label:"分销"}}),t._v(" "),a("el-radio",{attrs:{label:"渠道"}}),t._v(" "),a("el-radio",{attrs:{label:"其他"}})],1)],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"结佣单位",prop:"statement_company"}},[a("el-input",{attrs:{disabled:2===t.operationType,"auto-complete":"off",placeholder:"请输入结佣单位名称"},model:{value:t.form.statement_company,callback:function(e){t.$set(t.form,"statement_company",e)},expression:"form.statement_company"}})],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"项目负责人",prop:"project_hold_name"}},[a("el-input",{attrs:{disabled:2===t.operationType,"auto-complete":"off",placeholder:"请输入项目负责人姓名"},model:{value:t.form.project_hold_name,callback:function(e){t.$set(t.form,"project_hold_name",e)},expression:"form.project_hold_name"}})],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"联系电话",prop:"project_hold_phone"}},[a("el-input",{attrs:{disabled:2===t.operationType,"auto-complete":"off",placeholder:"请输入联系电话"},model:{value:t.form.project_hold_phone,callback:function(e){t.$set(t.form,"project_hold_phone",e)},expression:"form.project_hold_phone"}})],1),t._v(" "),a("el-form-item",{staticClass:"textarea",attrs:{label:"备注"}},[a("el-input",{attrs:{disabled:2===t.operationType,type:"textarea"},model:{value:t.form.remark,callback:function(e){t.$set(t.form,"remark",e)},expression:"form.remark"}})],1)],1),t._v(" "),a("div",{staticClass:"tableIn-btn"},[0==t.operationType||1==t.operationType?a("el-button",{attrs:{type:"primary"},on:{click:t.showUser}},[t._v("新增账号")]):t._e()],1),t._v(" "),a("el-table",{attrs:{data:t.form.project_user,border:""}},[1==t.operationType?a("el-table-column",{attrs:{property:"state",label:"当前状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(t.showState(e.row.state))+"\n      ")]}}])}):t._e(),t._v(" "),a("el-table-column",{attrs:{property:"account",label:"帐号",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"name",label:"管理员",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"phone",label:"电话号码",align:"center"}}),t._v(" "),0==t.operationType||1==t.operationType?a("el-table-column",{attrs:{property:"operation",label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.editUser(e.row,e.$index)}}},[t._v("修改")]),t._v(" "),0==t.operationType?a("el-button",{attrs:{type:"text"},on:{click:function(a){t.removeUser(e.$index)}}},[t._v("删除")]):t._e(),t._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){t.enabledDisable(e.row)}}},[t._v(t._s(t.StateBtn(e.row.state)))])]}}])}):t._e()],1),t._v(" "),a("div",[a("el-upload",{staticClass:"uploadFile",attrs:{"auto-upload":!1,action:"","on-change":t.fileUpload}},[a("el-button",{ref:"uploadBtn",staticClass:"uploadBtn",attrs:{size:"small",type:"primary","show-file-list":!1}},[t._v("点击上传")])],1)],1),t._v(" "),0==t.operationType?a("div",{staticClass:"tableIn-btn"},[a("el-button",{attrs:{type:"primary"},on:{click:t.showUploadFile}},[t._v("文件上传确定")])],1):t._e(),t._v(" "),a("el-table",{attrs:{data:t.form.project_agreement,border:""}},[a("el-table-column",{attrs:{property:"file_name",label:"文件名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"附件",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("a",{attrs:{target:"_blank",href:"http://120.27.21.136:2798/"+e.row.url}},[t._v("查看附件")])]}}])}),t._v(" "),a("el-table-column",{attrs:{property:"create_name",label:"上传人员",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"create_time",label:"上传时间",align:"center"}})],1),t._v(" "),1==t.auditing_info.auditing_state||2==t.auditing_info.auditing_state?a("div",[a("div",{staticClass:"num_set"},[t._v("审核项目信息")]),t._v(" "),a("el-form",{staticClass:"form",attrs:{model:t.form}},[a("el-form-item",{staticClass:"inputAud",attrs:{label:"审核人员"}},[a("el-input",{attrs:{"auto-complete":"off",disabled:t.isDisable()},model:{value:t.auditing_info.auditing_name,callback:function(e){t.$set(t.auditing_info,"auditing_name",e)},expression:"auditing_info.auditing_name"}})],1),t._v(" "),a("el-form-item",{staticClass:"inputAud",attrs:{label:"审核时间"}},[a("el-input",{attrs:{"auto-complete":"off",disabled:t.isDisable()},model:{value:t.auditing_info.auditing_time,callback:function(e){t.$set(t.auditing_info,"auditing_time",e)},expression:"auditing_info.auditing_time"}})],1),t._v(" "),a("el-form-item",{staticClass:"inputAud state",attrs:{label:"审核状态"}},[t._v("\n        "+t._s(t.auditingState(t.auditing_info.auditing_state))+"\n      ")]),t._v(" "),a("el-form-item",{staticClass:"textarea",attrs:{label:"备注"}},[a("el-input",{attrs:{type:"textarea",disabled:t.isDisable()},model:{value:t.auditing_info.auditing_remark,callback:function(e){t.$set(t.auditing_info,"auditing_remark",e)},expression:"auditing_info.auditing_remark"}})],1)],1),t._v(" "),1==t.auditing_info.auditing_state?a("div",[a("div",{staticClass:"num_set"},[t._v("认证信息")]),t._v(" "),a("el-form",{staticClass:"form",model:{value:t.authentication_info,callback:function(e){t.authentication_info=e},expression:"authentication_info"}},[a("el-form-item",{staticClass:"inputAud",attrs:{label:"保证金金额（￥）："}},[a("el-input",{attrs:{"auto-complete":"off",disabled:t.isDisable()},model:{value:t.authentication_info.deposit,callback:function(e){t.$set(t.authentication_info,"deposit",e)},expression:"authentication_info.deposit"}})],1),t._v(" "),a("el-form-item",{staticClass:"inputAud",attrs:{label:"未结佣金总额（￥）："}},[a("el-input",{attrs:{"auto-complete":"off",disabled:t.isDisable()},model:{value:t.authentication_info.no_price,callback:function(e){t.$set(t.authentication_info,"no_price",e)},expression:"authentication_info.no_price"}})],1),t._v(" "),a("el-form-item",{staticClass:"inputAud",attrs:{label:"可退金额（￥）："}},[a("el-input",{attrs:{"auto-complete":"off",disabled:t.isDisable()},model:{value:t.authentication_info.allow,callback:function(e){t.$set(t.authentication_info,"allow",e)},expression:"authentication_info.allow"}})],1),t._v(" "),a("el-form-item",{staticClass:"inputAud state",attrs:{label:"项目状态"}},[t._v("\n          "+t._s(t.projectState(t.authentication_info.authentication_state))+"\n        ")]),t._v(" "),a("el-form-item",{staticClass:"request"},[t.authentication_info.deposit>0?a("el-button",{attrs:{type:"primary",disabled:2===t.operationType},on:{click:function(e){t.requestRefund()}}},[t._v("申请退款")]):t._e()],1),t._v(" "),a("div",{staticClass:"num_details"},[t._v("保证金详情")]),t._v(" "),a("el-table",{attrs:{data:t.authentication_info.business_log,border:""}},[a("el-table-column",{attrs:{property:"id",label:"序号",align:"center",width:"70px"}}),t._v(" "),a("el-table-column",{attrs:{property:"drawee",label:"付款户名",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"payee",label:"收款户名",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"price",label:"金额（￥）",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"contact_name",label:"联系人",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"contact_phone",label:"联系电话",align:"center",width:"120px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"type",label:"类型",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.authenticationType(e.row.type)))]}}])}),t._v(" "),a("el-table-column",{attrs:{property:"create_name",label:"交易人",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"create_time",label:"交易时间",align:"center",width:"150px"}}),t._v(" "),a("el-table-column",{attrs:{property:"operation",label:"操作",align:"center",width:"80px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.seeRequestRefund(e.row)}}},[t._v("查看")])]}}])})],1)],1)],1):t._e(),t._v(" "),1==t.auditing_info.auditing_state?a("div",[a("div",{staticClass:"num_set"},[t._v("项目历史")]),t._v(" "),a("el-table",{attrs:{data:t.project_history,border:""}},[a("el-table-column",{attrs:{property:"nub",label:"序号",align:"center",width:"70px"}}),t._v(" "),a("el-table-column",{attrs:{property:"company_name",label:"公司名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"company_relation",label:"与项目关系",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"s_time",label:"开始时间",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"e_time",label:"结束时间",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"project_hold_name",label:"负责人",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"project_hold_phone",label:"联系方式",align:"center"}})],1)],1):t._e()],1):t._e(),t._v(" "),a("el-dialog",{staticClass:"tableUser",attrs:{title:"新建账号",visible:t.dialogFormVisibleAccounts},on:{"update:visible":function(e){t.dialogFormVisibleAccounts=e},close:t.cancelUser}},[a("el-form",{ref:"projectUserForm",attrs:{model:t.projectUserForm,rules:t.userFormRules}},[a("el-form-item",{staticClass:"input",attrs:{label:"设定帐号",prop:"account"}},[a("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入帐号"},model:{value:t.projectUserForm.account,callback:function(e){t.$set(t.projectUserForm,"account",e)},expression:"projectUserForm.account"}})],1),t._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.isAccountValid,expression:"isAccountValid"}],staticClass:"input",attrs:{label:"设定密码",prop:"password"}},[a("el-input",{attrs:{"auto-complete":"off",type:"password",placeholder:"请输入密码"},model:{value:t.projectUserForm.password,callback:function(e){t.$set(t.projectUserForm,"password",e)},expression:"projectUserForm.password"}})],1),t._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!t.isAccountValid,expression:"!isAccountValid"}],staticClass:"input",attrs:{label:"设定密码"}},[a("el-input",{attrs:{"auto-complete":"off",type:"password",placeholder:"不设置为之前密码"},model:{value:t.projectUserForm.password,callback:function(e){t.$set(t.projectUserForm,"password",e)},expression:"projectUserForm.password"}})],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"管理员姓名",prop:"name"}},[a("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入管理员姓名"},model:{value:t.projectUserForm.name,callback:function(e){t.$set(t.projectUserForm,"name",e)},expression:"projectUserForm.name"}})],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"联系电话",prop:"phone"}},[a("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入联系电话"},model:{value:t.projectUserForm.phone,callback:function(e){t.$set(t.projectUserForm,"phone",e)},expression:"projectUserForm.phone"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.cancelUser}},[t._v("关 闭")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.submitUser}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var R=a("vSla")(S,T,!1,function(t){a("DWiN"),a("gnyh")},"data-v-52c93393",null).exports,U={data:function(){return{rules:{project_name:[{required:!0,message:"请输入项目名称",change:"change"},{max:20,message:"最大长度为20个字符",trigger:"change"}],property_type:[{type:"array",required:!0,message:"请选择物业类型",change:"change"}],statement_company:[{required:!0,message:"请输入结佣单位",change:"change"},{max:20,message:"最大长度为20个字符",trigger:"change"}],province:[{required:!0,message:"请选择具体地址",change:"change"}],absolute_address:[{required:!0,message:"请输入具体地址",change:"change"}],developer_name:[{required:!0,message:"请输入开发商名字",change:"change"},{max:20,message:"最大长度为20个字符",trigger:"change"}],project_hold_name:[{max:4,message:"最大长度为4个字符",trigger:"change"},{required:!0,message:"请输入项目负责人",change:"change"}],project_hold_phone:[{required:!0,message:"电话号码必须填写",change:"change"},{pattern:/^1[34578]\d{9}$/,message:"请输入正确的电话号码",change:"change"}],company_relation:[{required:!0,message:"请选择公司与项目关系",change:"change"}],remark:[{required:!0,message:"请输入备注",change:"change"}]},userFormRules:{name:[{required:!0,message:"请输入管理员",change:"change"},{max:4,message:"最大长度为4个字符",trigger:"change"}],account:[{required:!0,message:"请输入账号",change:"change"},{min:4,max:16,message:"长度在 4 到 16 个字符",trigger:"change"}],password:[{required:!0,message:"请输入密码",change:"change"},{min:6,max:16,message:"长度在 6 到 16 个字符",trigger:"change"}],phone:[{required:!0,message:"电话号码必须填写",change:"change"},{pattern:/^1[34578]\d{9}$/,message:"请输入正确的电话号码",change:"change"}]},form:{district:"",province:"",city:"",statement_company:"",project_hold_phone:"",latitude:"",longitude:"",project_name:"",absolute_address:"",property_type:[],developer_name:"",project_hold_name:"",company_relation:"",remark:"",project_id:"",project_agreement:[],project_user:[]},map:null,sendata:{},gridData:[],historicalRecords:[],UserShow:[],Enclosure:[],dialogFormVisibleAccounts:!1,showMap:!1,isUserEdit:!1,refundShow:!1,isEditProjectList:!1,paymentRecordTable:!1,auditOptions:[],options:[{value:"选项1",label:"区域"}],value:"",projectUserForm:{name:"",account:"",password:"",phone:""},auditing_info:{auditing_name:"",auditing_time:"",auditing_remark:"",auditing_state:""},paymentRecord:[],refund:[],userObj:{},fileObject:{},operationType:0,addEditDelete:0,project:[],typeOptions:[],project_history:[],projectHistory:{company_id:"",s_time:"",e_time:"",project_hold_phone:"",project_hold_name:"",company_relation:"",project_id:"",company_name:""},authentication_info:{business_log:[]},businessLogForm:{deposit:"",authentication_state:"",no_price:"",business_log:[{payee:"",drawee:"",contact_name:"",contact_phone:"",create_name:"",create_time:"",price:"",type:""}]},projectAgreement:{file_name:"",url:"",create_name:"",create_time:""}}},mounted:function(){var t=this;this.operationType=this.$route.params.operationType,void 0!==this.operationType?(this.form.project_id=this.$route.params.project_id,this.form.project_id?this.getProjectInfo():this.$nextTick(function(){t.initMap()}),this.getType()):this.$router.push({name:"project"})},methods:{requestRefund:function(){var t=this;return _()(m.a.mark(function e(){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.$router.push({name:"requestRefund",params:{operationType:t.$route.params.operationType,project_id:t.$route.params.project_id,allow:t.authentication_info.allow}});case 1:case"end":return e.stop()}},e,t)}))()},seeRefund:function(t){var e="";1==t.type?e="payRecord":2==t.type&&(e="refundInfo"),this.$router.push({name:e,params:{operationType:this.$route.params.operationType,project_id:this.$route.params.project_id,id:t.id}})},isDisable:function(){return 3!=this.operationType},getProjectInfo:function(){var t=this;return _()(m.a.mark(function e(){var a,r,n,i,o,s,l,c;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.api.getProjectInfo({project_id:t.form.project_id});case 2:if(200!=(a=e.sent).code){e.next=32;break}for((r=w()({},a.data.project)).property_type=[],r.project_user=a.data.project_admin,r.project_agreement=a.data.project_agreement,t.authentication_info=a.data.authentication_info,t.auditing_info=a.data.auditing_info,t.project_history=a.data.project_history,n=!0,i=!1,o=void 0,e.prev=14,s=C()(a.data.project.property_type);!(n=(l=s.next()).done);n=!0)c=l.value,r.property_type.push(c.property_tag_id);e.next=22;break;case 18:e.prev=18,e.t0=e.catch(14),i=!0,o=e.t0;case 22:e.prev=22,e.prev=23,!n&&s.return&&s.return();case 25:if(e.prev=25,!i){e.next=28;break}throw o;case 28:return e.finish(25);case 29:return e.finish(22);case 30:F()(t.form,r),t.$nextTick(function(){t.initMap(r)});case 32:case"end":return e.stop()}},e,t,[[14,18,22,30],[23,,25,29]])}))()},submit:function(){var t=this;return _()(m.a.mark(function e(){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.$refs.ruleForm.validate(function(){var e=_()(m.a.mark(function e(a){var r;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=30;break}if(3!=t.operationType){e.next=24;break}return(r={}).project_id=t.form.project_id,r.project_name=t.form.project_name,r.province=t.form.province,r.city=t.form.city,r.district=t.form.district,r.absolute_address=t.form.absolute_address,r.longitude=t.form.longitude,r.latitude=t.form.latitude,r.property_type=t.form.property_type,r.developer_name=t.form.developer_name,r.company_relation=t.form.company_relation,r.project_hold_name=t.form.project_hold_name,r.project_hold_phone=t.form.project_hold_phone,r.remark=t.form.remark,r.statement_company=t.form.statement_company,e.next=20,t.api.reCreateProject(r);case 20:200==e.sent.code&&(t.$message({type:"success",message:"保存成功"}),setTimeout(function(){t.$router.push({name:"project"})},2e3)),e.next=28;break;case 24:return e.next=26,t.api.getCreateProject(t.form);case 26:200==e.sent.code&&(t.$message({type:"success",message:"保存成功"}),setTimeout(function(){t.$router.push({name:"project"})},2e3));case 28:e.next=31;break;case 30:return e.abrupt("return",!1);case 31:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}},e,t)}))()},cancel:function(){this.$router.push({name:"project"})},submitUser:function(){var t=this;return _()(m.a.mark(function e(){var a,r,n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(1!=t.operationType){e.next=15;break}if(!t.isUserEdit){e.next=10;break}return t.projectUserForm.project_id=t.form.project_id,(a=F()({},t.projectUserForm)).index=void 0,a.password=void 0,e.next=8,t.api.updateProjectAdmin(a);case 8:e.next=15;break;case 10:return t.projectUserForm.project_id=t.form.project_id,(r=F()({},t.projectUserForm)).index=void 0,e.next=15,t.api.addProjectAdmin(r);case 15:n=F()({},t.projectUserForm),t.isUserEdit?F()(t.form.project_user[n.index],n):t.form.project_user.push(n),t.cancelUser();case 18:case"end":return e.stop()}},e,t)}))()},removeUser:function(t){this.form.project_user.splice(t,1)},cancelUser:function(){this.dialogFormVisibleAccounts=!1;var t=this.$options.data().projectUserForm;F()(this.projectUserForm,t)},showUser:function(){this.isUserEdit=!1,this.dialogFormVisibleAccounts=!0},editUser:function(t,e){this.isUserEdit=!0,this.dialogFormVisibleAccounts=!0,F()(this.projectUserForm,t),this.projectUserForm.index=e},auditingState:function(t){return 0==t?"待审核":1==t?"通过":2==t?"未通过":void 0},authenticationType:function(t){return 1==t?"缴纳":2==t?"退款":void 0},projectState:function(t){return 0==t?"禁用":1==t?"管理中":2==t?"已转新房":3==t?"已转二手房":void 0},showUploadFile:function(){document.querySelector(".uploadBtn").click()},fileUpload:function(t){var e=this;return _()(m.a.mark(function a(){var r,n,i,o,s;return m.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(e.fileObject=t,r=!1,(e.fileObject.name.indexOf(".docx")>-1||e.fileObject.name.indexOf(".doc")>-1)&&(r=!0),r){a.next=6;break}return e.$message({type:"error",message:"文件上传格式有误，请上传docx或者doc格式"}),a.abrupt("return");case 6:return n=e.fileObject.raw,(i=new FormData).append("url",n),a.next=11,e.api.uploadProjectAgreement(i);case 11:200==(o=a.sent).code&&((s={}).create_time=o.data.create_time,s.create_name=o.data.create_name,s.url=o.data.img_url,s.file_name=t.name,e.form.project_agreement=[],e.form.project_agreement.push(s)),e.getProjectList();case 14:case"end":return a.stop()}},a,e)}))()},showMapDetails:function(){document.querySelector(".map").classList.toggle("active")},auditStatus:function(){},initMap:function(t){var e=this;if(this.map||(this.map=new BMap.Map("map")),this.map.addControl(new BMap.NavigationControl),this.map.enableScrollWheelZoom(!0),t){var a=new BMap.Point(t.longitude,t.latitude);this.map.centerAndZoom(a,15),this.map.clearOverlays(),this.map.addOverlay(new BMap.Marker(a))}else{a=new BMap.Point(116.404,39.915);this.map.centerAndZoom(a,15)}if(1!=this.operationType&&2!=this.operationType){var r=new BMap.Autocomplete({input:"suggestId",location:this.map});r.addEventListener("onhighlight",function(t){var e,a="",r=t.fromitem.value,n="";t.fromitem.index>-1&&(n=r.province+r.city+r.district+r.street+r.business),a="FromItem<br />index = "+t.fromitem.index+"<br />value = "+n,n="",t.toitem.index>-1&&(n=(r=t.toitem.value).province+r.city+r.district+r.street+r.business),a+="<br />ToItem<br />index = "+t.toitem.index+"<br />value = "+n,(e="searchResultPanel",document.getElementById(e)).innerHTML=a}),r.addEventListener("onconfirm",function(t){var a=t.item.value,r=a.city+a.district+a.business;e.form.absolute_address=r,(new BMap.Geocoder).getPoint(r,function(t){if(t){var a=t.lng,r=t.lat;e.form.longitude=a,e.form.latitude=r,e.map.centerAndZoom(t,16),e.map.addOverlay(new BMap.Marker(t))}else alert("您选择地址没有解析到结果!")},a.city)})}},changeDistrict:function(t){var e=this;(new BMap.Geocoder).getPoint(t,function(t){t&&e.map.centerAndZoom(t,16)})},sumbitRefund:function(){this.refundShow=!0},cancelRefund:function(){this.refundShow=!1},getType:function(){var t=this;return _()(m.a.mark(function e(){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.api.getTags();case 2:200==(a=e.sent).code&&(t.typeOptions=a.data);case 4:case"end":return e.stop()}},e,t)}))()}},components:{CitySelector:A}},O={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"AddProject"},[a("div",{staticClass:"title-top"},[a("div",{staticClass:"title"},[t._v("重新申请项目信息")]),t._v(" "),a("span",{staticClass:"title-btn"},[a("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("保存")]),t._v(" "),a("el-button",{on:{click:t.cancel}},[t._v("取消")])],1)]),t._v(" "),a("el-form",{ref:"ruleForm",staticClass:"form",attrs:{model:t.form,rules:t.rules}},[a("el-form-item",{staticClass:"input",attrs:{label:"项目名称",prop:"project_name"}},[a("el-input",{attrs:{"auto-complete":"off",disabled:t.isDisable(),placeholder:"请输入项目名称"},model:{value:t.form.project_name,callback:function(e){t.$set(t.form,"project_name",e)},expression:"form.project_name"}})],1),t._v(" "),a("el-form-item",{staticClass:"select",attrs:{label:"项目地址",prop:"province"}},[a("city-selector",{attrs:{disabled:t.isDisable(),province:t.form.province,city:t.form.city,district:t.form.district},on:{"update:province":function(e){t.$set(t.form,"province",e)},"update:city":function(e){t.$set(t.form,"city",e)},"update:district":function(e){t.$set(t.form,"district",e)},changeDistrict:t.changeDistrict}})],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"",prop:"absolute_address"}},[a("el-input",{staticClass:"input-1",attrs:{id:"suggestId","auto-complete":"off",disabled:t.isDisable(),placeholder:"请输入具体地址"},model:{value:t.form.absolute_address,callback:function(e){t.$set(t.form,"absolute_address",e)},expression:"form.absolute_address"}}),t._v(" "),a("div",{staticStyle:{border:"1px solid #C0C0C0",width:"150px",height:"auto",display:"none"},attrs:{id:"searchResultPanel"}})],1),t._v(" "),a("div",{staticClass:"map",attrs:{id:"map"}}),t._v(" "),a("div",{staticClass:"property_type"},[t._v("物业类型")]),t._v(" "),a("el-form-item",{attrs:{prop:"property_type"}},t._l(t.typeOptions,function(e){return a("el-checkbox",{key:e.param_id,attrs:{disabled:2===t.operationType,label:e.param_id},model:{value:t.form.property_type,callback:function(e){t.$set(t.form,"property_type",e)},expression:"form.property_type"}},[t._v(t._s(e.param))])})),t._v(" "),a("el-form-item",{staticClass:"input1",attrs:{label:"开发商",prop:"developer_name"}},[a("el-input",{attrs:{disabled:2==t.operationType,"auto-complete":"off",placeholder:"请输入开发商名称"},model:{value:t.form.developer_name,callback:function(e){t.$set(t.form,"developer_name",e)},expression:"form.developer_name"}})],1),t._v(" "),a("el-form-item",{staticClass:"select",attrs:{label:"与项目关系",prop:"company_relation"}},[a("el-radio-group",{attrs:{disabled:2==t.operationType},model:{value:t.form.company_relation,callback:function(e){t.$set(t.form,"company_relation",e)},expression:"form.company_relation"}},[a("el-radio",{attrs:{label:"开发商"}}),t._v(" "),a("el-radio",{attrs:{label:"代理"}}),t._v(" "),a("el-radio",{attrs:{label:"分销"}}),t._v(" "),a("el-radio",{attrs:{label:"渠道"}}),t._v(" "),a("el-radio",{attrs:{label:"其他"}})],1)],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"结佣单位",prop:"statement_company"}},[a("el-input",{attrs:{disabled:2==t.operationType,"auto-complete":"off",placeholder:"请输入结佣单位名称"},model:{value:t.form.statement_company,callback:function(e){t.$set(t.form,"statement_company",e)},expression:"form.statement_company"}})],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"项目负责人",prop:"project_hold_name"}},[a("el-input",{attrs:{disabled:2==t.operationType,"auto-complete":"off",placeholder:"请输入项目负责人姓名"},model:{value:t.form.project_hold_name,callback:function(e){t.$set(t.form,"project_hold_name",e)},expression:"form.project_hold_name"}})],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"联系电话",prop:"project_hold_phone"}},[a("el-input",{attrs:{disabled:2==t.operationType,"auto-complete":"off",placeholder:"请输入联系电话"},model:{value:t.form.project_hold_phone,callback:function(e){t.$set(t.form,"project_hold_phone",e)},expression:"form.project_hold_phone"}})],1),t._v(" "),a("el-form-item",{staticClass:"textarea",attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{disabled:2==t.operationType,type:"textarea"},model:{value:t.form.remark,callback:function(e){t.$set(t.form,"remark",e)},expression:"form.remark"}})],1)],1),t._v(" "),a("div",{staticClass:"tableIn-btn"},[3==t.operationType?a("el-button",{attrs:{type:"primary"},on:{click:t.showUser}},[t._v("新增账号")]):t._e()],1),t._v(" "),a("el-table",{attrs:{data:t.form.project_user,border:""}},[a("el-table-column",{attrs:{property:"account",label:"帐号",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"name",label:"对接人",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"phone",label:"电话号码",align:"center"}}),t._v(" "),1==t.operationType||3==t.operationType?a("el-table-column",{attrs:{property:"operation",label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.editUser(e.row,e.$index)}}},[t._v("修改")]),t._v(" "),1==t.operationType||3==t.operationType?a("el-button",{attrs:{type:"text"},on:{click:function(a){t.removeUser(e.$index)}}},[t._v("删除")]):t._e()]}}])}):t._e()],1),t._v(" "),a("div",[a("el-upload",{staticClass:"uploadFile",attrs:{"auto-upload":!1,action:"","on-change":t.fileUpload}},[a("el-button",{ref:"uploadBtn",staticClass:"uploadBtn",attrs:{size:"small",type:"primary","show-file-list":!1}},[t._v("点击上传")])],1)],1),t._v(" "),0==t.operationType||3==t.operationType?a("div",{staticClass:"tableIn-btn"},[a("el-button",{attrs:{type:"primary"},on:{click:t.showUploadFile}},[t._v("文件上传确定")])],1):t._e(),t._v(" "),a("el-table",{attrs:{data:t.form.project_agreement,border:""}},[a("el-table-column",{attrs:{property:"file_name",label:"文件名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"附件",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("a",{attrs:{target:"_blank",href:"http://120.27.21.136:2798/"+e.row.url}},[t._v("查看附件")])]}}])}),t._v(" "),a("el-table-column",{attrs:{property:"create_name",label:"上传人员",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"create_time",label:"上传时间",align:"center"}})],1),t._v(" "),a("div",[2==t.operationType?a("div",[a("div",{staticClass:"num_set"},[t._v("审核项目信息")]),t._v(" "),a("el-form",{staticClass:"form",attrs:{model:t.form,disabled:t.isDisable()}},[a("el-form-item",{staticClass:"inputAud",attrs:{label:"审核人员"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.auditing_info.auditing_name,callback:function(e){t.$set(t.auditing_info,"auditing_name",e)},expression:"auditing_info.auditing_name"}})],1),t._v(" "),a("el-form-item",{staticClass:"inputAud",attrs:{label:"审核时间"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.auditing_info.auditing_time,callback:function(e){t.$set(t.auditing_info,"auditing_time",e)},expression:"auditing_info.auditing_time"}})],1),t._v(" "),a("el-form-item",{staticClass:"inputAud state",attrs:{label:"审核状态"}},[t._v("\n          "+t._s(t.auditingState(t.auditing_info.auditing_state))+"\n        ")]),t._v(" "),a("el-form-item",{staticClass:"textarea",attrs:{label:"备注"}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.auditing_info.auditing_remark,callback:function(e){t.$set(t.auditing_info,"auditing_remark",e)},expression:"auditing_info.auditing_remark"}})],1)],1)],1):t._e(),t._v(" "),2==t.operationType?a("div",[a("div",{staticClass:"num_set"},[t._v("认证信息")]),t._v(" "),a("el-form",{staticClass:"form",model:{value:t.authentication_info,callback:function(e){t.authentication_info=e},expression:"authentication_info"}},[a("el-form-item",{staticClass:"inputAud",attrs:{label:"保证金金额（￥）："}},[a("el-input",{attrs:{"auto-complete":"off",disabled:t.isDisable()},model:{value:t.authentication_info.deposit,callback:function(e){t.$set(t.authentication_info,"deposit",e)},expression:"authentication_info.deposit"}})],1),t._v(" "),a("el-form-item",{staticClass:"inputAud",attrs:{label:"未结佣金总额（￥）："}},[a("el-input",{attrs:{"auto-complete":"off",disabled:t.isDisable()},model:{value:t.authentication_info.no_price,callback:function(e){t.$set(t.authentication_info,"no_price",e)},expression:"authentication_info.no_price"}})],1),t._v(" "),a("el-form-item",{staticClass:"inputAud",attrs:{label:"可退金额（￥）："}},[a("el-input",{attrs:{"auto-complete":"off",disabled:t.isDisable()},model:{value:t.authentication_info.allow,callback:function(e){t.$set(t.authentication_info,"allow",e)},expression:"authentication_info.allow"}})],1),t._v(" "),a("el-form-item",{staticClass:"inputAud state",attrs:{label:"项目状态"}},[t._v("\n          "+t._s(t.projectState(t.authentication_info.authentication_state))+"\n        ")]),t._v(" "),a("el-form-item",{staticClass:"request"},[t.authentication_info.deposit>0?a("el-button",{attrs:{type:"primary",disabled:2===t.operationType},on:{click:function(e){t.requestRefund()}}},[t._v("申请退款")]):t._e()],1),t._v(" "),a("div",{staticClass:"num_details"},[t._v("保证金详情")]),t._v(" "),a("el-table",{attrs:{data:t.authentication_info.business_log,border:""}},[a("el-table-column",{attrs:{property:"id",label:"序号",align:"center",width:"70px"}}),t._v(" "),a("el-table-column",{attrs:{property:"drawee",label:"付款户名",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"payee",label:"收款户名",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"price",label:"金额（￥）",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"contact_name",label:"联系人",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"contact_phone",label:"联系电话",align:"center",width:"120px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"type",label:"类型",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.authenticationType(e.row.type)))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"state",label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.auditingState(e.row.state)))]}}])}),t._v(" "),a("el-table-column",{attrs:{property:"create_name",label:"交易人",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"create_time",label:"交易时间",align:"center",width:"150px"}}),t._v(" "),1==t.operationType?a("el-table-column",{attrs:{property:"operation",label:"操作",align:"center",width:"80px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.seeRefund(e.row)}}},[t._v("查看")])]}}])}):t._e()],1)],1)],1):t._e(),t._v(" "),2==t.operationType?a("div",{attrs:{disabled:2===t.operationType}},[a("div",{staticClass:"num_set"},[t._v("项目历史")]),t._v(" "),a("el-table",{attrs:{data:t.project_history,border:""}},[a("el-table-column",{attrs:{property:"nub",label:"序号",align:"center",width:"70px"}}),t._v(" "),a("el-table-column",{attrs:{property:"company_name",label:"公司名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"company_relation",label:"与项目关系",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"s_time",label:"开始时间",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"e_time",label:"结束时间",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"project_hold_name",label:"负责人",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"project_hold_phone",label:"联系方式",align:"center"}})],1)],1):t._e()]),t._v(" "),a("el-dialog",{staticClass:"tableUser",attrs:{title:"新建账号",visible:t.dialogFormVisibleAccounts},on:{"update:visible":function(e){t.dialogFormVisibleAccounts=e},close:t.cancelUser}},[a("el-form",{ref:"projectUserForm",attrs:{model:t.projectUserForm,rules:t.userFormRules}},[a("el-form-item",{staticClass:"input",attrs:{label:"设定帐号",prop:"account"}},[a("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入帐号"},model:{value:t.projectUserForm.account,callback:function(e){t.$set(t.projectUserForm,"account",e)},expression:"projectUserForm.account"}})],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"设定密码",prop:"password"}},[a("el-input",{attrs:{"auto-complete":"off",type:"password",placeholder:"请输入密码"},model:{value:t.projectUserForm.password,callback:function(e){t.$set(t.projectUserForm,"password",e)},expression:"projectUserForm.password"}})],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"管理员",prop:"name"}},[a("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入管理员"},model:{value:t.projectUserForm.name,callback:function(e){t.$set(t.projectUserForm,"name",e)},expression:"projectUserForm.name"}})],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"联系电话",prop:"phone"}},[a("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入联系电话"},model:{value:t.projectUserForm.phone,callback:function(e){t.$set(t.projectUserForm,"phone",e)},expression:"projectUserForm.phone"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.cancelUser}},[t._v("关 闭")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.submitUser}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var I=a("vSla")(U,O,!1,function(t){a("sbdS"),a("ON4U")},"data-v-92bfe880",null).exports,q={data:function(){return{requestRefund:{project_id:"",price:"",refund_remarks:"",payee:"",payee_account:"",remark:"",payee_bank:""},allow:"",bankOptions:[],rules:{price:[{required:!0,message:"请输入退款金额",change:"change"},{pattern:/^[0-9]+(.[0-9]{1,2})?$/,message:"请输入正确的金额",change:"change"}],refund_remarks:[{required:!0,message:"请输入退款原因",change:"change"},{max:255,message:"最大长度为20个字符",trigger:"change"}],payee:[{required:!0,message:"请输入收款人姓名",change:"change"},{pattern:/[\u4E00-\u9FA5]{2,5}(?:·[\u4E00-\u9FA5]{2,5})*/,message:"最大长度为6个字符",trigger:"change"}],payee_account:[{required:!0,message:"请输入收款人账号",change:"change"},{pattern:/^([1-9]{1})(\d{14}|\d{18})$/,message:"请输入正确的银行卡号",change:"change"}],remark:[{required:!0,message:"请输入备注",change:"change"},{max:255,message:"最大长度为225个字符",trigger:"change"}],payee_bank:[{required:!0,message:"请选择收款银行",change:"change"},{max:20,message:"最大长度为20个字符",trigger:"change"}]}}},mounted:function(){this.getBankOptions();var t=this.$route.params;void 0===t.project_id&&this.$router.push({name:"project"}),F()(this.requestRefund,t.project_id),this.requestRefund.project_id=t.project_id,this.allow=t.allow},methods:{close:function(){this.$router.push({name:"addProject",params:this.$route.params})},submit:function(){var t=this;return _()(m.a.mark(function e(){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.$refs.requestRefund.validate(function(){var e=_()(m.a.mark(function e(a){var r;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=7;break}return e.next=3,t.api.getRefund(t.requestRefund);case 3:200==(r=e.sent).code?t.$router.push({name:"addProject",params:t.$route.params}):t.$message({type:"error",message:r.msg}),e.next=8;break;case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}},e,t)}))()},getBankOptions:function(t){var e=this;return _()(m.a.mark(function a(){var r;return m.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.api.getBack({param_id:t});case 2:200==(r=a.sent).code&&(e.bankOptions=r.data);case 4:case"end":return a.stop()}},a,e)}))()}}},D={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"requestRefund"},[a("div",{staticStyle:{"margin-bottom":"30px"}}),t._v(" "),a("div",[a("div",{staticClass:"text"},[t._v("\n      申请退款\n    ")]),t._v(" "),a("div",{staticClass:"btn"},[a("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("确定")]),t._v(" "),a("el-button",{on:{click:t.close}},[t._v("返回")])],1),t._v(" "),a("el-form",{ref:"requestRefund",staticClass:"table",attrs:{model:t.requestRefund,rules:t.rules}},[a("el-form-item",{staticClass:"input",attrs:{label:"可退金额"}},[a("div",[t._v(" "+t._s(t.allow)+" ")])]),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"本次退款金额",prop:"price"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.requestRefund.price,callback:function(e){t.$set(t.requestRefund,"price",e)},expression:"requestRefund.price"}})],1),t._v(" "),a("el-form-item",{staticClass:"input1",attrs:{label:"退款原因",prop:"refund_remarks"}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.requestRefund.refund_remarks,callback:function(e){t.$set(t.requestRefund,"refund_remarks",e)},expression:"requestRefund.refund_remarks"}})],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"收款银行",prop:"payee_bank"}},[a("el-select",{staticClass:"select-1",attrs:{placeholder:"请选择收款银行"},on:{change:t.getBankOptions},model:{value:t.requestRefund.payee_bank,callback:function(e){t.$set(t.requestRefund,"payee_bank",e)},expression:"requestRefund.payee_bank"}},t._l(t.bankOptions,function(t){return a("el-option",{key:t.param_id,attrs:{label:t.param,value:t.param}})}))],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"收款银行卡号",prop:"payee_account"}},[a("el-input",{staticClass:"input",model:{value:t.requestRefund.payee_account,callback:function(e){t.$set(t.requestRefund,"payee_account",e)},expression:"requestRefund.payee_account"}})],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"收款人",prop:"payee"}},[a("el-input",{staticClass:"input",model:{value:t.requestRefund.payee,callback:function(e){t.$set(t.requestRefund,"payee",e)},expression:"requestRefund.payee"}})],1),t._v(" "),a("el-form-item",{staticClass:"input1",attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.requestRefund.remark,callback:function(e){t.$set(t.requestRefund,"remark",e)},expression:"requestRefund.remark"}})],1)],1)],1)])},staticRenderFns:[]};var L=a("vSla")(q,D,!1,function(t){a("YbqS")},"data-v-cce8a1d6",null).exports,B={data:function(){return{refund:{id:"",price:""}}},mounted:function(){var t=this.$route.params;this.operationType=t.operationType,void 0!==this.operationType?(this.refund.id=this.$route.params.id,this.refund.id&&this.getBusinessInfo()):this.$router.push({name:"project"})},methods:{getBusinessInfo:function(){var t=this;return _()(m.a.mark(function e(){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.api.getBusinessInfo({id:t.refund.id});case 2:200==(a=e.sent).code&&(t.refund=a.data);case 4:case"end":return e.stop()}},e,t)}))()},cancelRefund:function(){this.$router.push({name:"addProject",params:this.$route.params})}}},E={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"payRecord"},[a("div",{staticClass:"title"},[t._v("缴纳记录")]),t._v(" "),a("div",{staticClass:"box"},[a("el-form",{staticClass:"table",model:{value:t.refund,callback:function(e){t.refund=e},expression:"refund"}},[a("el-form-item",{staticClass:"input1"},[a("div",[t._v("缴纳金额（￥）")]),t._v(" "),a("div",{staticClass:"border"},[t._v(t._s(t.refund.price))])]),t._v(" "),a("el-form-item",{staticClass:"input"},[a("div",[t._v("付款银行")]),t._v(" "),a("div",{staticClass:"border"},[t._v(t._s(t.refund.drawee_bank))])]),t._v(" "),a("el-form-item",{staticClass:"input"},[a("div",[t._v("付款银行卡号")]),t._v(" "),a("div",{staticClass:"border"},[t._v(t._s(t.refund.drawee_account))])]),t._v(" "),a("el-form-item",{staticClass:"input"},[a("div",[t._v("付款户名")]),t._v(" "),a("div",{staticClass:"border"},[t._v(t._s(t.refund.drawee))])]),t._v(" "),a("el-form-item",{staticClass:"input3"},[a("div",[t._v("付款时间")]),t._v(" "),a("div",{staticClass:"border"},[t._v(t._s(t.refund.create_time))])]),t._v(" "),a("el-form-item",{staticClass:"input"},[a("div",[t._v("收款银行")]),t._v(" "),a("div",{staticClass:"border"},[t._v(t._s(t.refund.payee_bank))])]),t._v(" "),a("el-form-item",{staticClass:"input"},[a("div",[t._v("收款银行卡号")]),t._v(" "),a("div",{staticClass:"border"},[t._v(t._s(t.refund.payee_account))])]),t._v(" "),a("el-form-item",{staticClass:"input"},[a("div",[t._v("收款户名")]),t._v(" "),a("div",{staticClass:"border"},[t._v(t._s(t.refund.payee))])]),t._v(" "),a("el-form-item",{staticClass:"input"},[a("div",[t._v("交易人")]),t._v(" "),a("div",{staticClass:"border"},[t._v(t._s(t.refund.create_name))])]),t._v(" "),a("el-form-item",{staticClass:"input"},[a("div",[t._v("联系电话")]),t._v(" "),a("div",{staticClass:"border"},[t._v(t._s(t.refund.contact_phone))])]),t._v(" "),a("el-form-item",{staticClass:"input2"},[a("div",[t._v("备注")]),t._v(" "),a("div",{staticClass:"border"},[t._v(t._s(t.refund.remark))])]),t._v(" "),a("div",{staticClass:"num_set"},[t._v("附件")]),t._v(" "),a("el-table",{attrs:{data:t.refund.file,border:""}},[a("el-table-column",{attrs:{label:"文件名称",prop:"file_name",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"附件",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("a",{attrs:{target:"_blank",href:"http://120.27.21.136:2798/"+e.row.url}},[t._v("查看附件")])]}}])}),t._v(" "),a("el-table-column",{attrs:{property:"create_name",label:"上传人员",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"create_time",label:"上传时间",align:"center"}})],1)],1),t._v(" "),a("div",{staticClass:"cancel",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.cancelRefund}},[t._v("关 闭")])],1)],1)])},staticRenderFns:[]};var V=a("vSla")(B,E,!1,function(t){a("faAr")},null,null).exports,M={data:function(){return{refund:{id:""}}},mounted:function(){var t=this,e=this.$route.params;this.operationType=e.operationType,void 0!==this.operationType?(this.refund.id=this.$route.params.id,this.refund.id?this.getBusinessInfo():this.$nextTick(function(){t.initMap()})):this.$router.push({name:"project"})},methods:{getBusinessInfo:function(){var t=this;return _()(m.a.mark(function e(){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.api.getBusinessInfo({id:t.refund.id});case 2:200==(a=e.sent).code&&(t.refund=a.data);case 4:case"end":return e.stop()}},e,t)}))()},cancelRefund:function(){this.$router.push({name:"addProject",params:this.$route.params})}}},Q={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"payRecord"},[a("div",{staticClass:"title"},[t._v("退款信息")]),t._v(" "),a("div",{staticClass:"box"},[a("el-form",{staticClass:"table",model:{value:t.refund,callback:function(e){t.refund=e},expression:"refund"}},[a("el-form-item",{staticClass:"input1",attrs:{label:"退款金额（￥）"}},[a("div",{staticClass:"border"},[t._v(t._s(t.refund.price))])]),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"付款银行"}},[a("div",{staticClass:"border"},[t._v(t._s(t.refund.drawee_bank))])]),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"付款银行卡号"}},[a("div",{staticClass:"border"},[t._v(t._s(t.refund.drawee_account))])]),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"付款户名"}},[a("div",{staticClass:"border"},[t._v(t._s(t.refund.drawee))])]),t._v(" "),a("el-form-item",{staticClass:"input1",attrs:{label:"付款时间"}},[a("div",{staticClass:"border"},[t._v(t._s(t.refund.create_time))])]),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"收款银行"}},[a("div",{staticClass:"border"},[t._v(t._s(t.refund.payee_bank))])]),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"收款银行卡号"}},[a("div",{staticClass:"border"},[t._v(t._s(t.refund.payee_account))])]),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"收款户名"}},[a("div",{staticClass:"border"},[t._v(t._s(t.refund.payee))])]),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"交易人"}},[a("div",{staticClass:"border"},[t._v(t._s(t.refund.create_name))])]),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"联系电话"}},[a("div",{staticClass:"border"},[t._v(t._s(t.refund.contact_phone))])]),t._v(" "),a("el-form-item",{staticClass:"input2",attrs:{label:"备注"}},[a("div",{staticClass:"border"},[t._v(t._s(t.refund.remark))])]),t._v(" "),a("div",{staticClass:"num_set"},[t._v("附件")]),t._v(" "),a("el-table",{attrs:{data:t.refund.file,border:""}},[a("el-table-column",{attrs:{label:"文件名称",prop:"file_name",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"附件",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("a",{attrs:{target:"_blank",href:"http://120.27.21.136:2798/"+e.row.url}},[t._v("查看附件")])]}}])}),t._v(" "),a("el-table-column",{attrs:{property:"create_name",label:"上传人员",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"create_time",label:"上传时间",align:"center"}})],1)],1),t._v(" "),a("div",{staticClass:"cancel",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.cancelRefund}},[t._v("关 闭")])],1)],1)])},staticRenderFns:[]};var Z=a("vSla")(M,Q,!1,function(t){a("BWN0")},"data-v-1dd871ff",null).exports,N={data:function(){return{rules:{remark:[{required:!0,message:"请输入离职原因",change:"change"}]},searchObj:{name:""},tableData:[],dialogFormVisible:!1,showInfo:!1,examinePeople:{name:"",role:"",account:"",department:"",position:"",img_url:"",entry_time:"",project_name:"",sex:"",tel:"",birth:"",tabsolute_addressel:"",slef_desc:"",bank_card:"",bank_name:"",card_url:"",id_card:""},form:{id:null,remark:""}}},mounted:function(){this.search()},methods:{getRole:function(t){return 1==t?"经纪人":2==t?"对接人":void 0},sumbit:function(){var t=this;return _()(m.a.mark(function e(){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.$refs.form.validate(function(){var e=_()(m.a.mark(function e(a){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=7;break}return e.next=3,t.api.quitPeople(t.form);case 3:200==e.sent.code&&(t.$message({type:"success",message:"离职成功"}),t.search(),t.cancel()),e.next=9;break;case 7:return t.cancel(),e.abrupt("return",!1);case 9:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}},e,t)}))()},showSee:function(t){var e=this;return _()(m.a.mark(function a(){var r;return m.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e.showInfo=!0,F()(e.examinePeople,t),e.examinePeople.agent_id=t.agent_id,a.next=5,e.api.getPayrollInfo(e.examinePeople);case 5:200==(r=a.sent).code&&(e.examinePeople=r.data);case 7:case"end":return a.stop()}},a,e)}))()},role:function(t){return 1==t?"新房经纪人":2==t?"项目对接人":void 0},sex:function(t){return 1==t?"男":2==t?"女":0==t?"未设置":void 0},showQuit:function(t){this.form.id=t.id,this.dialogFormVisible=!0},showCancel:function(){this.showInfo=!1},cancel:function(){F()(this.form,this.$options.data().form),this.dialogFormVisible=!1},search:function(){var t=this;return _()(m.a.mark(function e(){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.api.getPayrollList(t.searchObj);case 2:((a=e.sent).code=200)&&(t.tableData=a.data.data);case 4:case"end":return e.stop()}},e,t)}))()}}},H={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"agent"},[r("div",{staticClass:"title"},[r("div",{staticClass:"left"},[r("div",{staticClass:"text1"},[t._v("当前位置：在职经纪人")]),t._v(" "),r("div",{staticClass:"search-block"},[r("el-input",{staticClass:"query",model:{value:t.searchObj.name,callback:function(e){t.$set(t.searchObj,"name",e)},expression:"searchObj.name"}}),t._v(" "),r("el-button",{attrs:{icon:"el-icon-search",circle:""},on:{click:t.search}})],1)])]),t._v(" "),[r("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[r("el-table-column",{attrs:{prop:"",label:"序号",align:"center",width:"80px"}}),t._v(" "),r("el-table-column",{attrs:{prop:"account",label:"云算号",align:"center",width:"110px"}}),t._v(" "),r("el-table-column",{attrs:{prop:"name",label:"名称",align:"center"}}),t._v(" "),r("el-table-column",{attrs:{prop:"tel",label:"联系方式",align:"center"}}),t._v(" "),r("el-table-column",{attrs:{prop:"project_name",label:"申请项目",align:"center"}}),t._v(" "),r("el-table-column",{attrs:{prop:"role",label:"角色",align:"center",width:"100px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.getRole(e.row.role)))]}}])}),t._v(" "),r("el-table-column",{attrs:{prop:"department",label:"所属部门",align:"center",width:"100px"}}),t._v(" "),r("el-table-column",{attrs:{prop:"position",label:"职位",align:"center"}}),t._v(" "),r("el-table-column",{attrs:{prop:"city_name",label:"城市",align:"center",width:"100px"}}),t._v(" "),r("el-table-column",{attrs:{prop:"district_name",label:"区域",align:"center",width:"100px"}}),t._v(" "),r("el-table-column",{attrs:{prop:"entry_time",label:"入职时间",align:"center"}}),t._v(" "),r("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-button",{attrs:{type:"text"},on:{click:function(a){t.showQuit(e.row)}}},[t._v("离职")]),t._v(" "),r("el-button",{attrs:{type:"text"},on:{click:function(a){t.showSee(e.row)}}},[t._v("查看")])]}}])})],1)],t._v(" "),r("el-dialog",{staticClass:"dialog",attrs:{title:"离职申请",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e},close:t.cancel}},[r("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules}},[r("el-form-item",{attrs:{label:"离职原因",prop:"remark"}},[r("el-input",{staticClass:"textarea",attrs:{type:"textarea"},model:{value:t.form.remark,callback:function(e){t.$set(t.form,"remark",e)},expression:"form.remark"}})],1)],1),t._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:t.cancel}},[t._v("取 消")]),t._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:t.sumbit}},[t._v("确 定")])],1)],1),t._v(" "),r("el-dialog",{staticClass:"dialog",attrs:{title:"查看详情",visible:t.showInfo},on:{"update:visible":function(e){t.showInfo=e}}},[r("div",{staticClass:"btn"},[r("el-button",{attrs:{type:"primary"},on:{click:t.showCancel}},[t._v("关闭")])],1),t._v(" "),r("div",{staticClass:"num_set"},[t._v("员工信息")]),t._v(" "),r("el-form",{model:{value:t.examinePeople,callback:function(e){t.examinePeople=e},expression:"examinePeople"}},[r("el-form-item",{staticClass:"input1"},[r("div",[t._v("姓名")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.name))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("角色")]),t._v(" "),r("div",{staticClass:"border"},[t._v("\n          "+t._s(t.role(t.examinePeople.role))+"\n        ")])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("云算号")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.account))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("所属部门")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.department))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("职位")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.position))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("工牌照片")]),t._v(" "),r("div",{staticClass:"border  img"},[r("img",{attrs:{src:a("QKcC")}})])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("入职时间")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.entry_time))])]),t._v(" "),r("div",{staticClass:"num_set"},[t._v("基础信息")]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("性别")]),t._v(" "),r("div",{staticClass:"border"},[t._v("\n          "+t._s(t.sex(t.examinePeople.sex))+"\n        ")])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("电话号码")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.tel))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("出生年月")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.birth))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("通讯地址")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.city_name+t.examinePeople.district_name+t.examinePeople.absolute_address))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("身份证")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.id_card))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("证件照片")]),t._v(" "),r("div",{staticClass:"border  img"},[r("img",{attrs:{src:a("7VeV")}})])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("绑定银行")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.bank_name))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("银行卡号")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.bank_card))])]),t._v(" "),r("el-form-item",{staticClass:"input2"},[r("div",[t._v("个人介绍")]),t._v(" "),r("div",{staticClass:"border height"},[t._v(t._s(t.examinePeople.slef_desc))])])],1)],1)],2)},staticRenderFns:[]};var Y=a("vSla")(N,H,!1,function(t){a("Qb6X"),a("wJu+")},"data-v-4a7a693a",null).exports,G={data:function(){return{tableData:[],companyType:0,personType:0}},mounted:function(){this.getProjectCommissionList()},methods:{companyPrice:function(t,e){0==e?this.$router.push({name:"companyPrice",params:{companyType:e,project_id:t.project_id}}):1==e?this.$router.push({name:"companyPrice",params:{companyType:e,project_id:t.project_id}}):2==e&&this.$router.push({name:"companyPrice",params:{companyType:e,project_id:t.project_id}})},personPrice:function(t,e){},getProjectCommissionList:function(){var t=this;return _()(m.a.mark(function e(){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.api.getProjectCommissionList();case 2:200==(a=e.sent).code&&(t.tableData=a.data.data);case 4:case"end":return e.stop()}},e,t)}))()}}},J={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"commission"},[a("div",{staticClass:"title"},[a("span"),t._v(" "),t._m(0),t._v(" "),a("div",[a("el-input",{staticClass:"query"}),t._v(" "),a("el-button",{attrs:{icon:"el-icon-search",circle:""}})],1)]),t._v(" "),[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{prop:"",label:"序号",align:"center",width:"70px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"project_name",label:"项目名称",align:"center",width:"130px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"company_name",label:"所属单位",align:"center",width:"110px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"city_name",label:"区域",align:"center",width:"80px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"project_hold_name",label:"项目负责人",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"project_hold_phone",label:"联系方式",align:"center",width:"110px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"all_all_price",label:"全部累计金额",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"all_y_price",label:"全部已结金额",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"all_n_price",label:"全部未结金额",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"company_all_price",label:"公司累计金额",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.companyPrice(e.row,0)}}},[t._v(t._s(e.row.company_all_price))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"company_y_price",label:"公司已结金额",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.companyPrice(e.row,1)}}},[t._v(t._s(e.row.company_y_price))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"company_n_price",label:"公司未结金额",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.companyPrice(e.row,2)}}},[t._v(t._s(e.row.company_n_price))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"person_all_price",label:"全民经纪人累计金额",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.personPrice(e.row,0)}}},[t._v(t._s(e.row.person_all_price))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"person_y_price",label:"全民经纪人已结金额",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.personPrice(e.row,1)}}},[t._v(t._s(e.row.person_y_price))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"person_n_price",label:"全民经纪人未结金额",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.personPrice(e.row,2)}}},[t._v(t._s(e.row.person_n_price))])]}}])})],1)]],2)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"left"},[e("div",{staticClass:"text1"},[this._v("当前位置：佣金管理")])])}]};var W=a("vSla")(G,J,!1,function(t){a("eA5Z"),a("WpJ6")},"data-v-942ddee6",null).exports,K={data:function(){return{tableData:[],searchObj:{search:""},companyType:0,project_id:""}},mounted:function(){this.companyType=this.$route.params.companyType,this.project_id=this.$route.params.project_id,this.project_id?this.getCompanyAll():this.$router.push({name:"commission"})},methods:{getCompanyAll:function(){var t=this;return _()(m.a.mark(function e(){var a,r;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!=t.companyType){e.next=7;break}return e.next=3,t.api.getCompanyAll({project_id:t.project_id,search:t.searchObj.search});case 3:200==(a=e.sent).code&&(t.tableData=a.data.data),e.next=12;break;case 7:if(1!=t.companyType){e.next=12;break}return e.next=10,t.api.getCompanyY({project_id:t.project_id});case 10:200==(r=e.sent).code&&(t.tableData=r.data.data);case 12:case"end":return e.stop()}},e,t)}))()},cancel:function(){this.$router.push({name:"commission"})},showAdd:function(t){var e=this;return _()(m.a.mark(function a(){return m.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:e.$router.push({name:"companyPriceInfo",params:{project_id:t.project_id,company_rule_id:t.company_rule_id,companyType:e.companyType}});case 1:case"end":return a.stop()}},a,e)}))()}}},X={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"companyType"},[a("div",{staticClass:"table"},[a("div",{staticClass:"title"},[a("span",{staticClass:"title-text"},[t._v("公司累计列表")]),t._v(" "),a("el-input",{staticClass:"query",attrs:{placeholder:"可查询项目名称"},model:{value:t.searchObj.search,callback:function(e){t.$set(t.searchObj,"search",e)},expression:"searchObj.search"}}),t._v(" "),a("el-button",{attrs:{icon:"el-icon-search",circle:""},on:{click:t.getCompanyAll}}),t._v(" "),a("el-button",{staticClass:"pos-btn",attrs:{type:"primary"},on:{click:t.cancel}},[t._v("关闭")])],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{prop:"",label:"序号",align:"center",width:"70px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"company_name",label:"公司名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"absolute_address",label:"公司地址",align:"center",width:"280px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"project_hold_name",label:"负责人",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"project_hold_phone",label:"联系电话",align:"center",width:"110px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"begin_time",label:"开始执行时间",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"end_time",label:"截至执行时间",align:"center"}}),t._v(" "),0==t.companyType?a("el-table-column",{attrs:{prop:"price",label:"累计金额",align:"center"}}):t._e(),t._v(" "),1==t.companyType?a("el-table-column",{attrs:{prop:"price",label:"已结金额",align:"center"}}):t._e(),t._v(" "),2==t.companyType?a("el-table-column",{attrs:{prop:"price",label:"未结金额",align:"center"}}):t._e(),t._v(" "),a("el-table-column",{attrs:{property:"operation",label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.showAdd(e.row)}}},[t._v("查看")])]}}])})],1)],1)])},staticRenderFns:[]};var z=a("vSla")(K,X,!1,function(t){a("5nan"),a("q8eZ")},"data-v-0555e980",null).exports,tt={render:function(){var t=this.$createElement;return(this._self._c||t)("div",[this._v("12412")])},staticRenderFns:[]};var et=a("vSla")({data:function(){return{}}},tt,!1,function(t){a("ybhN")},"data-v-a0bcff9a",null).exports,at={data:function(){return{tableData:[],project_id:"",company_rule_id:"",searchObj:{search:""},sumbitForm:{total_price:"",count:""}}},mounted:function(){this.project_id=this.$route.params.project_id,this.project_id?(this.company_rule_id=this.$route.params.company_rule_id,this.getCompanyAllInfo()):this.$router.push({name:"companyPrice"})},methods:{getCompanyAllInfo:function(){var t=this;return _()(m.a.mark(function e(){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.api.getCompanyAllInfo({project_id:t.project_id,company_rule_id:t.company_rule_id,search:t.searchObj.search});case 2:200==(a=e.sent).code&&(t.tableData=a.data.data,t.sumbitForm.total_price=a.data.data.total_price,t.sumbitForm.count=a.data.data.count);case 4:case"end":return e.stop()}},e,t)}))()},cancel:function(){this.$router.push({name:"companyPrice",params:this.$route.params})},brokerType:function(t){return 1==t?"成交":2==t?"到访":3==t?"推荐":void 0},state:function(t){return 1==t?"已经付款":2==t?"未付款":0==t?"付款失败":void 0}}},rt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"companyPriceInfo"},[a("div",{staticClass:"table"},[a("div",{staticClass:"title"},[a("span",{staticClass:"title-text"},[t._v("链家公司累计列表")]),t._v(" "),a("el-input",{staticClass:"query",attrs:{placeholder:"可查询推荐编号/经纪人名称"},model:{value:t.searchObj.search,callback:function(e){t.$set(t.searchObj,"search",e)},expression:"searchObj.search"}}),t._v(" "),a("el-button",{attrs:{icon:"el-icon-search",circle:""},on:{click:t.getCompanyAllInfo}}),t._v(" "),a("el-button",{staticClass:"pos-btn",attrs:{type:"primary"},on:{click:t.cancel}},[t._v("关闭")])],1),t._v(" "),a("div",{staticClass:"text"},[a("span",{staticClass:"price"},[t._v("累计金额:"+t._s(t.sumbitForm.total_price))]),t._v(" "),a("span",{staticClass:"price"},[t._v("累计笔数:"+t._s(t.sumbitForm.count)+"笔")])]),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{prop:"",label:"序号",align:"center",width:"70px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"client_id",label:"推荐编号",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"project_name",label:"项目名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"house_info",label:"房间号",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"经纪人名称",align:"center",width:"110px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"tel",label:"联系电话",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"broker_type",label:"佣金类型",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.brokerType(e.row.broker_type)))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"时间",align:"center",width:"160px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"broker_num",label:"佣金金额",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"commission_way",label:"计算规则",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"pay_state",label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.state(e.row.pay_state)))]}}])})],1)],1)])},staticRenderFns:[]};var nt=a("vSla")(at,rt,!1,function(t){a("+k6/"),a("Ha3/")},"data-v-00d178a5",null).exports,it={data:function(){return{tableData:[],project_id:"",searchObj:{serach:""}}},mounted:function(){this.getDistributionList()},methods:{see:function(t){this.$router.push({name:"maidInfo",params:{project_id:t.project_id}})},commissionApply:function(t){this.$router.push({name:"commissionApply",params:{project_id:t.project_id,rule_id:t.rule_id}})},getDistributionList:function(){var t=this;return _()(m.a.mark(function e(){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.api.getDistributionList(t.searchObj);case 2:200==(a=e.sent).code&&(t.tableData=a.data.data);case 4:case"end":return e.stop()}},e,t)}))()},state:function(t){return 1==t?"申请佣金":2==t?"查看佣金详情 ":3==t?"申请付款":4==t?"重新申请付款":void 0}}},ot={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"distri_commission"},[a("div",{staticClass:"title"},[t._m(0),t._v(" "),a("el-input",{staticClass:"query",model:{value:t.searchObj.search,callback:function(e){t.$set(t.searchObj,"search",e)},expression:"searchObj.search"}}),t._v(" "),a("el-button",{attrs:{icon:"el-icon-search",circle:""},on:{click:t.getDistributionList}})],1),t._v(" "),[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{label:"序号",align:"center",width:"70px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"project_name",label:"项目名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"developer_name",label:"房产商",align:"center",width:"140px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"city",label:"区域",align:"center",width:"80px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"project_hold_name",label:"项目负责人",align:"center",width:"100px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"project_hold_phone",label:"联系方式",align:"center",width:"110px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"all_price",label:"累计金额",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"y_price",label:"已结金额",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"chargebacks_price",label:"扣款金额",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"n_price",label:"未结金额",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"notice",label:"是否可申请退款",align:"center",width:"140px"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"180px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.commissionApply(e.row)}}},[t._v("佣金申请")]),t._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){t.see(e.row)}}},[t._v("查看佣金记录")])]}}])})],1)]],2)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"left"},[e("div",{staticClass:"text1"},[this._v("当前位置：分销佣金管理")])])}]};var st=a("vSla")(it,ot,!1,function(t){a("xAq9"),a("re0G")},"data-v-18abb961",null).exports,lt={data:function(){return{tableData:[],tableDataS:[],batch_id:"",operationType:0}},mounted:function(){this.project_id=this.$route.params.project_id,this.operationType=this.$route.params.operationType,void 0!==this.project_id?this.seeCommissionList():this.$router.push({name:"distri_commission"})},methods:{requestPayment:function(t){var e=this;return _()(m.a.mark(function a(){return m.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:e.$router.push({name:"requestPayment",params:{project_id:e.project_id,batch_id:t.batch_id,state:t.state,batch_name:t.batch_name}});case 1:case"end":return a.stop()}},a,e)}))()},seeCommissionList:function(t){var e=this;return _()(m.a.mark(function t(){var a;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.api.seeCommissionList({project_id:e.project_id});case 2:200==(a=t.sent).code&&(e.tableData=a.data.broker.data,e.tableDataS=a.data.price.data);case 4:case"end":return t.stop()}},t,e)}))()},see:function(t,e){var a=this;return _()(m.a.mark(function r(){return m.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:console.log(t),a.$router.push({name:"updateCommission",params:{project_id:a.project_id,batch_id:t.batch_id,state:t.state,operationType:e}});case 2:case"end":return r.stop()}},r,a)}))()},seePayment:function(t,e){var a=this;return _()(m.a.mark(function t(){return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t,a)}))()},remove:function(t){var e=this;this.$confirm("此操作将删除结佣申请, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(_()(m.a.mark(function a(){var r;return m.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return(r={}).batch_id=t.batch_id,r.state=t.state,a.next=5,e.api.delBroker(r);case 5:200==a.sent.code&&(e.$message({type:"success",message:"删除成功!"}),e.seeCommissionList());case 7:case"end":return a.stop()}},a,e)}))).catch(function(){e.$message({type:"info",message:"已取消删除结佣申请"})})},examineState:function(t){return 0==t?"拒绝":1==t?"通过":2==t?"待审核":void 0},state:function(t){return 0==t?"拒绝":1==t?"通过 ":2==t?"待审核":3==t?"待提交":void 0},cancel:function(){this.$router.push({name:"distri_commission"})}}},ct={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"maidInfo"},[a("div",{staticClass:"table"},[a("div",{staticClass:"title"},[a("div",{staticClass:"title-text"},[t._v("结佣申请列表")]),t._v(" "),a("el-button",{staticClass:"pos-btn",attrs:{type:"primary"},on:{click:t.cancel}},[t._v("关闭")])],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{prop:"batch_name",label:"申请名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"broker_num",label:"申请金额 (￥)",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"count_num",label:"申请笔数",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"create_name",label:"申请人员",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"申请时间",align:"center",width:"160px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"auditing_name",label:"审核人员",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"auditing_time",label:"审核时间",align:"center",width:"160px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"state",label:"申请状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.state(e.row.state)))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"220px"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.state?a("el-button",{attrs:{type:"text"},on:{click:function(a){t.requestPayment(e.row)}}},[t._v("付款申请")]):t._e(),t._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){t.see(e.row,0)}}},[t._v("查看")]),t._v(" "),3==e.row.state?a("el-button",{attrs:{type:"text"},on:{click:function(a){t.see(e.row,1)}}},[t._v("修改")]):t._e(),t._v(" "),0==e.row.state||3==e.row.state?a("el-button",{attrs:{type:"text"},on:{click:function(a){t.remove(e.row)}}},[t._v("删除")]):t._e()]}}])})],1),t._v(" "),a("div",{staticClass:"title-text"},[t._v("付款申请列表")]),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableDataS,border:""}},[a("el-table-column",{attrs:{prop:"batch_name",label:"申请名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"broker_num",label:"申请金额 (￥)",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"count_num",label:"申请笔数",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"create_name",label:"申请人员",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"申请时间",align:"center",width:"160px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"chargebacks_price",label:"扣款金额",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"check_time",label:"审核时间",align:"center",width:"160px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"check_name",label:"审核人员",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"examine_state",label:"审核状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.examineState(e.row.examine_state)))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"140px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.seePayment(e.row,2)}}},[t._v("查看")]),t._v(" "),0==e.row.examine_state?a("el-button",{attrs:{type:"text"}},[t._v("重新申请")]):t._e()]}}])})],1)],1)])},staticRenderFns:[]};var pt=a("vSla")(lt,ct,!1,function(t){a("4qHX")},"data-v-5fc32853",null).exports,ut={data:function(){return{tableData:[],sumbitForm:{batch_name:"",nail_name:"",nail_tel:"",second_name:"",second_tel:"",broker_id:[],state:3,count_num:""},no_price:0,rule_id:"",project_id:"",operationType:0}},mounted:function(){this.project_id=this.$route.params.project_id,this.operationType=this.$route.params.operationType,this.project_id?(this.rule_id=this.$route.params.rule_id,this.getBrokerApply()):this.$router.push({name:"distri_commission"})},methods:{sumbit:function(t){var e=this;return _()(m.a.mark(function a(){var r;return m.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return(r=F()({},e.sumbitForm)).project_id=e.project_id,r.state=t,a.next=5,e.api.brokerApply(r);case 5:200==a.sent.code&&e.$router.push({name:"distri_commission"});case 7:case"end":return a.stop()}},a,e)}))()},getBrokerApply:function(){var t=this;return _()(m.a.mark(function e(){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.api.getBrokerApply({project_id:t.project_id,rule_id:t.rule_id});case 2:200==(a=e.sent).code&&(t.tableData=a.data);case 4:case"end":return e.stop()}},e,t)}))()},type:function(t){return 1==t?"成交":2==t?"到访":3==t?"推荐":void 0},cancel:function(){this.$router.push({name:"distri_commission"})},handleSelectionChange:function(t){var e=[],a=0,r=!0,n=!1,i=void 0;try{for(var o,s=C()(t);!(r=(o=s.next()).done);r=!0){var l=o.value;a+=l.broker_num,e.push(l.broker_id)}}catch(t){n=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(n)throw i}}this.sumbitForm.broker_id=e.join(","),this.sumbitForm.count_num=e.length,this.no_price=a}}},mt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"maidInfo"},[a("div",{staticClass:"table"},[a("div",{staticClass:"title"},[a("div",{staticClass:"title-text"},[t._v("申请信息")]),t._v(" "),a("el-button",{staticClass:"pos-btn-1",attrs:{type:"primary"},on:{click:function(e){t.sumbit(2)}}},[t._v("提交")]),t._v(" "),a("el-button",{staticClass:"pos-btn-2",attrs:{type:"primary"},on:{click:function(e){t.sumbit(3)}}},[t._v("保存")]),t._v(" "),a("el-button",{staticClass:"pos-btn",attrs:{type:"primary"},on:{click:t.cancel}},[t._v("关闭")])],1),t._v(" "),a("el-form",{staticClass:"form",model:{value:t.sumbitForm,callback:function(e){t.sumbitForm=e},expression:"sumbitForm"}},[a("el-form-item",{staticClass:"row",attrs:{label:"申请名称"}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off"},model:{value:t.sumbitForm.batch_name,callback:function(e){t.$set(t.sumbitForm,"batch_name",e)},expression:"sumbitForm.batch_name"}})],1),t._v(" "),a("el-form-item",{staticClass:"row",attrs:{label:"申请笔数"}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off"},model:{value:t.sumbitForm.count_num,callback:function(e){t.$set(t.sumbitForm,"count_num",e)},expression:"sumbitForm.count_num"}})],1),t._v(" "),a("el-form-item",{staticClass:"row",attrs:{label:"佣金金额（￥）："}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off"},model:{value:t.no_price,callback:function(e){t.no_price=e},expression:"no_price"}})],1),t._v(" "),a("el-form-item",{staticClass:"row",attrs:{label:"甲方联系人"}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off"},model:{value:t.sumbitForm.nail_name,callback:function(e){t.$set(t.sumbitForm,"nail_name",e)},expression:"sumbitForm.nail_name"}})],1),t._v(" "),a("el-form-item",{staticClass:"row",attrs:{label:"甲方联系电话"}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off"},model:{value:t.sumbitForm.nail_tel,callback:function(e){t.$set(t.sumbitForm,"nail_tel",e)},expression:"sumbitForm.nail_tel"}})],1),t._v(" "),a("el-form-item",{staticClass:"row",attrs:{label:"乙方联系人"}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off"},model:{value:t.sumbitForm.second_name,callback:function(e){t.$set(t.sumbitForm,"second_name",e)},expression:"sumbitForm.second_name"}})],1),t._v(" "),a("el-form-item",{staticClass:"row",attrs:{label:"乙方联系电话"}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off"},model:{value:t.sumbitForm.second_tel,callback:function(e){t.$set(t.sumbitForm,"second_tel",e)},expression:"sumbitForm.second_tel"}})],1)],1),t._v(" "),a("div",{staticClass:"title-text"},[t._v("申请结佣列表")]),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"client_id",label:"推荐编号",align:"center",width:"120px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"经纪人名称",align:"center",width:"180px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"tel",label:"联系电话",align:"center",width:"180px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"broker_type",label:"佣金类型",align:"center",width:"180px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.type(e.row.broker_type)))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"时间",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"broker_num",label:"佣金金额",align:"center",width:"160px"}})],1)],1)])},staticRenderFns:[]};var dt=a("vSla")(ut,mt,!1,function(t){a("ZUTU"),a("ZW9U")},"data-v-577ab4d4",null).exports,_t={data:function(){return{tableData:[],operationType:0,submitForm:{},batch_id:"",state:"",batch_name:"",nail_name:"",nail_tel:"",second_name:"",second_tel:"",no_price:0,searchObj:{search:""}}},mounted:function(){this.operationType=this.$route.params.operationType,this.state=this.$route.params.state,this.batch_id=this.$route.params.batch_id,void 0!==this.batch_id?this.updateBroker():this.$router.push({name:"distri_commission"})},methods:{showAdd:function(t){},sumbit:function(t){var e=this;return _()(m.a.mark(function a(){var r;return m.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return(r={}).state=t,r.batch_id=e.submitForm.batch_id,r.batch_name=e.submitForm.batch_name,r.nail_name=e.submitForm.nail_name,r.nail_tel=e.submitForm.nail_tel,r.second_name=e.submitForm.second_name,r.second_tel=e.submitForm.second_tel,a.next=10,e.api.updateBrokerSumbit(r);case 10:a.sent.code,e.$router.push({name:"distri_commission"});case 13:case"end":return a.stop()}},a,e)}))()},updateBroker:function(){var t=this;return _()(m.a.mark(function e(){var a,r;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((a=F()({},t.submitForm)).batch_id=t.batch_id,a.state=t.state,r={},1!=t.operationType){e.next=10;break}return e.next=7,t.api.updateBroker(a);case 7:r=e.sent,e.next=13;break;case 10:return e.next=12,t.api.getBrokerInfo(a);case 12:r=e.sent;case 13:200==r.code&&(t.tableData=r.data.brokerList,t.$nextTick(function(){var e=!0,a=!1,r=void 0;try{for(var n,i=C()(t.tableData);!(e=(n=i.next()).done);e=!0){var o=n.value;t.$refs.multipleTable.toggleRowSelection(o)}}catch(t){a=!0,r=t}finally{try{!e&&i.return&&i.return()}finally{if(a)throw r}}}),t.submitForm=r.data.brokerInfo[0]);case 14:case"end":return e.stop()}},e,t)}))()},handleSelectionChange:function(t){var e=[],a=0,r=!0,n=!1,i=void 0;try{for(var o,s=C()(t);!(r=(o=s.next()).done);r=!0){var l=o.value;a+=l.broker_num,e.push(l.broker_id)}}catch(t){n=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(n)throw i}}this.submitForm.broker_id=e.join(","),this.submitForm.count_num=e.length,this.no_price=a},type:function(t){return 1==t?"成交":2==t?"到访":3==t?"推荐":void 0},cancel:function(){this.$router.push({name:"maidInfo",params:this.$route.params})}}},vt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"updateCommission"},[a("div",{staticClass:"table"},[a("div",{staticClass:"title"},[a("div",{staticClass:"title-text"},[t._v("申请信息")]),t._v(" "),1==t.operationType?a("el-button",{staticClass:"pos-btn-1",attrs:{type:"primary"},on:{click:function(e){t.sumbit(2)}}},[t._v("提交")]):t._e(),t._v(" "),a("el-button",{staticClass:"pos-btn",attrs:{type:"primary"},on:{click:t.cancel}},[t._v("关闭")])],1),t._v(" "),a("el-form",{staticClass:"form",attrs:{disabled:0==t.operationType},model:{value:t.submitForm,callback:function(e){t.submitForm=e},expression:"submitForm"}},[a("el-form-item",{staticClass:"row",attrs:{label:"申请名称"}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off"},model:{value:t.submitForm.batch_name,callback:function(e){t.$set(t.submitForm,"batch_name",e)},expression:"submitForm.batch_name"}})],1),t._v(" "),a("el-form-item",{staticClass:"row",attrs:{label:"申请笔数"}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off"},model:{value:t.submitForm.count_num,callback:function(e){t.$set(t.submitForm,"count_num",e)},expression:"submitForm.count_num"}})],1),t._v(" "),a("el-form-item",{staticClass:"row",attrs:{label:"申请时间"}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off"},model:{value:t.submitForm.create_time,callback:function(e){t.$set(t.submitForm,"create_time",e)},expression:"submitForm.create_time"}})],1),t._v(" "),a("el-form-item",{staticClass:"row",attrs:{label:"佣金金额（￥）："}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off"},model:{value:t.no_price,callback:function(e){t.no_price=e},expression:"no_price"}})],1),t._v(" "),a("el-form-item",{staticClass:"row",attrs:{label:"甲方联系人"}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off"},model:{value:t.submitForm.nail_name,callback:function(e){t.$set(t.submitForm,"nail_name",e)},expression:"submitForm.nail_name"}})],1),t._v(" "),a("el-form-item",{staticClass:"row",attrs:{label:"甲方联系电话"}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off"},model:{value:t.submitForm.nail_tel,callback:function(e){t.$set(t.submitForm,"nail_tel",e)},expression:"submitForm.nail_tel"}})],1),t._v(" "),a("el-form-item",{staticClass:"row",attrs:{label:"乙方联系人"}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off"},model:{value:t.submitForm.second_name,callback:function(e){t.$set(t.submitForm,"second_name",e)},expression:"submitForm.second_name"}})],1),t._v(" "),a("el-form-item",{staticClass:"row",attrs:{label:"乙方联系电话"}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off"},model:{value:t.submitForm.second_tel,callback:function(e){t.$set(t.submitForm,"second_tel",e)},expression:"submitForm.second_tel"}})],1)],1),t._v(" "),a("div",{staticClass:"title-text"},[t._v("申请结佣列表\n      "),1==t.operationType?a("el-button",{staticClass:"add",attrs:{type:"primary"},on:{click:function(e){t.showAdd(t.scope.row)}}},[t._v("添加")]):t._e()],1),t._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""},on:{"selection-change":t.handleSelectionChange}},[1==t.operationType?a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}):t._e(),t._v(" "),a("el-table-column",{attrs:{prop:"client_id",label:"推荐编号",align:"center",width:"120px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"经纪人名称",align:"center",width:"180px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"tel",label:"联系电话",align:"center",width:"180px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"broker_type",label:"佣金类型",align:"center",width:"180px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.type(e.row.broker_type)))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"时间",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"broker_num",label:"佣金金额",align:"center",width:"160px"}})],1)],1)])},staticRenderFns:[]};var ft=a("vSla")(_t,vt,!1,function(t){a("YAG7"),a("7UQw")},"data-v-4b672d08",null).exports,bt={data:function(){return{submitForm:{batch_name:"",recive_bank:"",recive_bank_card:"",recive_name:"",broker_num:"",name:"",create_time:"",broker_type:""},batch_id:"",state:"",project_id:"",bankOptions:[]}},mounted:function(){this.submitForm.batch_name=this.$route.params.batch_name,this.batch_id=this.$route.params.batch_id,this.project_id=this.$route.params.project_id,this.state=this.$route.params.state,void 0!==this.batch_id?(this.getPriceApply(),this.getBankOptions()):this.$router.push({name:"distri_commission"})},methods:{getBankOptions:function(t){var e=this;return _()(m.a.mark(function a(){var r;return m.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.api.getBack({param_id:t});case 2:200==(r=a.sent).code&&(e.bankOptions=r.data);case 4:case"end":return a.stop()}},a,e)}))()},sumbit:function(){var t=this;return _()(m.a.mark(function e(){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(a={}).project_id=t.project_id,a.batch_id=t.batch_id,a.recive_bank=t.submitForm.recive_bank,a.recive_bank_card=t.submitForm.recive_bank_card,a.recive_name=t.submitForm.recive_name,e.next=8,t.api.priceApplySumbit(a);case 8:200==e.sent.code&&t.$router.push({name:"distri_commission"});case 10:case"end":return e.stop()}},e,t)}))()},getPriceApply:function(){var t=this;return _()(m.a.mark(function e(){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.api.getPriceApply({batch_id:t.batch_id,state:t.state});case 2:200==(a=e.sent).code&&F()(t.submitForm,a.data[0]);case 4:case"end":return e.stop()}},e,t)}))()},type:function(t){return 1==t?"成交":2==t?"到访":3==t?"推荐":void 0},cancel:function(){this.$router.push({name:"maidInfo",params:this.$route.params})}}},ht={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"paymentRequest"},[a("div",{staticClass:"table"},[a("div",{staticClass:"text"},[t._v("付款申请信息")]),t._v(" "),a("div",{staticClass:"btn"},[a("el-button",{attrs:{type:"primary"},on:{click:t.sumbit}},[t._v("提交")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.cancel}},[t._v("关闭")])],1),t._v(" "),a("el-form",{staticClass:"form",model:{value:t.submitForm,callback:function(e){t.submitForm=e},expression:"submitForm"}},[a("el-form-item",{staticClass:"row",attrs:{label:"申请付款批次名称"}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off",placeholder:"请输入申请付款批次名称"},model:{value:t.submitForm.batch_name,callback:function(e){t.$set(t.submitForm,"batch_name",e)},expression:"submitForm.batch_name"}})],1),t._v(" "),a("el-form-item",{staticClass:"row",attrs:{label:"收款银行",prop:"payee_bank"}},[a("el-select",{attrs:{placeholder:"请选择收款银行"},on:{change:t.getBankOptions},model:{value:t.submitForm.recive_bank,callback:function(e){t.$set(t.submitForm,"recive_bank",e)},expression:"submitForm.recive_bank"}},t._l(t.bankOptions,function(t){return a("el-option",{key:t.param_id,attrs:{label:t.param,value:t.param}})}))],1),t._v(" "),a("el-form-item",{staticClass:"row",attrs:{label:"收款银行卡号："}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off",placeholder:"请输入收款银行卡号"},model:{value:t.submitForm.recive_bank_card,callback:function(e){t.$set(t.submitForm,"recive_bank_card",e)},expression:"submitForm.recive_bank_card"}})],1),t._v(" "),a("el-form-item",{staticClass:"row",attrs:{label:"收款户名："}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off",placeholder:"请输入收款户名"},model:{value:t.submitForm.recive_name,callback:function(e){t.$set(t.submitForm,"recive_name",e)},expression:"submitForm.recive_name"}})],1),t._v(" "),a("el-form-item",{staticClass:"row",attrs:{label:"申请付款金额(￥)："}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off"},model:{value:t.submitForm.broker_num,callback:function(e){t.$set(t.submitForm,"broker_num",e)},expression:"submitForm.broker_num"}})],1),t._v(" "),a("el-form-item",{staticClass:"row",attrs:{label:"申请人员："}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off"},model:{value:t.submitForm.name,callback:function(e){t.$set(t.submitForm,"name",e)},expression:"submitForm.name"}})],1),t._v(" "),a("el-form-item",{staticClass:"row",attrs:{label:"申请时间："}},[a("el-input",{staticClass:"input",attrs:{"auto-complete":"off"},model:{value:t.submitForm.create_time,callback:function(e){t.$set(t.submitForm,"create_time",e)},expression:"submitForm.create_time"}})],1),t._v(" "),a("el-form-item",{staticClass:"row",attrs:{label:"佣金类型"}},[a("span",[t._v(t._s(t.type(t.submitForm.broker_type)))])])],1)],1)])},staticRenderFns:[]};var gt=a("vSla")(bt,ht,!1,function(t){a("qzQH")},"data-v-1b1f04dc",null).exports,yt={data:function(){return{searchObj:{tag_search:0,project_code:"",project_name:"",developer_name:"",source:""},tableData:[],project_id:"",options:[],value:"",operationType:0}},mounted:function(){this.getList()},methods:{search:function(t){this.searchObj.tag_search=t,this.getList()},getList:function(){var t=this;return _()(m.a.mark(function e(){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.api.getList(t.searchObj);case 2:200==(a=e.sent).code&&(t.tableData=a.data);case 4:case"end":return e.stop()}},e,t)}))()},startApply:function(){this.$router.push({name:"startApply"})},fastDistribution:function(t){this.$router.push({name:"fastDistribution",params:{project_id:t.project_id}})},showProject:function(t,e){0==e&&this.$router.push({name:"projectInfo",params:{operationType:e,project_id:t.project_id}})},scopeState:function(t){return 1==t?"自行申请":2==t?"项目方选择":void 0},projectState:function(t){return 0==t?"管理中":"以终止"},auditingState:function(t){return 0==t?"停用":1==t?"通过":2==t?"审核中":void 0}}},xt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"box distribution"},[a("div",{staticClass:"title"},[a("span",{staticClass:"left"},[a("div",{staticClass:"text1"},[t._v("当前位置：项目分销")]),t._v(" "),a("div",[a("el-button",{staticClass:"tip",attrs:{type:"text"},on:{click:function(e){t.search(0)}}},[t._v("全部")]),t._v(" "),a("el-button",{staticClass:"tip",attrs:{type:"text"},on:{click:function(e){t.search(1)}}},[t._v("待审核")]),t._v(" "),a("el-button",{staticClass:"tip",attrs:{type:"text"},on:{click:function(e){t.search(2)}}},[t._v("已通过")]),t._v(" "),a("el-button",{staticClass:"tip",attrs:{type:"text"},on:{click:function(e){t.search(3)}}},[t._v("已终止")]),t._v(" "),a("span",{staticClass:"btn"},[a("el-button",{attrs:{type:"primary"},on:{click:t.getList}},[t._v("高级查询")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.startApply}},[t._v("发起申请")])],1)],1)])]),t._v(" "),a("div",{staticClass:"search"}),t._v(" "),[a("el-table",{staticClass:"mt-30",staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{prop:"",label:"序号",align:"center",width:"70px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"project_code",label:"项目编号",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"project_name",label:"项目名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"end_state",label:"项目状态",align:"center",width:"90px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.projectState(e.row.end_state)))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"city",label:"区域",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"absolute_address",label:"地址",align:"center",width:"240px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"subordinate_company",label:"项目所属单位",align:"center",width:"110px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"company_relation",label:"与项目关系",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"developer_name",label:"所属单位",align:"center",width:"150px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"source",label:"来源",align:"center",width:"80px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.scopeState(e.row.source)))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"state",label:"审核状态",align:"center",width:"90px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.auditingState(e.row.state)))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"is_distribution",label:"分配状态",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"operation",label:"操作",align:"center",width:"210px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.showProject(e.row,0)}}},[t._v("查看")]),t._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){t.showProject(e.row,1)}}},[t._v("修改")]),t._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){t.fastDistribution(e.row)}}},[t._v("分配到访确认人")])]}}])})],1)]],2)},staticRenderFns:[]};var Ct=a("vSla")(yt,xt,!1,function(t){a("UO9V"),a("L2U5")},"data-v-75185ca4",null).exports,kt={data:function(){return{maintain:[],examine:[],project_id:"",id:"",agent_id:"",operationType:0}},mounted:function(){this.project_id=this.$route.params.project_id,this.project_id?this.getAgent():this.$router.push({name:"distribution"})},methods:{getAgent:function(){var t=this;return _()(m.a.mark(function e(){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.api.getAgent({project_id:t.project_id});case 2:200==(a=e.sent).code&&(t.maintain=a.data.y_info,t.examine=a.data.n_info);case 4:case"end":return e.stop()}},e,t)}))()},cancel:function(){this.$router.push({name:"distribution"})},showAdd:function(t,e){var a=this;return _()(m.a.mark(function r(){return m.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:0==t?a.$router.push({name:"addPerson",params:{operationType:t,agent_id:e.agent_id}}):1==t?a.$router.push({name:"addPerson",params:{agent_id:e.agent_id,operationType:t,project_id:e.project_id,ex_id:e.ex_id}}):2==t&&a.$router.push({name:"addPerson",params:{agent_id:e.agent_id,operationType:t}});case 1:case"end":return r.stop()}},r,a)}))()},state:function(t){return 0==t?"禁用":1==t?"正常":void 0},authenticationState:function(t){return 2==t?"待审核":0==t?"未通过 ":1==t?"审核通过 ":void 0},addShow:function(){this.$router.push({name:"addPerson",params:{project_id:this.project_id}})}}},wt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"fastDistribution"},[a("div",{staticClass:"table"},[a("div",{staticClass:"title"},[a("div",{staticClass:"text"},[t._v("到访确认人维护信息")]),t._v(" "),a("span",{staticClass:"search"},[a("el-button",{staticClass:"addBtn",attrs:{type:"primary"},on:{click:t.addShow}},[t._v("新增")]),t._v(" "),a("el-button",{staticClass:"addBtn",attrs:{type:"primary"},on:{click:t.cancel}},[t._v("关闭")])],1)]),t._v(" "),a("el-table",{attrs:{data:t.maintain,border:""}},[a("el-table-column",{attrs:{prop:"nub",label:"序号",align:"center",width:"70px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"account",label:"云算号",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"tel",label:"联系方式",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"department",label:"所属部门",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"position",label:"职位",align:"center",width:"120px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"entry_time",label:"入职时间",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"分配时间",align:"center",width:"160px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"state",label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.state(e.row.state)))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"operation",label:"操作",align:"center",width:"140px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.showAdd(0,e.row)}}},[t._v("查看")])]}}])})],1)],1),t._v(" "),a("div",{staticClass:"table"},[t._m(0),t._v(" "),a("el-table",{attrs:{data:t.examine,border:""}},[a("el-table-column",{attrs:{prop:"nub",label:"序号",align:"center",width:"70px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"account",label:"云算号",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"tel",label:"联系方式",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"department",label:"所属部门",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"position",label:"职位",align:"center",width:"120px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"entry_time",label:"申请时间",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"state",label:"审核状态",align:"center",width:"90px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.authenticationState(e.row.state)))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"operation",label:"操作",align:"center",width:"120px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.showAdd(2,e.row)}}},[t._v("查看")]),t._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){t.showAdd(1,e.row)}}},[t._v("审核")])]}}])})],1)],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title"},[e("div",{staticClass:"text"},[this._v("到访确认人审核信息")])])}]};var jt=a("vSla")(kt,wt,!1,function(t){a("pxEh")},null,null).exports,Ft={data:function(){return{submitForm:{tabsolute_addressel:"",birth:"",tel:"",sex:"",position:"",department:"",account:"",entry_time:"",name:"",project_id:"",id:"",agent_id:"",fp_name:"",fp_time:"",remark:"",ex_id:"",type:0},remark:"",refuseInfo:!1,operationType:0}},mounted:function(){this.operationType=this.$route.params.operationType,this.ex_id=this.$route.params.ex_id,this.type=this.$route.params.type,this.project_id=this.$route.params.project_id,this.id=this.$route.params.id,this.agent_id=this.$route.params.agent_id,void 0===this.$route.params.agentInfo?this.getAgentInfo():(this.agent_id=this.$route.params.agentInfo.id,this.submitForm=this.$route.params.agentInfo,this.getAgentInfo())},methods:{exAgent:function(t){var e=this;return _()(m.a.mark(function a(){var r;return m.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(e.submitForm.type=t,(r=F()({},e.submitForm)).agent_id=e.agent_id,r.ex_id=e.ex_id,r.project_id=e.project_id,r.type=t,r.remark=e.remark,0!=t){a.next=15;break}return e.refuseInfo=!0,a.next=11,e.api.exAgent(r);case 11:200==a.sent.code&&(e.close(),e.cancelRefuseInfo(),e.getAgentInfo()),a.next=16;break;case 15:e.$confirm("此操作将审核成功, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(_()(m.a.mark(function t(){return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.$message({type:"success",message:"审核成功!"}),t.next=3,e.api.exAgent(r);case 3:200==t.sent.code&&(e.close(),e.cancelRefuseInfo(),e.getAgentInfo());case 5:case"end":return t.stop()}},t,e)}))).catch(function(){e.$message({type:"info",message:"已取消审核"})});case 16:case"end":return a.stop()}},a,e)}))()},cancelRefuseInfo:function(){this.refuseInfo=!1,this.remark=""},sumbit:function(){var t=this;return _()(m.a.mark(function e(){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.submitForm.project_id=t.project_id,t.submitForm.id=t.id,t.submitForm.agent_id=t.agent_id,e.next=5,t.api.agentAdd(t.submitForm);case 5:200==e.sent.code&&t.$router.push({name:"fastDistribution",params:{submitForm:t.submitForm}});case 7:case"end":return e.stop()}},e,t)}))()},isDisable:function(){return 1!=this.operationType&&(0!=this.operationType&&2!=this.operationType)},getAgentInfo:function(){var t=this;return _()(m.a.mark(function e(){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.api.getAgentInfo({agent_id:t.agent_id});case 2:200==(a=e.sent).code&&F()(t.submitForm,a.data);case 4:case"end":return e.stop()}},e,t)}))()},sex:function(t){return 1==t?"男":2==t?"女":0==t?"未设置":void 0},choice:function(){this.$router.push({name:"choicePeople",params:{project_id:this.project_id}})},close:function(){this.$router.push({name:"fastDistribution",params:this.$route.params})}}},$t={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"addPerson"},[a("div",{staticClass:"box"},[a("span",{staticClass:"num_set"},[t._v("到访确认人信息")]),t._v(" "),a("span",{staticClass:"btn"},[1==!t.operationType?a("el-button",{attrs:{type:"primary",disabled:!t.isDisable()},on:{click:t.sumbit}},[t._v("确定")]):t._e(),t._v(" "),1==t.operationType?a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.exAgent(1)}}},[t._v("审核通过")]):t._e(),t._v(" "),1==t.operationType?a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.exAgent(0)}}},[t._v("审核不通过")]):t._e(),t._v(" "),a("el-button",{staticClass:"btn-1",on:{click:t.close}},[t._v("返回")])],1),t._v(" "),a("el-form",{model:{value:t.submitForm,callback:function(e){t.submitForm=e},expression:"submitForm"}},[a("el-form-item",{staticClass:"input1"},[a("div",[t._v("到访确认人")]),t._v(" "),a("div",{staticClass:"border"},[t._v(t._s(t.submitForm?t.submitForm.name:""))])]),t._v(" "),a("span",[a("el-button",{staticClass:"button",attrs:{type:"primary",disabled:!t.isDisable()},on:{click:t.choice}},[t._v("选择")])],1),t._v(" "),a("div",{staticClass:"num_set"},[t._v("员工信息")]),t._v(" "),a("el-form",{model:{value:t.submitForm,callback:function(e){t.submitForm=e},expression:"submitForm"}},[a("el-form-item",{staticClass:"input1"},[a("div",[t._v("姓名")]),t._v(" "),a("div",{staticClass:"border"},[t._v(t._s(t.submitForm?t.submitForm.name:""))])]),t._v(" "),a("el-form-item",{staticClass:"input1"},[a("div",[t._v("入职时间")]),t._v(" "),a("div",{staticClass:"border"},[t._v(t._s(t.submitForm?t.submitForm.entry_time:""))])]),t._v(" "),a("el-form-item",{staticClass:"input1"},[a("div",[t._v("云算号")]),t._v(" "),a("div",{staticClass:"border"},[t._v(t._s(t.submitForm?t.submitForm.account:""))])]),t._v(" "),a("el-form-item",{staticClass:"input1"},[a("div",[t._v("所属部门")]),t._v(" "),a("div",{staticClass:"border"},[t._v(t._s(t.submitForm?t.submitForm.department:""))])]),t._v(" "),a("el-form-item",{staticClass:"input1"},[a("div",[t._v("职位")]),t._v(" "),a("div",{staticClass:"border"},[t._v(t._s(t.submitForm?t.submitForm.position:""))])]),t._v(" "),a("div",{staticClass:"num_set"},[t._v("基础信息")]),t._v(" "),a("el-form-item",{staticClass:"input1"},[a("div",[t._v("性别")]),t._v(" "),a("div",{staticClass:"border"},[t._v("\n            "+t._s(t.sex(t.submitForm?t.submitForm.sex:""))+"\n          ")])]),t._v(" "),a("el-form-item",{staticClass:"input1"},[a("div",[t._v("电话号码")]),t._v(" "),a("div",{staticClass:"border"},[t._v(t._s(t.submitForm?t.submitForm.tel:""))])]),t._v(" "),a("el-form-item",{staticClass:"input1"},[a("div",[t._v("出生年月")]),t._v(" "),a("div",{staticClass:"border"},[t._v(t._s(t.submitForm?t.submitForm.birth:""))])]),t._v(" "),a("el-form-item",{staticClass:"input1"},[a("div",[t._v("通讯地址")]),t._v(" "),a("div",{staticClass:"border width"},[t._v(t._s(t.submitForm?t.submitForm.tabsolute_addressel:""))])]),t._v(" "),0==t.operationType?a("div",[a("div",{staticClass:"num_set"},[t._v("分配信息")]),t._v(" "),a("el-form-item",{staticClass:"input1"},[a("div",[t._v("分配人")]),t._v(" "),a("div",{staticClass:"border"},[t._v(t._s(t.submitForm?t.submitForm.fp_name:""))])]),t._v(" "),a("el-form-item",{staticClass:"input1"},[a("div",[t._v("分配时间")]),t._v(" "),a("div",{staticClass:"border"},[t._v(t._s(t.submitForm?t.submitForm.fp_time:""))])]),t._v(" "),a("el-form-item",{staticClass:"input1-br"},[a("div",[t._v("备注")]),t._v(" "),a("div",{staticClass:"border width-1"},[t._v(t._s(t.submitForm?t.submitForm.remark:""))])])],1):t._e()],1)],1),t._v(" "),a("el-dialog",{staticClass:"dialog",attrs:{title:"拒绝",visible:t.refuseInfo},on:{"update:visible":function(e){t.refuseInfo=e},close:t.cancelRefuseInfo}},[a("el-form",[a("el-form-item",{attrs:{label:"审核不通过原因"}},[a("el-input",{staticClass:"textarea",attrs:{type:"textarea"},model:{value:t.remark,callback:function(e){t.remark=e},expression:"remark"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.cancelRefuseInfo}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.exAgent(0)}}},[t._v("确 定")])],1)],1)],1)])},staticRenderFns:[]};var Pt=a("vSla")(Ft,$t,!1,function(t){a("FKZV")},"data-v-2652e5d8",null).exports,At={data:function(){return{agentInfo:[],project_id:"",id:""}},mounted:function(){this.project_id=this.$route.params.project_id,this.search()},methods:{search:function(){var t=this;return _()(m.a.mark(function e(){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.api.agentList();case 2:200==(a=e.sent).code&&(t.agentInfo=a.data);case 4:case"end":return e.stop()}},e,t)}))()},submit:function(t){this.$router.push({name:"addPerson",params:{agentInfo:t,id:t.id,project_id:this.project_id}})},close:function(){this.$router.push({name:"addPerson",params:this.$route.params})}}},St={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"addPerson"},[a("div",{staticClass:"box"},[a("span",{staticClass:"num_set"},[t._v("选择经纪人")]),t._v(" "),a("div",[a("el-input",{staticClass:"query",on:{click:t.search}}),t._v(" "),a("el-button",{attrs:{icon:"el-icon-search",circle:""}}),t._v(" "),a("span",{staticClass:"btn"},[a("el-button",{staticClass:"btn-1",on:{click:t.close}},[t._v("返回")])],1)],1),t._v(" "),a("el-table",{attrs:{data:t.agentInfo,border:""}},[a("el-table-column",{attrs:{property:"id",label:"序号",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"account",label:"云算号",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"name",label:"经纪人名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"phone",label:"联系电话",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"120px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.submit(e.row)}}},[t._v("选择")])]}}])})],1)],1)])},staticRenderFns:[]};var Tt=a("vSla")(At,St,!1,function(t){a("0uSW")},"data-v-dd2dfd66",null).exports,Rt={data:function(){return{searchObj:{search:"",province:"",city:"",district:""},sumbitForm:[],project_id:""}},mounted:function(){this.search()},methods:{search:function(){var t=this;return _()(m.a.mark(function e(){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.api.changeProjectList(t.searchObj);case 2:200==(a=e.sent).code&&(t.sumbitForm=a.data);case 4:case"end":return e.stop()}},e,t)}))()},sumbit:function(t){var e=this;return _()(m.a.mark(function a(){return m.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:e.$router.push({name:"projectInfo",params:{project_id:t.project_id}});case 1:case"end":return a.stop()}},a,e)}))()},close:function(){this.$router.push({name:"distribution",params:this.$route.params})}},components:{CitySelector:A}},Ut={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"addPerson"},[a("div",{staticClass:"box"},[a("div",{staticClass:"relative"},[a("city-selector",{staticClass:"selectDis",attrs:{province:t.searchObj.province,city:t.searchObj.city,district:t.searchObj.district},on:{"update:province":function(e){t.$set(t.searchObj,"province",e)},"update:city":function(e){t.$set(t.searchObj,"city",e)},"update:district":function(e){t.$set(t.searchObj,"district",e)}}}),t._v(" "),a("el-input",{staticClass:"query",model:{value:t.searchObj.search,callback:function(e){t.$set(t.searchObj,"search",e)},expression:"searchObj.search"}}),t._v(" "),a("span",{staticClass:"pos-abs"},[a("el-button",{attrs:{icon:"el-icon-search",circle:""},on:{click:t.search}}),t._v(" "),a("el-button",{staticClass:"pos-right",attrs:{type:"primary"},on:{click:t.close}},[t._v("返回")])],1)],1)]),t._v(" "),a("el-table",{attrs:{data:t.sumbitForm,border:""}},[a("el-table-column",{attrs:{property:"id",label:"序号",align:"center",width:"70px"}}),t._v(" "),a("el-table-column",{attrs:{property:"project_name",label:"项目名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"absolute_address",label:"地址",align:"center",width:"320px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.province_name+e.row.city_name+e.row.district_name+e.row.absolute_address))])]}}])}),t._v(" "),a("el-table-column",{attrs:{property:"project_code",label:"项目编号",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"project_hold_name",label:"项目负责人",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"project_hold_phone",label:"联系方式",align:"center",width:"120px"}}),t._v(" "),a("el-table-column",{attrs:{property:"operation",label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{on:{click:function(a){t.sumbit(e.row)}}},[t._v("提交")])]}}])})],1)],1)},staticRenderFns:[]};var Ot=a("vSla")(Rt,Ut,!1,function(t){a("HFYf"),a("phYd")},"data-v-5192fe71",null).exports,It={data:function(){return{submitForm:{province:"",city:"",district:"",project_id:"",auditProject:{},peopleInfo:[],property_tags:[]},project_id:"",typeOptions:[]}},mounted:function(){this.$route.params.project_id?(this.operationType=this.$route.params.operationType,this.project_id=this.$route.params.project_id,this.getProjectDetail(),this.getType()):this.$router.push({name:"startApply"})},methods:{getType:function(){var t=this;return _()(m.a.mark(function e(){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.api.getTags();case 2:200==(a=e.sent).code&&(t.typeOptions=a.data);case 4:case"end":return e.stop()}},e,t)}))()},state:function(t){return 1==t?"正常":0==t?"弃用":2==t?"已转新房":3==t?"已转二手房":void 0},isDisable:function(){return 0==this.operationType},getProjectDetail:function(){var t=this;return _()(m.a.mark(function e(){var a,r,n,i,o,s,l,c,p;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return F()(t.submitForm,t.$route.params.projectInfo),e.next=3,t.api.applyProject({project_id:t.project_id});case 3:if(200!=(a=e.sent).code){e.next=28;break}for(F()(t.submitForm,a.data),r=a.data.property_tags,n=[],i=!0,o=!1,s=void 0,e.prev=11,l=C()(r);!(i=(c=l.next()).done);i=!0)p=c.value,n.push(p.property_tag_id);e.next=19;break;case 15:e.prev=15,e.t0=e.catch(11),o=!0,s=e.t0;case 19:e.prev=19,e.prev=20,!i&&l.return&&l.return();case 22:if(e.prev=22,!o){e.next=25;break}throw s;case 25:return e.finish(22);case 26:return e.finish(19);case 27:t.submitForm.property_tags=n;case 28:case"end":return e.stop()}},e,t,[[11,15,19,27],[20,,22,26]])}))()},search:function(){var t=this;return _()(m.a.mark(function e(){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.api.changeProjectList({project_id:t.submitForm.project_id});case 2:200==(a=e.sent).code&&(t.sumbitForm=a.data);case 4:case"end":return e.stop()}},e,t)}))()},submit:function(){var t=this;return _()(m.a.mark(function e(){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:200==t.api.changeProjectAdd({project_id:t.submitForm.project_id}).code&&t.$router.push({name:"distribution"});case 2:case"end":return e.stop()}},e,t)}))()},cancel:function(){void 0!=this.$route.params.operationType?this.$router.push({name:"distribution"}):this.$router.push({name:"startApply"})}},components:{CitySelector:A}},qt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"projectInfo"},[a("div",{staticClass:"title-text"},[t._v("项目分销详情")]),t._v(" "),a("el-form",{staticClass:"form",attrs:{model:t.submitForm,disabled:t.isDisable()}},[a("div",[a("el-form-item",{staticClass:"input",attrs:{label:"项目编号"}},[a("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入项目编号"},model:{value:t.submitForm.project_code,callback:function(e){t.$set(t.submitForm,"project_code",e)},expression:"submitForm.project_code"}})],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"项目名称"}},[a("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入项目名称"},model:{value:t.submitForm.project_name,callback:function(e){t.$set(t.submitForm,"project_name",e)},expression:"submitForm.project_name"}})],1)],1),t._v(" "),a("div",{staticClass:"text"},[t._v("物业类型")]),t._v(" "),a("el-form-item",{attrs:{prop:"property_tags"}},t._l(t.typeOptions,function(e){return a("el-checkbox",{key:e.param_id,attrs:{label:e.param_id},model:{value:t.submitForm.property_tags,callback:function(e){t.$set(t.submitForm,"property_tags",e)},expression:"submitForm.property_tags"}},[t._v(t._s(e.param))])})),t._v(" "),a("div",{staticClass:"text"},[t._v("现住地址")]),t._v(" "),a("el-form-item",[a("city-selector",{attrs:{province:t.submitForm.province_name,city:t.submitForm.city_name,district:t.submitForm.district_name},on:{"update:province":function(e){t.$set(t.submitForm,"province_name",e)},"update:city":function(e){t.$set(t.submitForm,"city_name",e)},"update:district":function(e){t.$set(t.submitForm,"district_name",e)}}}),t._v(" "),a("el-input",{staticClass:"input1",model:{value:t.submitForm.absolute_address,callback:function(e){t.$set(t.submitForm,"absolute_address",e)},expression:"submitForm.absolute_address"}})],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"项目状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(t.state(t.submitForm.state)))]}}])}),a("br"),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"项目负责人"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.submitForm.project_hold_name,callback:function(e){t.$set(t.submitForm,"project_hold_name",e)},expression:"submitForm.project_hold_name"}})],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"联系电话"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.submitForm.project_hold_phone,callback:function(e){t.$set(t.submitForm,"project_hold_phone",e)},expression:"submitForm.project_hold_phone"}})],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"开发商"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.submitForm.developer_name,callback:function(e){t.$set(t.submitForm,"developer_name",e)},expression:"submitForm.developer_name"}})],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"结佣单位"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.submitForm.statement_company,callback:function(e){t.$set(t.submitForm,"statement_company",e)},expression:"submitForm.statement_company"}})],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"所属单位"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.submitForm.subordinate_company,callback:function(e){t.$set(t.submitForm,"subordinate_company",e)},expression:"submitForm.subordinate_company"}})],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"与项目关系"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.submitForm.company_relation,callback:function(e){t.$set(t.submitForm,"company_relation",e)},expression:"submitForm.company_relation"}})],1)],1),t._v(" "),a("div",{staticClass:"title-text"},[t._v("审核项目信息")]),t._v(" "),a("el-form",{attrs:{model:t.submitForm.auditProject}},[a("div",[a("el-form-item",{staticClass:"input",attrs:{label:"审核人员"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.submitForm.fp_name,callback:function(e){t.$set(t.submitForm,"fp_name",e)},expression:"submitForm.fp_name"}})],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"审核时间"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.submitForm.fp_time,callback:function(e){t.$set(t.submitForm,"fp_time",e)},expression:"submitForm.fp_time"}})],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"审核状态"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.submitForm.state,callback:function(e){t.$set(t.submitForm,"state",e)},expression:"submitForm.state"}})],1),t._v(" "),a("el-form-item",{staticClass:"input",attrs:{label:"备注"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.submitForm.remark,callback:function(e){t.$set(t.submitForm,"remark",e)},expression:"submitForm.remark"}})],1)],1)]),t._v(" "),a("div",{staticClass:"title-text"},[t._v("到访确认人信息")]),t._v(" "),a("el-table",{attrs:{data:t.submitForm.peopleInfo,border:""}},[a("el-table-column",{attrs:{property:"nub",label:"序号",align:"center",width:"70px"}}),t._v(" "),a("el-table-column",{attrs:{property:"company_name",label:"云算号",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"company_relation",label:"名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"s_time",label:"联系方式",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"e_time",label:"所属部门",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"project_hold_name",label:"职位",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"project_hold_phone",label:"入职时间",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"project_hold_phone",label:"申请时间",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"project_hold_phone",label:"审核状态",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"project_hold_phone",label:"分配时间",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"project_hold_phone",label:"工作状态",align:"center"}})],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.cancel}},[t._v("关 闭")]),t._v(" "),a("el-button",{attrs:{type:"primary",disabled:t.isDisable()},on:{click:t.submit}},[t._v("提 交")])],1)],1)},staticRenderFns:[]};var Dt=a("vSla")(It,qt,!1,function(t){a("grOO")},"data-v-7c2a126a",null).exports,Lt={data:function(){return{tableData:[],searchObj:{tag_search:""},dialogFormVisible:!1,refuseInfo:!1,examinePeople:{name:"",role:"",account:"",department:"",position:"",img_url:"",entry_time:"",project_name:"",sex:"",tel:"",birth:"",absolute_address:"",city_name:"",district_name:"",agent_id:null,project_id:null,id:null,remark:""},submitForm:{},remark:"",operationType:0}},mounted:function(){this.getExList()},methods:{showCheck:function(t){this.refuseInfo=!0},check:function(t){var e=this;return _()(m.a.mark(function a(){var r;return m.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(e.submitForm.type=t,r=F()({},e.submitForm),0!=t){a.next=10;break}return r.remark=e.remark,a.next=6,e.api.exPeople(r);case 6:200==a.sent.code&&(e.getExList(),e.cancelRefuseInfo(),e.cancel()),a.next=11;break;case 10:e.$confirm("此操作将审核成功, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(_()(m.a.mark(function t(){return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.$message({type:"success",message:"审核成功!"}),t.next=3,e.api.exPeople(r);case 3:200==t.sent.code&&(e.getExList(),e.cancelRefuseInfo(),e.cancel());case 5:case"end":return t.stop()}},t,e)}))).catch(function(){e.$message({type:"info",message:"已取消审核"})});case 11:case"end":return a.stop()}},a,e)}))()},examine:function(t){var e=this;return _()(m.a.mark(function a(){return m.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e.operationType=0,e.dialogFormVisible=!0,e.examinePeople=t,a.next=5,e.api.getExInfo(e.examinePeople);case 5:200==a.sent.code&&(e.submitForm.project_id=t.project_id,e.submitForm.agent_id=t.agent_id,e.submitForm.id=t.id);case 7:case"end":return a.stop()}},a,e)}))()},showSee:function(t){var e=this;return _()(m.a.mark(function a(){var r;return m.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e.operationType=1,e.dialogFormVisible=!0,F()(e.examinePeople,t),a.next=5,e.api.getRefuseInfo(e.examinePeople);case 5:200==(r=a.sent).code&&(e.examinePeople=r.data);case 7:case"end":return a.stop()}},a,e)}))()},getRole:function(t){return 1==t?"经纪人":2==t?"对接人":void 0},auditingState:function(t){return 0==t?"未通过":2==t?"待审核":void 0},role:function(t){return 1==t?"新房经纪人":2==t?"项目对接人":void 0},sex:function(t){return 1==t?"男":2==t?"女":0==t?"未设置":void 0},cancel:function(){this.dialogFormVisible=!1},cancelRefuseInfo:function(){this.refuseInfo=!1,this.remark=""},getExList:function(){var t=this;return _()(m.a.mark(function e(){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.api.getExList();case 2:((a=e.sent).code=200)&&(t.tableData=a.data.data);case 4:case"end":return e.stop()}},e,t)}))()},search:function(t){this.searchObj.tag_search=t,this.getExList()}}},Bt={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"examinePeople"},[r("div",{staticClass:"title"},[r("div",{staticClass:"left"},[r("div",{staticClass:"text1"},[t._v("当前位置：审核经纪人")]),t._v(" "),r("div",{staticClass:"left"},[r("el-button",{staticClass:"tip",attrs:{type:"text"},on:{click:function(e){t.search(1)}}},[t._v("全部")]),t._v(" "),r("el-button",{staticClass:"tip",attrs:{type:"text"},on:{click:function(e){t.search(2)}}},[t._v("待审核")]),t._v(" "),r("el-button",{staticClass:"tip",attrs:{type:"text"},on:{click:function(e){t.search(0)}}},[t._v("审核未通过")]),t._v(" "),r("div",{staticClass:"search-block"},[r("el-input",{staticClass:"query"}),t._v(" "),r("el-button",{attrs:{icon:"el-icon-search",circle:""}})],1)],1)])]),t._v(" "),[r("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[r("el-table-column",{attrs:{prop:"",label:"序号",align:"center",width:"80px"}}),t._v(" "),r("el-table-column",{attrs:{prop:"account",label:"云算号",align:"center",width:"110px"}}),t._v(" "),r("el-table-column",{attrs:{prop:"name",label:"名称",align:"center"}}),t._v(" "),r("el-table-column",{attrs:{prop:"project_name",label:"申请项目",align:"center"}}),t._v(" "),r("el-table-column",{attrs:{prop:"role",label:"角色",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.getRole(e.row.role)))]}}])}),t._v(" "),r("el-table-column",{attrs:{prop:"department",label:"所属部门",align:"center"}}),t._v(" "),r("el-table-column",{attrs:{prop:"position",label:"职位",align:"center"}}),t._v(" "),r("el-table-column",{attrs:{prop:"city_name",label:"城市",align:"center"}}),t._v(" "),r("el-table-column",{attrs:{prop:"district_name",label:"区域",align:"center"}}),t._v(" "),r("el-table-column",{attrs:{prop:"tel",label:"联系方式",align:"center",width:"120px"}}),t._v(" "),r("el-table-column",{attrs:{prop:"state",label:"审核状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.auditingState(e.row.state)))]}}])}),t._v(" "),r("el-table-column",{attrs:{prop:"remark",label:"备注",align:"center",width:"200px"}}),t._v(" "),r("el-table-column",{attrs:{prop:"entry_time",label:"申请时间",align:"center"}}),t._v(" "),r("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[2==e.row.state?r("el-button",{attrs:{type:"text"},on:{click:function(a){t.examine(e.row)}}},[t._v("审核")]):t._e(),t._v(" "),0==e.row.state?r("el-button",{attrs:{type:"text"},on:{click:function(a){t.showSee(e.row)}}},[t._v("查看")]):t._e()]}}])})],1),t._v(" "),r("el-dialog",{staticClass:"dialog",attrs:{title:"审核",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e},close:t.cancel}},[r("div",{staticClass:"btn"},[0==t.operationType?r("el-button",{attrs:{type:"primary"},on:{click:function(e){t.check(1)}}},[t._v("审核通过")]):t._e(),t._v(" "),0==t.operationType?r("el-button",{attrs:{type:"primary"},on:{click:function(e){t.showCheck(0)}}},[t._v("审核不通过")]):t._e(),t._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:t.cancel}},[t._v("关闭")])],1),t._v(" "),r("div",{staticClass:"num_set"},[t._v("员工信息")]),t._v(" "),r("el-form",{model:{value:t.examinePeople,callback:function(e){t.examinePeople=e},expression:"examinePeople"}},[r("el-form-item",{staticClass:"input1"},[r("div",[t._v("姓名")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.name))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("角色")]),t._v(" "),r("div",{staticClass:"border"},[t._v("\n            "+t._s(t.role(t.examinePeople.role))+"\n          ")])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("云算号")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.account))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("所属部门")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.department))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("职位")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.position))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("工牌照片")]),t._v(" "),r("div",{staticClass:"border  img"},[r("img",{attrs:{src:a("QKcC")}})])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("申请时间")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.entry_time))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("申请项目")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.project_name))])]),t._v(" "),r("div",{staticClass:"num_set"},[t._v("基础信息")]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("性别")]),t._v(" "),r("div",{staticClass:"border"},[t._v("\n            "+t._s(t.sex(t.examinePeople.sex))+"\n          ")])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("电话号码")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.tel))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("出生年月")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.birth))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("通讯地址")]),t._v(" "),r("div",{staticClass:"border width"},[t._v(t._s(t.examinePeople.city_name+t.examinePeople.district_name+t.examinePeople.absolute_address))])]),t._v(" "),r("div",{staticClass:"num_set"},[t._v("审核信息")]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("审核状态")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.auditingState(t.examinePeople.state)))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("审核人员")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.auditing_name))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("审核时间")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.auditing_time))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("备注")]),t._v(" "),r("div",{staticClass:"border height"},[t._v(t._s(t.examinePeople.remark))])])],1)],1),t._v(" "),r("el-dialog",{staticClass:"dialog",attrs:{title:"拒绝",visible:t.refuseInfo},on:{"update:visible":function(e){t.refuseInfo=e},close:t.cancelRefuseInfo}},[r("el-form",[r("el-form-item",{attrs:{label:"审核不通过原因"}},[r("el-input",{staticClass:"textarea",attrs:{type:"textarea"},model:{value:t.remark,callback:function(e){t.remark=e},expression:"remark"}})],1)],1),t._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:t.cancelRefuseInfo}},[t._v("取 消")]),t._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:function(e){t.check(0)}}},[t._v("确 定")])],1)],1)]],2)},staticRenderFns:[]};var Et=a("vSla")(Lt,Bt,!1,function(t){a("x6p7"),a("+aqN")},"data-v-28908b6e",null).exports,Vt={data:function(){return{tableData:[],dialogFormVisible:!1,examinePeople:{name:"",role:"",account:"",department:"",position:"",img_url:"",entry_time:"",project_name:"",sex:"",tel:"",birth:"",absolute_address:"",slef_desc:"",bank_card:"",bank_name:"",card_url:"",id_card:"",quit:{his_id:"",auth_id:"",create_time:"",type:"",remark:""}}}},mounted:function(){this.getQuitList()},methods:{getRole:function(t){return 1==t?"经纪人":2==t?"对接人":void 0},showSee:function(t){var e=this;return _()(m.a.mark(function a(){var r;return m.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e.dialogFormVisible=!0,F()(e.examinePeople,t),e.examinePeople.agent_id=t.agent_id,a.next=5,e.api.getQuitInfo(e.examinePeople);case 5:200==(r=a.sent).code&&(e.examinePeople=r.data);case 7:case"end":return a.stop()}},a,e)}))()},auditingState:function(t){return 0==t?"未通过":2==t?"待审核":void 0},role:function(t){return 1==t?"新房经纪人":2==t?"项目对接人":void 0},sex:function(t){return 1==t?"男":2==t?"女":0==t?"未设置":void 0},cancel:function(){this.dialogFormVisible=!1},getQuitList:function(){var t=this;return _()(m.a.mark(function e(){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.api.getQuitList();case 2:((a=e.sent).code=200)&&(t.tableData=a.data.data);case 4:case"end":return e.stop()}},e,t)}))()}}},Mt={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"quitPeople"},[r("div",{staticClass:"title"},[r("div",{staticClass:"left"},[r("div",{staticClass:"text1"},[t._v("当前位置：离职经纪人")]),t._v(" "),r("div",{staticClass:"search-block"},[r("el-input",{staticClass:"query"}),t._v(" "),r("el-button",{attrs:{icon:"el-icon-search",circle:""}})],1)])]),t._v(" "),[r("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[r("el-table-column",{attrs:{prop:"",label:"序号",align:"center",width:"80px"}}),t._v(" "),r("el-table-column",{attrs:{prop:"account",label:"云算号",align:"center",width:"110px"}}),t._v(" "),r("el-table-column",{attrs:{prop:"name",label:"名称",align:"center"}}),t._v(" "),r("el-table-column",{attrs:{prop:"tel",label:"联系方式",align:"center",width:"120px"}}),t._v(" "),r("el-table-column",{attrs:{prop:"project_name",label:"申请项目",align:"center"}}),t._v(" "),r("el-table-column",{attrs:{prop:"role",label:"角色",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.getRole(e.row.role)))]}}])}),t._v(" "),r("el-table-column",{attrs:{prop:"department",label:"所属部门",align:"center"}}),t._v(" "),r("el-table-column",{attrs:{prop:"position",label:"职位",align:"center"}}),t._v(" "),r("el-table-column",{attrs:{prop:"city",label:"城市",align:"center"}}),t._v(" "),r("el-table-column",{attrs:{prop:"district",label:"区域",align:"center"}}),t._v(" "),r("el-table-column",{attrs:{prop:"entry_time",label:"入职时间",align:"center",width:"100px"}}),t._v(" "),r("el-table-column",{attrs:{prop:"create_time",label:"离职时间",align:"center",width:"100px"}}),t._v(" "),r("el-table-column",{attrs:{prop:"remark",label:"离职原因",align:"center",width:"200px"}}),t._v(" "),r("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-button",{attrs:{type:"text"},on:{click:function(a){t.showSee(e.row)}}},[t._v("查看")])]}}])})],1),t._v(" "),r("el-dialog",{staticClass:"dialog",attrs:{title:"查看",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e},close:t.cancel}},[r("div",{staticClass:"btn"},[r("el-button",{attrs:{type:"primary"},on:{click:t.cancel}},[t._v("关闭")])],1),t._v(" "),r("div",{staticClass:"num_set"},[t._v("员工信息")]),t._v(" "),r("el-form",{model:{value:t.examinePeople,callback:function(e){t.examinePeople=e},expression:"examinePeople"}},[r("el-form-item",{staticClass:"input1"},[r("div",[t._v("姓名")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.name))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("角色")]),t._v(" "),r("div",{staticClass:"border"},[t._v("\n            "+t._s(t.role(t.examinePeople.role))+"\n          ")])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("云算号")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.account))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("所属部门")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.department))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("职位")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.position))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("工牌照片")]),t._v(" "),r("div",{staticClass:"border  img"},[r("img",{attrs:{src:a("QKcC")}})])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("入职时间")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.entry_time))])]),t._v(" "),r("div",{staticClass:"num_set"},[t._v("基础信息")]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("性别")]),t._v(" "),r("div",{staticClass:"border"},[t._v("\n            "+t._s(t.sex(t.examinePeople.sex))+"\n          ")])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("电话号码")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.tel))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("出生年月")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.birth))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("通讯地址")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.city_name+t.examinePeople.district_name+t.examinePeople.absolute_address))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("身份证")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.id_card))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("证件照片")]),t._v(" "),r("div",{staticClass:"border  img"},[r("img",{attrs:{src:a("7VeV")}})])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("绑定银行")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.bank_name))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("银行卡号")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.bank_card))])]),t._v(" "),r("el-form-item",{staticClass:"input2"},[r("div",[t._v("个人介绍")]),t._v(" "),r("div",{staticClass:"border height"},[t._v(t._s(t.examinePeople.slef_desc))])]),t._v(" "),r("div",{staticClass:"num_set"},[t._v("离职信息")]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("离职时间")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.quit?t.examinePeople.quit.create_time:""))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("离职类型")]),t._v(" "),r("div",{staticClass:"border"},[t._v(t._s(t.examinePeople.quit?t.examinePeople.quit.type:""))])]),t._v(" "),r("el-form-item",{staticClass:"input1"},[r("div",[t._v("备注")]),t._v(" "),r("div",{staticClass:"border height"},[t._v(t._s(t.examinePeople.quit?t.examinePeople.quit.remark:""))])])],1)],1)]],2)},staticRenderFns:[]};var Qt=a("vSla")(Vt,Mt,!1,function(t){a("GkLl"),a("rOHG")},"data-v-098f5458",null).exports;r.default.use(o.a);var Zt=new o.a({base:"/admin/conpany/admin_conpany_show",routes:[{path:"/",name:"login",component:b},{path:"/project",component:p,children:[{path:"",name:"project",component:y},{path:"/addProject",name:"addProject",component:R},{path:"/reCreateProject",name:"reCreateProject",component:I},{path:"/requestRefund",name:"requestRefund",component:L},{path:"/payRecord",name:"payRecord",component:V},{path:"/refundInfo",name:"refundInfo",component:Z}]},{path:"/agent",component:p,children:[{path:"",name:"agent",component:Y},{path:"/examinePeople",name:"examinePeople",component:Et},{path:"/quitPeople",name:"quitPeople",component:Qt}]},{path:"/commission",component:p,children:[{path:"",name:"commission",component:W},{path:"companyPrice",name:"companyPrice",component:z},{path:"personPrice",name:"personPrice",component:et},{path:"companyPriceInfo",name:"companyPriceInfo",component:nt}]},{path:"/distri_commission",component:p,children:[{path:"",name:"distri_commission",component:st},{path:"maidInfo",name:"maidInfo",component:pt},{path:"commissionApply",name:"commissionApply",component:dt},{path:"updateCommission",name:"updateCommission",component:ft},{path:"requestPayment",name:"requestPayment",component:gt}]},{path:"/distribution",component:p,children:[{path:"",name:"distribution",component:Ct},{path:"/fastDistribution",name:"fastDistribution",component:jt},{path:"/addPerson",name:"addPerson",component:Pt},{path:"/choicePeople",name:"choicePeople",component:Tt},{path:"/startApply",name:"startApply",component:Ot},{path:"/projectInfo",name:"projectInfo",component:Dt}]}]}),Nt=a("uNf3"),Ht=a.n(Nt),Yt=a("aozt"),Gt=a.n(Yt),Jt=a("6iV/"),Wt=a.n(Jt),Kt="http://120.27.21.136:2798",Xt=function(t){return function(e){return e?Gt.a.post(Kt+"/"+t,Wt.a.stringify(e)):Gt.a.post(Kt+"/"+t)}},zt=function(t){return function(e){return e?Gt.a.get(Kt+"/"+t,{params:e}):Gt.a.get(Kt+"/"+t)}};Gt.a.interceptors.response.use(function(t){return t.data}),Gt.a.interceptors.request.use(function(t){var e=localStorage.getItem("token");return""!=e&&(t.headers["ACCESS-ROLE"]="company",t.headers["ACCESS-TOKEN"]=e),t});var te={gitCode:Xt("company/user/login"),updateAdminState:zt("company/project/updateAdminState"),getProvinceList:zt("getProvinceList"),getCityList:zt("getCityList"),getDistrictList:zt("getDistrictList"),getCreateProject:Xt("company/project/createProject"),getProjectList:zt("company/project/getProjectList"),uploadProjectAgreement:function(t){return function(t,e){return Gt.a.post(Kt+"/"+t,e,{headers:{"Content-Type":"multipart/form-data"}})}("company/project/uploadProjectAgreement",t)},getUpdateProjectAdmin:zt("company/project/updateProjectAdmin"),updateProjectAdmin:Xt("company/project/updateProjectAdmin"),addProjectAdmin:Xt("company/project/addProjectAdmin"),getProjectInfo:zt("company/project/getProjectInfo"),getTags:zt("company/project/getProperty_tags"),getUpdateProject:Xt("company/project/updateProject"),reCreateProject:Xt("company/project/reCreateProject"),getBack:zt("company/project/getBack"),getBusinessInfo:zt("company/project/getBusinessInfo"),getRefund:Xt("company/project/refund"),getList:zt("company/distribution/getList"),applyProject:zt("company/distribution/applyProject"),getAgent:zt("company/distribution/getAgent"),getAgentInfo:zt("company/distribution/getAgentInfo"),endAgent:zt("company/distribution/endAgent"),exAgent:Xt("company/distribution/exAgent"),agentList:zt("company/distribution/addAgent"),agentAdd:Xt("company/distribution/addAgent"),changeProjectList:zt("company/distribution/changeProject"),changeProjectAdd:Xt("company/distribution/changeProject"),exPeople:Xt("company/CompanyAgent/ex"),quitPeople:Xt("company/CompanyAgent/quit"),getExList:zt("company/CompanyAgent/getExList"),getQuitList:zt("company/CompanyAgent/getQuitList"),getPayrollList:zt("company/CompanyAgent/getPayrollList"),getExInfo:zt("company/CompanyAgent/getExInfo"),getQuitInfo:zt("company/CompanyAgent/getQuitInfo"),getPayrollInfo:zt("company/CompanyAgent/getPayrollInfo"),getRefuseInfo:zt("company/CompanyAgent/getRefuseInfo"),getProjectCommissionList:zt("company/projectCommission/getList"),getCompanyY:zt("company/projectCommission/getCompanyY"),getCompanyAllInfo:zt("company/projectCommission/getCompanyAllInfo"),getCompanyAll:zt("company/projectCommission/getCompanyAll"),getDistributionList:zt("company/DistributionCommission/getList"),getBrokerApply:zt("company/DistributionCommission/brokerApply"),brokerApply:Xt("company/DistributionCommission/brokerApply"),seeCommissionList:zt("company/DistributionCommission/brokerList"),updateBroker:zt("company/DistributionCommission/updateBroker"),getBrokerInfo:zt("company/DistributionCommission/getBrokerInfo"),updateBrokerSumbit:Xt("company/DistributionCommission/updateBroker"),getPriceApply:zt("company/DistributionCommission/priceApply"),priceApplySumbit:Xt("company/DistributionCommission/priceApply"),delBroker:zt("company/DistributionCommission/delBroker")};a("Xcu2");r.default.use(Ht.a),r.default.config.productionTip=!1,r.default.prototype.api=te,new r.default({el:"#app",router:Zt,components:{App:i},template:"<App/>"})},ON4U:function(t,e){},QKcC:function(t,e,a){t.exports=a.p+"static/img/head.0218365.png"},Qb6X:function(t,e){},UO9V:function(t,e){},WpJ6:function(t,e){},Xcu2:function(t,e){},YAG7:function(t,e){},YbqS:function(t,e){},ZUTU:function(t,e){},ZW9U:function(t,e){},eA5Z:function(t,e){},euJt:function(t,e){},faAr:function(t,e){},gnyh:function(t,e){},grOO:function(t,e){},lZQ0:function(t,e){},nbzS:function(t,e){},phYd:function(t,e){},pxEh:function(t,e){},q8eZ:function(t,e){},qzQH:function(t,e){},rOHG:function(t,e){},re0G:function(t,e){},sbdS:function(t,e){},"wJu+":function(t,e){},wwKk:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAIAAAAVCAYAAABsZT8HAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAaSURBVBhXY7h+/fp/BiBgAhEgMPgZUMDAAACe+wOrgyQ+QQAAAABJRU5ErkJggg=="},x6p7:function(t,e){},xAq9:function(t,e){},ybhN:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.121a72622585dba74fd9.js.map